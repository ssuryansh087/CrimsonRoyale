/*! For license information please see main.96c41e9e.js.LICENSE.txt */
(()=>{var e={5552:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Composite:()=>Vt,CompositeItem:()=>zt,FloatingArrow:()=>Gt,FloatingDelayGroup:()=>hn,FloatingFocusManager:()=>qn,FloatingList:()=>Ot,FloatingNode:()=>tn,FloatingOverlay:()=>Wn,FloatingPortal:()=>Ln,FloatingTree:()=>nn,arrow:()=>Ue,autoPlacement:()=>Pe,autoUpdate:()=>De,computePosition:()=>je,detectOverflow:()=>ce,flip:()=>Ae,getOverflowAncestors:()=>S,hide:()=>Oe,inline:()=>Le,inner:()=>Sr,limitShift:()=>Fe,offset:()=>fe,platform:()=>Ce,safePolygon:()=>Er,shift:()=>Ne,size:()=>Me,useClick:()=>Gn,useClientPoint:()=>Xn,useDelayGroup:()=>fn,useDelayGroupContext:()=>dn,useDismiss:()=>er,useFloating:()=>tr,useFloatingNodeId:()=>en,useFloatingParentNodeId:()=>$t,useFloatingPortalNode:()=>Rn,useFloatingTree:()=>Zt,useFocus:()=>nr,useHover:()=>ln,useId:()=>Kt,useInnerOffset:()=>kr,useInteractions:()=>ar,useListItem:()=>Rt,useListNavigation:()=>hr,useMergeRefs:()=>ft,useRole:()=>pr,useTransitionStatus:()=>vr,useTransitionStyles:()=>yr,useTypeahead:()=>wr});var r=n(5043),i=n.t(r,2);function o(e){return l(e)?(e.nodeName||"").toLowerCase():"#document"}function a(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function s(e){var t;return null==(t=(l(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function l(e){return e instanceof Node||e instanceof a(e).Node}function c(e){return e instanceof Element||e instanceof a(e).Element}function u(e){return e instanceof HTMLElement||e instanceof a(e).HTMLElement}function d(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof a(e).ShadowRoot)}function h(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=v(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function f(e){return["table","td","th"].includes(o(e))}function p(e){const t=m(),n=v(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function m(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function g(e){return["html","body","#document"].includes(o(e))}function v(e){return a(e).getComputedStyle(e)}function y(e){return c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function w(e){if("html"===o(e))return e;const t=e.assignedSlot||e.parentNode||d(e)&&e.host||s(e);return d(t)?t.host:t}function b(e){const t=w(e);return g(t)?e.ownerDocument?e.ownerDocument.body:e.body:u(t)&&h(t)?t:b(t)}function S(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=b(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=a(i);return o?t.concat(s,s.visualViewport||[],h(i)?i:[],s.frameElement&&n?S(s.frameElement):[]):t.concat(i,S(i,[],n))}function k(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function _(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&d(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function E(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function I(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function x(e){return!(0!==e.mozInputSource||!e.isTrusted)||(D()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function T(e){return!I().includes("jsdom/")&&(!D()&&0===e.width&&0===e.height||D()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function C(){return/apple/i.test(navigator.vendor)}function D(){const e=/android/i;return e.test(E())||e.test(I())}function P(){return E().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function N(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function A(e){return(null==e?void 0:e.ownerDocument)||document}function M(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function O(e){return"composedPath"in e?e.composedPath()[0]:e.target}const R="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function L(e){return u(e)&&e.matches(R)}function F(e){e.preventDefault(),e.stopPropagation()}function j(e){return!!e&&("combobox"===e.getAttribute("role")&&L(e))}const B=["top","right","bottom","left"],U=["start","end"],V=B.reduce(((e,t)=>e.concat(t,t+"-"+U[0],t+"-"+U[1])),[]),z=Math.min,q=Math.max,Y=Math.round,W=Math.floor,H=e=>({x:e,y:e}),K={left:"right",right:"left",bottom:"top",top:"bottom"},G={start:"end",end:"start"};function Q(e,t,n){return q(e,z(t,n))}function X(e,t){return"function"===typeof e?e(t):e}function J(e){return e.split("-")[0]}function $(e){return e.split("-")[1]}function Z(e){return"x"===e?"y":"x"}function ee(e){return"y"===e?"height":"width"}function te(e){return["top","bottom"].includes(J(e))?"y":"x"}function ne(e){return Z(te(e))}function re(e,t,n){void 0===n&&(n=!1);const r=$(e),i=ne(e),o=ee(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=oe(a)),[a,oe(a)]}function ie(e){return e.replace(/start|end/g,(e=>G[e]))}function oe(e){return e.replace(/left|right|bottom|top/g,(e=>K[e]))}function ae(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function se(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function le(e,t,n){let{reference:r,floating:i}=e;const o=te(t),a=ne(t),s=ee(a),l=J(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch($(t)){case"start":f[a]-=h*(n&&c?-1:1);break;case"end":f[a]+=h*(n&&c?-1:1)}return f}async function ce(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=X(t,e),p=ae(f),m=s[h?"floating"===d?"reference":"floating":d],g=se(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{...a.floating,x:r,y:i}:a.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),w=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=se(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/w.y,bottom:(b.bottom-g.bottom+p.bottom)/w.y,left:(g.left-b.left+p.left)/w.x,right:(b.right-g.right+p.right)/w.x}}function ue(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function de(e){return B.some((t=>e[t]>=0))}function he(e){const t=z(...e.map((e=>e.left))),n=z(...e.map((e=>e.top)));return{x:t,y:n,width:q(...e.map((e=>e.right)))-t,height:q(...e.map((e=>e.bottom)))-n}}const fe=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=J(n),s=$(n),l="y"===te(n),c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=X(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}};function pe(e){const t=v(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=u(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Y(n)!==o||Y(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function me(e){return c(e)?e:e.contextElement}function ge(e){const t=me(e);if(!u(t))return H(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=pe(t);let a=(o?Y(n.width):n.width)/r,s=(o?Y(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const ve=H(0);function ye(e){const t=a(e);return m()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ve}function we(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=me(e);let s=H(1);t&&(r?c(r)&&(s=ge(r)):s=ge(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==a(e))&&t}(o,n,r)?ye(o):H(0);let u=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,h=i.width/s.x,f=i.height/s.y;if(o){const e=a(o),t=r&&c(r)?a(r):r;let n=e,i=n.frameElement;for(;i&&r&&t!==n;){const e=ge(i),t=i.getBoundingClientRect(),r=v(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,d*=e.y,h*=e.x,f*=e.y,u+=o,d+=s,n=a(i),i=n.frameElement}}return se({width:h,height:f,x:u,y:d})}const be=[":popover-open",":modal"];function Se(e){return be.some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function ke(e){return we(s(e)).left+y(e).scrollLeft}function _e(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=a(e),r=s(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,u=0;if(i){o=i.width,l=i.height;const e=m();(!e||e&&"fixed"===t)&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:l,x:c,y:u}}(e,n);else if("document"===t)r=function(e){const t=s(e),n=y(e),r=e.ownerDocument.body,i=q(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=q(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+ke(e);const l=-n.scrollTop;return"rtl"===v(r).direction&&(a+=q(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}(s(e));else if(c(t))r=function(e,t){const n=we(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=u(e)?ge(e):H(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=ye(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return se(r)}function Ee(e,t){const n=w(e);return!(n===t||!c(n)||g(n))&&("fixed"===v(n).position||Ee(n,t))}function Ie(e,t,n){const r=u(t),i=s(t),a="fixed"===n,l=we(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=H(0);if(r||!r&&!a)if(("body"!==o(t)||h(i))&&(c=y(t)),r){const e=we(t,!0,a,t);d.x=e.x+t.clientLeft,d.y=e.y+t.clientTop}else i&&(d.x=ke(i));return{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function xe(e,t){return u(e)&&"fixed"!==v(e).position?t?t(e):e.offsetParent:null}function Te(e,t){const n=a(e);if(!u(e)||Se(e))return n;let r=xe(e,t);for(;r&&f(r)&&"static"===v(r).position;)r=xe(r,t);return r&&("html"===o(r)||"body"===o(r)&&"static"===v(r).position&&!p(r))?n:r||function(e){let t=w(e);for(;u(t)&&!g(t);){if(p(t))return t;t=w(t)}return null}(e)||n}const Ce={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,l=s(r),c=!!t&&Se(t.floating);if(r===l||c&&a)return n;let d={scrollLeft:0,scrollTop:0},f=H(1);const p=H(0),m=u(r);if((m||!m&&!a)&&(("body"!==o(r)||h(l))&&(d=y(r)),u(r))){const e=we(r);f=ge(r),p.x=e.x+r.clientLeft,p.y=e.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x,y:n.y*f.y-d.scrollTop*f.y+p.y}},getDocumentElement:s,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=S(e,[],!1).filter((e=>c(e)&&"body"!==o(e))),i=null;const a="fixed"===v(e).position;let s=a?w(e):e;for(;c(s)&&!g(s);){const t=v(s),n=p(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||h(s)&&!n&&Ee(e,s))?r=r.filter((e=>e!==s)):i=t,s=w(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],l=a.reduce(((e,n)=>{const r=_e(t,n,i);return e.top=q(r.top,e.top),e.right=z(r.right,e.right),e.bottom=z(r.bottom,e.bottom),e.left=q(r.left,e.left),e}),_e(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Te,getElementRects:async function(e){const t=this.getOffsetParent||Te,n=this.getDimensions;return{reference:Ie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=pe(e);return{width:t,height:n}},getScale:ge,isElement:c,isRTL:function(e){return"rtl"===v(e).direction}};function De(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,u=me(e),d=i||o?[...u?S(u):[],...S(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const h=u&&l?function(e,t){let n,r=null;const i=s(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;const f={rootMargin:-W(u)+"px "+-W(i.clientWidth-(c+d))+"px "+-W(i.clientHeight-(u+h))+"px "+-W(c)+"px",threshold:q(0,z(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}p=!1}try{r=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(g){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),o}(u,n):null;let f,p=-1,m=null;a&&(m=new ResizeObserver((e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=m)||e.observe(t)}))),n()})),u&&!c&&m.observe(u),m.observe(t));let g=c?we(e):null;return c&&function t(){const r=we(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||n();g=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const Pe=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:o,middlewareData:a,placement:s,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:h=V,autoAlignment:f=!0,...p}=X(e,t),m=void 0!==d||h===V?function(e,t,n){return(e?[...n.filter((t=>$(t)===e)),...n.filter((t=>$(t)!==e))]:n.filter((e=>J(e)===e))).filter((n=>!e||$(n)===e||!!t&&ie(n)!==n))}(d||null,f,h):h,g=await ce(t,p),v=(null==(n=a.autoPlacement)?void 0:n.index)||0,y=m[v];if(null==y)return{};const w=re(y,o,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(s!==y)return{reset:{placement:m[0]}};const b=[g[J(y)],g[w[0]],g[w[1]]],S=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:y,overflows:b}],k=m[v+1];if(k)return{data:{index:v+1,overflows:S},reset:{placement:k}};const _=S.map((e=>{const t=$(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),E=(null==(i=_.filter((e=>e[2].slice(0,$(e[0])?2:3).every((e=>e<=0))))[0])?void 0:i[0])||_[0][0];return E!==s?{data:{index:v+1,overflows:S},reset:{placement:E}}:{}}}},Ne=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=X(e,t),c={x:n,y:r},u=await ce(t,l),d=te(J(i)),h=Z(d);let f=c[h],p=c[d];if(o){const e="y"===h?"bottom":"right";f=Q(f+u["y"===h?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";p=Q(p+u["y"===d?"top":"left"],p,p-u[e])}const m=s.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Ae=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=X(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=J(i),y=J(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),b=h||(y||!m?[oe(s)]:function(e){const t=oe(e);return[ie(e),t,ie(t)]}(s));h||"none"===p||b.push(...function(e,t,n,r){const i=$(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}(J(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(ie)))),o}(s,m,p,w));const S=[s,...b],k=await ce(t,g),_=[];let E=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&_.push(k[v]),d){const e=re(i,a,w);_.push(k[e[0]],k[e[1]])}if(E=[...E,{placement:i,overflows:_}],!_.every((e=>e<=0))){var I,x;const e=((null==(I=o.flip)?void 0:I.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(x=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:x.placement;if(!n)switch(f){case"bestFit":{var T;const e=null==(T=E.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},Me=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:a=(()=>{}),...s}=X(e,t),l=await ce(t,s),c=J(n),u=$(n),d="y"===te(n),{width:h,height:f}=r.floating;let p,m;"top"===c||"bottom"===c?(p=c,m=u===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=c,p="end"===u?"top":"bottom");const g=f-l[p],v=h-l[m],y=!t.middlewareData.shift;let w=g,b=v;if(d){const e=h-l.left-l.right;b=u||y?z(v,e):e}else{const e=f-l.top-l.bottom;w=u||y?z(g,e):e}if(y&&!u){const e=q(l.left,0),t=q(l.right,0),n=q(l.top,0),r=q(l.bottom,0);d?b=h-2*(0!==e||0!==t?e+t:q(l.left,l.right)):w=f-2*(0!==n||0!==r?n+r:q(l.top,l.bottom))}await a({...t,availableWidth:b,availableHeight:w});const S=await i.getDimensions(o.floating);return h!==S.width||f!==S.height?{reset:{rects:!0}}:{}}}},Oe=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=X(e,t);switch(r){case"referenceHidden":{const e=ue(await ce(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:de(e)}}}case"escaped":{const e=ue(await ce(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:de(e)}}}default:return{}}}}},Re=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=X(e,t)||{};if(null==c)return{};const d=ae(u),h={x:n,y:r},f=ne(i),p=ee(f),m=await a.getDimensions(c),g="y"===f,v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=o.reference[p]+o.reference[f]-h[f]-o.floating[p],S=h[f]-o.reference[f],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let _=k?k[w]:0;_&&await(null==a.isElement?void 0:a.isElement(k))||(_=s.floating[w]||o.floating[p]);const E=b/2-S/2,I=_/2-m[p]/2-1,x=z(d[v],I),T=z(d[y],I),C=x,D=_-m[p]-T,P=_/2-m[p]/2+E,N=Q(C,P,D),A=!l.arrow&&null!=$(i)&&P!==N&&o.reference[p]/2-(P<C?x:T)-m[p]/2<0,M=A?P<C?P-C:P-D:0;return{[f]:h[f]+M,data:{[f]:N,centerOffset:P-N-M,...A&&{alignmentOffset:M}},reset:A}}}),Le=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:a}=t,{padding:s=2,x:l,y:c}=X(e,t),u=Array.from(await(null==o.getClientRects?void 0:o.getClientRects(r.reference))||[]),d=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let r=null;for(let i=0;i<t.length;i++){const e=t[i];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map((e=>se(he(e))))}(u),h=se(he(u)),f=ae(s);const p=await o.getElementRects({reference:{getBoundingClientRect:function(){if(2===d.length&&d[0].left>d[1].right&&null!=l&&null!=c)return d.find((e=>l>e.left-f.left&&l<e.right+f.right&&c>e.top-f.top&&c<e.bottom+f.bottom))||h;if(d.length>=2){if("y"===te(n)){const e=d[0],t=d[d.length-1],r="top"===J(n),i=e.top,o=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:i,bottom:o,left:a,right:s,width:s-a,height:o-i,x:a,y:i}}const e="left"===J(n),t=q(...d.map((e=>e.right))),r=z(...d.map((e=>e.left))),i=d.filter((n=>e?n.left===r:n.right===t)),o=i[0].top,a=i[i.length-1].bottom;return{top:o,bottom:a,left:r,right:t,width:t-r,height:a-o,x:r,y:o}}return h}},floating:r.floating,strategy:a});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},Fe=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=X(e,t),u={x:n,y:r},d=te(i),h=Z(d);let f=u[h],p=u[d];const m=X(s,t),g="number"===typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,n=o.reference[h]+o.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var v,y;const e="y"===h?"width":"height",t=["top","left"].includes(J(i)),n=o.reference[d]-o.floating[e]+(t&&(null==(v=a.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[h]:f,[d]:p}}}},je=(e,t,n)=>{const r=new Map,i={platform:Ce,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=le(c,r,l),h=r,f={},p=0;for(let m=0;m<s.length;m++){const{name:n,fn:o}=s[m],{x:g,y:v,data:y,reset:w}=await o({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,f={...f,[n]:{...f[n],...y}},w&&p<=50&&(p++,"object"===typeof w&&(w.placement&&(h=w.placement),w.rects&&(c=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:d}=le(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})};var Be=n(7950);const Ue=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?Re({element:n.current,padding:r}).fn(t):{}:n?Re({element:n,padding:r}).fn(t):{};var i}});var Ve="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function ze(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!ze(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!ze(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function qe(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ye(e,t){const n=qe(e);return Math.round(t*n)/n}function We(e){const t=r.useRef(e);return Ve((()=>{t.current=e})),t}var He=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ke=He.join(","),Ge="undefined"===typeof Element,Qe=Ge?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xe=!Ge&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},Je=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},$e=function(e,t,n){if(Je(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Ke));return t&&Qe.call(e,Ke)&&r.unshift(e),r=r.filter(n)},Ze=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!Je(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else{Qe.call(a,Ke)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var c=a.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(a),u=!Je(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&u){var d=e(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},et=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},tt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!et(e)?0:e.tabIndex},nt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},rt=function(e){return"INPUT"===e.tagName},it=function(e){return function(e){return rt(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Xe(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},ot=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},at=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=Qe.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Qe.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return ot(e)}else{if("function"===typeof r){for(var o=e;e;){var a=e.parentElement,s=Xe(e);if(a&&!a.shadowRoot&&!0===r(a))return ot(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&Xe(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var l,c,u;s=!(null===(c=a=null===(l=o=Xe(a))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},st=function(e,t){return!(t.disabled||Je(t)||function(e){return rt(e)&&"hidden"===e.type}(t)||at(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Qe.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},lt=function(e,t){return!(it(t)||tt(t)<0||!st(e,t))},ct=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ut=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=function(e,t){var n=tt(e);return n<0&&t&&!et(e)?0:n}(a,o),l=o?e(t.candidates):a;0===s?o?n.push.apply(n,l):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:l})})),r.sort(nt).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},dt=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Ze([e],t.includeContainer,{filter:lt.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ct}):$e(e,t.includeContainer,lt.bind(null,t)),ut(n)},ht=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Qe.call(e,Ke)&&lt(t,e)};function ft(e){return r.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}),e)}const pt=i["useInsertionEffect".toString()]||(e=>e());function mt(e){const t=r.useRef((()=>{0}));return pt((()=>{t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const gt="ArrowUp",vt="ArrowDown",yt="ArrowLeft",wt="ArrowRight";function bt(e,t,n){return Math.floor(e/t)!==n}function St(e,t){return t<0||t>=e.current.length}function kt(e,t){return Et(e,{disabledIndices:t})}function _t(e,t){return Et(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Et(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=void 0===t?{}:t;const a=e.current,s=i?e=>i.includes(e):e=>{const t=a[e];return null==t||t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled")};let l=n;do{l+=r?-o:o}while(l>=0&&l<=a.length-1&&s(l));return l}function It(e,t){let{event:n,orientation:r,loop:i,cols:o,disabledIndices:a,minIndex:s,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(n.key===gt){if(u&&F(n),-1===c)d=l;else if(d=Et(e,{startingIndex:d,amount:o,decrement:!0,disabledIndices:a}),i&&(c-o<s||d<0)){const e=c%o,t=l%o,n=l-(t-e);d=t===e?l:t>e?n:n-o}St(e,d)&&(d=c)}if(n.key===vt&&(u&&F(n),-1===c?d=s:(d=Et(e,{startingIndex:c,amount:o,disabledIndices:a}),i&&c+o>l&&(d=Et(e,{startingIndex:c%o-o,amount:o,disabledIndices:a}))),St(e,d)&&(d=c)),"both"===r){const t=W(c/o);n.key===wt&&(u&&F(n),c%o!==o-1?(d=Et(e,{startingIndex:c,disabledIndices:a}),i&&bt(d,o,t)&&(d=Et(e,{startingIndex:c-c%o-1,disabledIndices:a}))):i&&(d=Et(e,{startingIndex:c-c%o-1,disabledIndices:a})),bt(d,o,t)&&(d=c)),n.key===yt&&(u&&F(n),c%o!==0?(d=Et(e,{startingIndex:c,disabledIndices:a,decrement:!0}),i&&bt(d,o,t)&&(d=Et(e,{startingIndex:c+(o-c%o),decrement:!0,disabledIndices:a}))):i&&(d=Et(e,{startingIndex:c+(o-c%o),decrement:!0,disabledIndices:a})),bt(d,o,t)&&(d=c));const r=W(l/o)===t;St(e,d)&&(d=i&&r?n.key===yt?l:Et(e,{startingIndex:c-c%o-1,disabledIndices:a}):c)}return d}function xt(e,t,n){const r=[];let i=0;return e.forEach(((e,o)=>{let{width:a,height:s}=e,l=!1;for(n&&(i=0);!l;){const e=[];for(let n=0;n<a;n++)for(let r=0;r<s;r++)e.push(i+n+r*t);i%t+a<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=o})),l=!0):i++}})),[...r]}function Tt(e,t,n,r,i){if(-1===e)return-1;const o=n.indexOf(e);switch(i){case"tl":return o;case"tr":return o+t[e].width-1;case"bl":return o+(t[e].height-1)*r;case"br":return n.lastIndexOf(e)}}function Ct(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}let Dt=0;function Pt(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Dt);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():Dt=requestAnimationFrame(o)}var Nt="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function At(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Mt=r.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Ot(e){const{children:t,elementsRef:n,labelsRef:i}=e,[o,a]=r.useState((()=>new Map)),s=r.useCallback((e=>{a((t=>new Map(t).set(e,null)))}),[]),l=r.useCallback((e=>{a((t=>{const n=new Map(t);return n.delete(e),n}))}),[]);return Nt((()=>{const e=new Map(o);Array.from(e.keys()).sort(At).forEach(((t,n)=>{e.set(t,n)})),function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(o,e)||a(e)}),[o]),r.createElement(Mt.Provider,{value:r.useMemo((()=>({register:s,unregister:l,map:o,elementsRef:n,labelsRef:i})),[s,l,o,n,i])},t)}function Rt(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:i,map:o,elementsRef:a,labelsRef:s}=r.useContext(Mt),[l,c]=r.useState(null),u=r.useRef(null),d=r.useCallback((e=>{if(u.current=e,null!==l&&(a.current[l]=e,s)){var n;const r=void 0!==t;s.current[l]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}}),[l,a,s,t]);return Nt((()=>{const e=u.current;if(e)return n(e),()=>{i(e)}}),[n,i]),Nt((()=>{const e=u.current?o.get(u.current):null;null!=e&&c(e)}),[o]),r.useMemo((()=>({ref:d,index:null==l?-1:l})),[l,d])}function Lt(e,t){return"function"===typeof e?e(t):e?r.cloneElement(e,t):r.createElement("div",t)}const Ft=r.createContext({activeIndex:0,onNavigate:()=>{}}),jt=[yt,wt],Bt=[gt,vt],Ut=[...jt,...Bt],Vt=r.forwardRef((function(e,t){const{render:n,orientation:i="both",loop:o=!0,cols:a=1,disabledIndices:s=[],activeIndex:l,onNavigate:c,itemSizes:u,dense:d=!1,...h}=e,[f,p]=r.useState(0),m=null!=l?l:f,g=mt(null!=c?c:p),v=r.useRef([]),y=n&&"function"!==typeof n?n.props:{},w=r.useMemo((()=>({activeIndex:m,onNavigate:g})),[m,g]),b=a>1;const S={...h,...y,ref:t,"aria-orientation":"both"===i?void 0:i,onKeyDown(e){null==h.onKeyDown||h.onKeyDown(e),null==y.onKeyDown||y.onKeyDown(e),function(e){if(!Ut.includes(e.key))return;let t=m;if(b){const n=u||Array.from({length:v.current.length},(()=>({width:1,height:1}))),r=xt(n,a,d),l=r.findIndex((e=>null!=e&&!s.includes(e))),c=r.reduce(((e,t,n)=>null==t||null!=s&&s.includes(t)?e:n),-1);t=r[It({current:r.map((e=>e?v.current[e]:null))},{event:e,orientation:i,loop:o,cols:a,disabledIndices:Ct([...s,void 0],r),minIndex:l,maxIndex:c,prevIndex:Tt(m,n,r,a,e.key===vt?"bl":e.key===wt?"tr":"tl")})]}const n=kt(v,s),r=_t(v,s),l={horizontal:[wt],vertical:[vt],both:[wt,vt]}[i],c={horizontal:[yt],vertical:[gt],both:[yt,gt]}[i],h=b?Ut:{horizontal:jt,vertical:Bt,both:Ut}[i];t===m&&[...l,...c].includes(e.key)&&(t=o&&t===r&&l.includes(e.key)?n:o&&t===n&&c.includes(e.key)?r:Et(v,{startingIndex:t,decrement:c.includes(e.key),disabledIndices:s})),t===m||St(v,t)||(e.stopPropagation(),h.includes(e.key)&&e.preventDefault(),g(t),queueMicrotask((()=>{Pt(v.current[t])})))}(e)}};return r.createElement(Ft.Provider,{value:w},r.createElement(Ot,{elementsRef:v},Lt(n,S)))})),zt=r.forwardRef((function(e,t){const{render:n,...i}=e,o=n&&"function"!==typeof n?n.props:{},{activeIndex:a,onNavigate:s}=r.useContext(Ft),{ref:l,index:c}=Rt(),u=ft([l,t,o.ref]),d=a===c;return Lt(n,{...i,...o,ref:u,tabIndex:d?0:-1,"data-active":d?"":void 0,onFocus(e){null==i.onFocus||i.onFocus(e),null==o.onFocus||o.onFocus(e),s(c)}})}));function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}let Yt=!1,Wt=0;const Ht=()=>"floating-ui-"+Wt++;const Kt=i["useId".toString()]||function(){const[e,t]=r.useState((()=>Yt?Ht():void 0));return Nt((()=>{null==e&&t(Ht())}),[]),r.useEffect((()=>{Yt||(Yt=!0)}),[]),e};const Gt=r.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o}},width:a=14,height:s=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:d,d:h,style:{transform:f,...p}={},...m}=e;const g=Kt();if(!i)return null;const v=2*c,y=v/2,w=a/2*(l/-8+1),b=s/2*l/4,[S,k]=n.split("-"),_=Ce.isRTL(i),E=!!h,I="top"===S||"bottom"===S,x=u&&"end"===k?"bottom":"top";let T=u&&"end"===k?"right":"left";u&&_&&(T="end"===k?"left":"right");const C=null!=(null==o?void 0:o.x)?u||o.x:"",D=null!=(null==o?void 0:o.y)?u||o.y:"",P=h||"M0,0 H"+a+" L"+(a-w)+","+(s-b)+" Q"+a/2+","+s+" "+w+","+(s-b)+" Z",N={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[S];return r.createElement("svg",qt({},m,{"aria-hidden":!0,ref:t,width:E?a:a+v,height:a,viewBox:"0 0 "+a+" "+(s>a?s:a),style:{position:"absolute",pointerEvents:"none",[T]:C,[x]:D,[S]:I||E?"100%":"calc(100% - "+v/2+"px)",transform:""+N+(null!=f?f:""),...p}}),v>0&&r.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:d,strokeWidth:v+(h?0:1),d:P}),r.createElement("path",{stroke:v&&!h?m.fill:"none",d:P}),r.createElement("clipPath",{id:g},r.createElement("rect",{x:-y,y:y*(E?-1:1),width:a+v,height:a})))}));function Qt(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const Xt=r.createContext(null),Jt=r.createContext(null),$t=()=>{var e;return(null==(e=r.useContext(Xt))?void 0:e.id)||null},Zt=()=>r.useContext(Jt);function en(e){const t=Kt(),n=Zt(),r=$t(),i=e||r;return Nt((()=>{const e={id:t,parentId:i};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,i]),t}function tn(e){const{children:t,id:n}=e,i=$t();return r.createElement(Xt.Provider,{value:r.useMemo((()=>({id:n,parentId:i})),[n,i])},t)}function nn(e){const{children:t}=e,n=r.useRef([]),i=r.useCallback((e=>{n.current=[...n.current,e]}),[]),o=r.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),a=r.useState((()=>Qt()))[0];return r.createElement(Jt.Provider,{value:r.useMemo((()=>({nodesRef:n,addNode:i,removeNode:o,events:a})),[i,o,a])},t)}function rn(e){return"data-floating-ui-"+e}function on(e){const t=(0,r.useRef)(e);return Nt((()=>{t.current=e})),t}const an=rn("safe-polygon");function sn(e,t,n){return n&&!N(n)?0:"number"===typeof e?e:null==e?void 0:e[t]}function ln(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,dataRef:o,events:a,elements:{domReference:s,floating:l},refs:u}=e,{enabled:d=!0,delay:h=0,handleClose:f=null,mouseOnly:p=!1,restMs:m=0,move:g=!0}=t,v=Zt(),y=$t(),w=on(f),b=on(h),S=r.useRef(),k=r.useRef(),E=r.useRef(),I=r.useRef(),x=r.useRef(!0),T=r.useRef(!1),C=r.useRef((()=>{})),D=r.useCallback((()=>{var e;const t=null==(e=o.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[o]);r.useEffect((()=>{if(d)return a.on("openchange",e),()=>{a.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(k.current),clearTimeout(I.current),x.current=!0)}}),[d,a]),r.useEffect((()=>{if(!d||!w.current||!n)return;function e(e){D()&&i(!1,e,"hover")}const t=A(l).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[l,n,i,d,w,D]);const P=r.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const r=sn(b.current,"close",S.current);r&&!E.current?(clearTimeout(k.current),k.current=setTimeout((()=>i(!1,e,n)),r)):t&&(clearTimeout(k.current),i(!1,e,n))}),[b,i]),M=r.useCallback((()=>{C.current(),E.current=void 0}),[]),O=r.useCallback((()=>{if(T.current){const e=A(u.floating.current).body;e.style.pointerEvents="",e.removeAttribute(an),T.current=!1}}),[u]);return r.useEffect((()=>{if(d&&c(s)){const e=s;return n&&e.addEventListener("mouseleave",u),null==l||l.addEventListener("mouseleave",u),g&&e.addEventListener("mousemove",r,{once:!0}),e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",a),()=>{n&&e.removeEventListener("mouseleave",u),null==l||l.removeEventListener("mouseleave",u),g&&e.removeEventListener("mousemove",r),e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",a)}}function t(){return!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type)}function r(e){if(clearTimeout(k.current),x.current=!1,p&&!N(S.current)||m>0&&0===sn(b.current,"open"))return;const t=sn(b.current,"open",S.current);t?k.current=setTimeout((()=>{i(!0,e,"hover")}),t):i(!0,e,"hover")}function a(r){if(t())return;C.current();const i=A(l);if(clearTimeout(I.current),w.current){n||clearTimeout(k.current),E.current=w.current({...e,tree:v,x:r.clientX,y:r.clientY,onClose(){O(),M(),P(r,!0,"safe-polygon")}});const t=E.current;return i.addEventListener("mousemove",t),void(C.current=()=>{i.removeEventListener("mousemove",t)})}("touch"!==S.current||!_(l,r.relatedTarget))&&P(r)}function u(n){t()||null==w.current||w.current({...e,tree:v,x:n.clientX,y:n.clientY,onClose(){O(),M(),P(n)}})(n)}}),[s,l,d,e,p,m,g,P,M,O,i,n,v,b,w,o]),Nt((()=>{var e;if(d&&n&&null!=(e=w.current)&&e.__options.blockPointerEvents&&D()){const e=A(l).body;if(e.setAttribute(an,""),e.style.pointerEvents="none",T.current=!0,c(s)&&l){var t;const e=s,n=null==v||null==(t=v.nodesRef.current.find((e=>e.id===y)))||null==(t=t.context)?void 0:t.elements.floating;return n&&(n.style.pointerEvents=""),e.style.pointerEvents="auto",l.style.pointerEvents="auto",()=>{e.style.pointerEvents="",l.style.pointerEvents=""}}}}),[d,n,y,l,s,v,w,D]),Nt((()=>{n||(S.current=void 0,M(),O())}),[n,M,O]),r.useEffect((()=>()=>{M(),clearTimeout(k.current),clearTimeout(I.current),O()}),[d,s,M,O]),r.useMemo((()=>{if(!d)return{};function e(e){S.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){function t(){x.current||i(!0,e.nativeEvent,"hover")}p&&!N(S.current)||n||0===m||(clearTimeout(I.current),"touch"===S.current?t():I.current=setTimeout(t,m))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(e){P(e.nativeEvent,!1)}}}}),[d,p,n,m,i,P])}const cn=()=>{},un=r.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:cn,setState:cn,isInstantPhase:!1}),dn=()=>r.useContext(un),hn=e=>{const{children:t,delay:n,timeoutMs:i=0}=e,[o,a]=r.useReducer(((e,t)=>({...e,...t})),{delay:n,timeoutMs:i,initialDelay:n,currentId:null,isInstantPhase:!1}),s=r.useRef(null),l=r.useCallback((e=>{a({currentId:e})}),[]);return Nt((()=>{o.currentId?null===s.current?s.current=o.currentId:a({isInstantPhase:!0}):(a({isInstantPhase:!1}),s.current=null)}),[o.currentId]),r.createElement(un.Provider,{value:r.useMemo((()=>({...o,setState:a,setCurrentId:l})),[o,l])},t)};function fn(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o}=t,a=null!=o?o:i,s=dn(),{currentId:l,setCurrentId:c,initialDelay:u,setState:d,timeoutMs:h}=s;return Nt((()=>{l&&(d({delay:{open:1,close:sn(u,"close")}}),l!==a&&r(!1))}),[a,r,d,l,u]),Nt((()=>{function e(){r(!1),d({delay:u,currentId:null})}if(l&&!n&&l===a){if(h){const t=window.setTimeout(e,h);return()=>{clearTimeout(t)}}e()}}),[n,d,l,a,r,u,h]),Nt((()=>{c!==cn&&n&&c(a)}),[n,c,a]),s}function pn(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let mn=new WeakMap,gn=new WeakSet,vn={},yn=0;const wn=()=>"undefined"!==typeof HTMLElement&&"inert"in HTMLElement.prototype,bn=e=>e&&(e.host||bn(e.parentNode)),Sn=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=bn(t);return e.contains(n)?n:null})).filter((e=>null!=e));function kn(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=A(e[0]).body;return function(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,a=Sn(t,e),s=new Set,l=new Set(a),c=[];vn[i]||(vn[i]=new WeakMap);const u=vn[i];return a.forEach((function e(t){t&&!s.has(t)&&(s.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!l.has(t)&&Array.prototype.forEach.call(t.children,(t=>{if(s.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(mn.get(t)||0)+1,a=(u.get(t)||0)+1;mn.set(t,r),u.set(t,a),c.push(t),1===r&&n&&gn.add(t),1===a&&t.setAttribute(i,""),!n&&o&&t.setAttribute(o,"true")}}))}(t),s.clear(),yn++,()=>{c.forEach((e=>{const t=(mn.get(e)||0)-1,n=(u.get(e)||0)-1;mn.set(e,t),u.set(e,n),t||(!gn.has(e)&&o&&e.removeAttribute(o),gn.delete(e)),n||e.removeAttribute(i)})),yn--,yn||(mn=new WeakMap,mn=new WeakMap,gn=new WeakSet,vn={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const _n=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function En(e,t){const n=dt(e,_n());"prev"===t&&n.reverse();const r=n.indexOf(k(A(e)));return n.slice(r+1)[0]}function In(){return En(document.body,"next")}function xn(){return En(document.body,"prev")}function Tn(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!_(n,r)}function Cn(e){dt(e,_n()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Dn(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Pn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Nn(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const An=r.forwardRef((function(e,t){const[n,i]=r.useState();Nt((()=>(C()&&i("button"),document.addEventListener("keydown",Nn),()=>{document.removeEventListener("keydown",Nn)})),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[rn("focus-guard")]:"",style:Pn};return r.createElement("span",qt({},e,o))})),Mn=r.createContext(null),On=rn("portal");function Rn(e){void 0===e&&(e={});const{id:t,root:n}=e,i=Kt(),o=Fn(),[a,s]=r.useState(null),l=r.useRef(null);return Nt((()=>()=>{null==a||a.remove(),queueMicrotask((()=>{l.current=null}))}),[a]),Nt((()=>{if(l.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=i,n.setAttribute(On,""),e.appendChild(n),l.current=n,s(n)}),[t,i]),Nt((()=>{if(l.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!c(e)&&(e=e.current),e=e||document.body;let r=null;t&&(r=document.createElement("div"),r.id=t,e.appendChild(r));const a=document.createElement("div");a.id=i,a.setAttribute(On,""),e=r||e,e.appendChild(a),l.current=a,s(a)}),[t,n,i,o]),a}function Ln(e){const{children:t,id:n,root:i=null,preserveTabOrder:o=!0}=e,a=Rn({id:n,root:i}),[s,l]=r.useState(null),c=r.useRef(null),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),f=!!s&&!s.modal&&s.open&&o&&!(!i&&!a);return r.useEffect((()=>{if(a&&o&&(null==s||!s.modal))return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){if(a&&Tn(e)){("focusin"===e.type?Dn:Cn)(a)}}}),[a,o,null==s?void 0:s.modal]),r.createElement(Mn.Provider,{value:r.useMemo((()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:h,portalNode:a,setFocusManagerState:l})),[o,a])},f&&a&&r.createElement(An,{"data-type":"outside",ref:c,onFocus:e=>{if(Tn(e,a)){var t;null==(t=d.current)||t.focus()}else{const e=xn()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),f&&a&&r.createElement("span",{"aria-owns":a.id,style:Pn}),a&&(0,Be.createPortal)(t,a),f&&a&&r.createElement(An,{"data-type":"outside",ref:u,onFocus:e=>{if(Tn(e,a)){var t;null==(t=h.current)||t.focus()}else{const t=In()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent))}}}))}const Fn=()=>r.useContext(Mn),jn=20;let Bn=[];function Un(e){Bn=Bn.filter((e=>e.isConnected));let t=e;if(t&&"body"!==o(t)){if(!ht(t,_n())){const e=dt(t,_n())[0];if(!e)return;t=e}Bn.push(t),Bn.length>jn&&(Bn=Bn.slice(-jn))}}function Vn(){return Bn.slice().reverse().find((e=>e.isConnected))}const zn=r.forwardRef((function(e,t){return r.createElement("button",qt({},e,{type:"button",ref:t,tabIndex:-1,style:Pn}))}));function qn(e){const{context:t,children:n,disabled:i=!1,order:o=["content"],guards:a=!0,initialFocus:s=0,returnFocus:l=!0,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:h=!0}=e,{open:f,refs:p,nodeId:m,onOpenChange:g,events:v,dataRef:y,elements:{domReference:w,floating:b}}=t,S="number"===typeof s&&s<0,E=j(w)&&S,I=!wn()||a,C=on(o),D=on(s),P=on(l),N=Zt(),M=Fn(),R=r.useRef(null),L=r.useRef(null),B=r.useRef(!1),U=r.useRef(!1),V=null!=M,z=r.useCallback((function(e){return void 0===e&&(e=b),e?dt(e,_n()):[]}),[b]),q=r.useCallback((e=>{const t=z(e);return C.current.map((e=>w&&"reference"===e?w:b&&"floating"===e?b:t)).filter(Boolean).flat()}),[w,b,C,z]);function Y(e){return!i&&d&&c?r.createElement(zn,{ref:"start"===e?R:L,onClick:e=>g(!1,e.nativeEvent)},"string"===typeof d?d:"Dismiss"):null}r.useEffect((()=>{if(i||!c)return;function e(e){if("Tab"===e.key){_(b,k(A(b)))&&0===z().length&&!E&&F(e);const t=q(),n=O(e);"reference"===C.current[0]&&n===w&&(F(e),e.shiftKey?Pt(t[t.length-1]):Pt(t[1])),"floating"===C.current[1]&&n===b&&e.shiftKey&&(F(e),Pt(t[0]))}}const t=A(b);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[i,w,b,c,C,E,z,q]),r.useEffect((()=>{if(!i&&h)return b&&u(w)?(w.addEventListener("focusout",t),w.addEventListener("pointerdown",e),!c&&b.addEventListener("focusout",t),()=>{w.removeEventListener("focusout",t),w.removeEventListener("pointerdown",e),!c&&b.removeEventListener("focusout",t)}):void 0;function e(){U.current=!0,setTimeout((()=>{U.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(_(w,t)||_(b,t)||_(t,b)||_(null==M?void 0:M.portalNode,t)||null!=t&&t.hasAttribute(rn("focus-guard"))||N&&(pn(N.nodesRef.current,m).find((e=>{var n,r;return _(null==(n=e.context)?void 0:n.elements.floating,t)||_(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(N.nodesRef.current,m).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!U.current&&t!==Vn()&&(B.current=!0,g(!1,e))}))}}),[i,w,b,c,m,N,M,g,h]),r.useEffect((()=>{var e;if(i)return;const t=Array.from((null==M||null==(e=M.portalNode)?void 0:e.querySelectorAll("["+rn("portal")+"]"))||[]);if(b){const e=[b,...t,R.current,L.current,C.current.includes("reference")||E?w:null].filter((e=>null!=e)),n=c||E?kn(e,I,!I):kn(e);return()=>{n()}}}),[i,w,b,c,C,M,E,I]),Nt((()=>{if(i||!b)return;const e=k(A(b));queueMicrotask((()=>{const t=q(b),n=D.current,r=("number"===typeof n?t[n]:n.current)||b,i=_(b,e);S||i||!f||Pt(r,{preventScroll:r===b})}))}),[i,f,b,S,q,D]),Nt((()=>{if(i||!b)return;let e=!1;const t=A(b),n=k(t),r=y.current;function o(t){let{reason:n,event:r,nested:i}=t;"escape-key"===n&&p.domReference.current&&Un(p.domReference.current),"hover"===n&&"mouseleave"===r.type&&(B.current=!0),"outside-press"===n&&(i?(B.current=!1,e=!0):B.current=!(x(r)||T(r)))}return Un(n),v.on("openchange",o),()=>{v.off("openchange",o);const n=k(t),i=_(b,n)||N&&pn(N.nodesRef.current,m).some((e=>{var t;return _(null==(t=e.context)?void 0:t.elements.floating,n)}));(i||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&p.domReference.current&&Un(p.domReference.current);const a=Vn();P.current&&!B.current&&u(a)&&(a===n||n===t.body||i)&&Pt(a,{cancelPrevious:!1,preventScroll:e})}}),[i,b,P,y,p,v,N,m]),Nt((()=>{if(!i&&M)return M.setFocusManagerState({modal:c,closeOnFocusOut:h,open:f,onOpenChange:g,refs:p}),()=>{M.setFocusManagerState(null)}}),[i,M,c,f,g,p,h]),Nt((()=>{if(i||!b||"function"!==typeof MutationObserver||S)return;const e=()=>{const e=b.getAttribute("tabindex");C.current.includes("floating")||k(A(b))!==p.domReference.current&&0===z().length?"0"!==e&&b.setAttribute("tabindex","0"):"-1"!==e&&b.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(b,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[i,b,p,C,z,S]);const W=!i&&I&&(V||c);return r.createElement(r.Fragment,null,W&&r.createElement(An,{"data-type":"inside",ref:null==M?void 0:M.beforeInsideRef,onFocus:e=>{if(c){const e=q();Pt("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=M&&M.preserveTabOrder&&M.portalNode)if(B.current=!1,Tn(e,M.portalNode)){const e=In()||w;null==e||e.focus()}else{var t;null==(t=M.beforeOutsideRef.current)||t.focus()}}}),!E&&Y("start"),n,Y("end"),W&&r.createElement(An,{"data-type":"inside",ref:null==M?void 0:M.afterInsideRef,onFocus:e=>{if(c)Pt(q()[0]);else if(null!=M&&M.preserveTabOrder&&M.portalNode)if(h&&(B.current=!0),Tn(e,M.portalNode)){const e=xn()||w;null==e||e.focus()}else{var t;null==(t=M.afterOutsideRef.current)||t.focus()}}}))}const Yn=new Set,Wn=r.forwardRef((function(e,t){const{lockScroll:n=!1,...i}=e,o=Kt();return Nt((()=>{if(!n)return;Yn.add(o);const e=/iP(hone|ad|od)|iOS/.test(E()),t=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,a=t.left?parseFloat(t.left):window.pageXOffset,s=t.top?parseFloat(t.top):window.pageYOffset;if(t.overflow="hidden",i&&(t[r]=i+"px"),e){var l,c;const e=(null==(l=window.visualViewport)?void 0:l.offsetLeft)||0,n=(null==(c=window.visualViewport)?void 0:c.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(s-Math.floor(n))+"px",left:-(a-Math.floor(e))+"px",right:"0"})}return()=>{Yn.delete(o),0===Yn.size&&(Object.assign(t,{overflow:"",[r]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(a,s)))}}),[o,n]),r.createElement("div",qt({ref:t},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))}));function Hn(e){return u(e.target)&&"BUTTON"===e.target.tagName}function Kn(e){return L(e)}function Gn(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,dataRef:o,elements:{domReference:a}}=e,{enabled:s=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=t,h=r.useRef(),f=r.useRef(!1);return r.useMemo((()=>s?{reference:{onPointerDown(e){h.current=e.pointerType},onMouseDown(e){0===e.button&&(N(h.current,!0)&&u||"click"!==l&&(!n||!c||o.current.openEvent&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),i(!0,e.nativeEvent,"click")):i(!1,e.nativeEvent,"click")))},onClick(e){"mousedown"===l&&h.current?h.current=void 0:N(h.current,!0)&&u||(!n||!c||o.current.openEvent&&"click"!==o.current.openEvent.type?i(!0,e.nativeEvent,"click"):i(!1,e.nativeEvent,"click"))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!d||Hn(e)||(" "!==e.key||Kn(a)||(e.preventDefault(),f.current=!0),"Enter"===e.key&&i(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||Hn(e)||Kn(a)||" "===e.key&&f.current&&(f.current=!1,i(!n||!c,e.nativeEvent,"click"))}}}:{}),[s,o,l,u,d,a,c,n,i])}function Qn(e){return null!=e&&null!=e.clientX}function Xn(e,t){void 0===t&&(t={});const{open:n,refs:i,dataRef:o,elements:{floating:s}}=e,{enabled:l=!0,axis:c="both",x:u=null,y:d=null}=t,h=r.useRef(!1),f=r.useRef(null),[p,m]=r.useState(),[g,v]=r.useState([]),y=mt(((e,t)=>{h.current||o.current.openEvent&&!Qn(o.current.openEvent)||i.setPositionReference(function(e,t){let n=null,r=null,i=!1;return{contextElement:e.current||void 0,getBoundingClientRect(){var o,a;const s=(null==(o=e.current)?void 0:o.getBoundingClientRect())||{width:0,height:0,x:0,y:0},l="x"===t.axis||"both"===t.axis,c="y"===t.axis||"both"===t.axis,u=["mouseenter","mousemove"].includes((null==(a=t.dataRef.current.openEvent)?void 0:a.type)||"")&&"touch"!==t.pointerType;let d=s.width,h=s.height,f=s.x,p=s.y;return null==n&&t.x&&l&&(n=s.x-t.x),null==r&&t.y&&c&&(r=s.y-t.y),f-=n||0,p-=r||0,d=0,h=0,!i||u?(d="y"===t.axis?s.width:0,h="x"===t.axis?s.height:0,f=l&&null!=t.x?t.x:f,p=c&&null!=t.y?t.y:p):i&&!u&&(h="x"===t.axis?s.height:h,d="y"===t.axis?s.width:d),i=!0,{width:d,height:h,x:f,y:p,top:p,right:f+d,bottom:p+h,left:f}}}}(i.domReference,{x:e,y:t,axis:c,dataRef:o,pointerType:p}))})),w=mt((e=>{null==u&&null==d&&(n?f.current||v([]):y(e.clientX,e.clientY))})),b=N(p)?s:n,S=r.useCallback((()=>{if(!b||!l||null!=u||null!=d)return;const e=a(i.floating.current);function t(n){const r=O(n);_(i.floating.current,r)?(e.removeEventListener("mousemove",t),f.current=null):y(n.clientX,n.clientY)}if(!o.current.openEvent||Qn(o.current.openEvent)){e.addEventListener("mousemove",t);const n=()=>{e.removeEventListener("mousemove",t),f.current=null};return f.current=n,n}i.setPositionReference(i.domReference.current)}),[o,l,b,i,y,u,d]);return r.useEffect((()=>S()),[S,g]),r.useEffect((()=>{l&&!s&&(h.current=!1)}),[l,s]),r.useEffect((()=>{!l&&n&&(h.current=!0)}),[l,n]),Nt((()=>{!l||null==u&&null==d||(h.current=!1,y(u,d))}),[l,u,d,y]),r.useMemo((()=>{if(!l)return{};function e(e){let{pointerType:t}=e;m(t)}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove:w,onMouseEnter:w}}}),[l,w])}const Jn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$n={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Zn=e=>{var t,n;return{escapeKey:"boolean"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function er(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,nodeId:o,elements:{reference:a,domReference:s,floating:l},dataRef:d}=e,{enabled:h=!0,escapeKey:f=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:y=!1,referencePressEvent:b="pointerdown",ancestorScroll:k=!1,bubbles:E,capture:I}=t,x=Zt(),T=mt("function"===typeof p?p:()=>!1),C="function"===typeof p?T:p,D=r.useRef(!1),P=r.useRef(!1),{escapeKey:N,outsidePress:R}=Zn(E),{escapeKey:L,outsidePress:F}=Zn(I),j=mt((e=>{if(!n||!h||!f||"Escape"!==e.key)return;const t=x?pn(x.nodesRef.current,o):[];if(!N&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}i(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),B=mt((e=>{var t;const n=()=>{var t;j(e),null==(t=O(e))||t.removeEventListener("keydown",n)};null==(t=O(e))||t.addEventListener("keydown",n)})),U=mt((e=>{const t=D.current;D.current=!1;const n=P.current;if(P.current=!1,"click"===m&&n)return;if(t)return;if("function"===typeof C&&!C(e))return;const r=O(e),a="["+rn("inert")+"]",d=A(l).querySelectorAll(a);let h=c(r)?r:null;for(;h&&!g(h);){const e=w(h);if(g(e)||!c(e))break;h=e}if(d.length&&c(r)&&!r.matches("html,body")&&!_(r,l)&&Array.from(d).every((e=>!_(h,e))))return;if(u(r)&&l){const t=r.clientWidth>0&&r.scrollWidth>r.clientWidth,n=r.clientHeight>0&&r.scrollHeight>r.clientHeight;let i=n&&e.offsetX>r.clientWidth;if(n){"rtl"===v(r).direction&&(i=e.offsetX<=r.offsetWidth-r.clientWidth)}if(i||t&&e.offsetY>r.clientHeight)return}const f=x&&pn(x.nodesRef.current,o).some((t=>{var n;return M(e,null==(n=t.context)?void 0:n.elements.floating)}));if(M(e,l)||M(e,s)||f)return;const p=x?pn(x.nodesRef.current,o):[];if(p.length>0){let e=!0;if(p.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}i(!1,e,"outside-press")})),V=mt((e=>{var t;const n=()=>{var t;U(e),null==(t=O(e))||t.removeEventListener(m,n)};null==(t=O(e))||t.addEventListener(m,n)}));return r.useEffect((()=>{if(!n||!h)return;function e(e){i(!1,e,"ancestor-scroll")}d.current.__escapeKeyBubbles=N,d.current.__outsidePressBubbles=R;const t=A(l);f&&t.addEventListener("keydown",L?B:j,L),C&&t.addEventListener(m,F?V:U,F);let r=[];return k&&(c(s)&&(r=S(s)),c(l)&&(r=r.concat(S(l))),!c(a)&&a&&a.contextElement&&(r=r.concat(S(a.contextElement)))),r=r.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),r.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{f&&t.removeEventListener("keydown",L?B:j,L),C&&t.removeEventListener(m,F?V:U,F),r.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[d,l,s,a,f,C,m,n,i,k,h,N,R,j,L,B,U,F,V]),r.useEffect((()=>{D.current=!1}),[C,m]),r.useMemo((()=>h?{reference:{onKeyDown:j,[Jn[b]]:e=>{y&&i(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:j,onMouseDown(){P.current=!0},onMouseUp(){P.current=!0},[$n[m]]:()=>{D.current=!0}}}:{}),[h,y,m,b,i,j])}function tr(e){var t;void 0===e&&(e={});const{open:n=!1,onOpenChange:i,nodeId:o}=e;const[a,s]=r.useState(null),l=(null==(t=e.elements)?void 0:t.reference)||a,u=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=r.useState(i);ze(f,i)||p(i);const[m,g]=r.useState(null),[v,y]=r.useState(null),w=r.useCallback((e=>{e!==_.current&&(_.current=e,g(e))}),[]),b=r.useCallback((e=>{e!==E.current&&(E.current=e,y(e))}),[]),S=a||m,k=s||v,_=r.useRef(null),E=r.useRef(null),I=r.useRef(d),x=null!=c,T=We(c),C=We(o),D=r.useCallback((()=>{if(!_.current||!E.current)return;const e={placement:t,strategy:n,middleware:f};C.current&&(e.platform=C.current),je(_.current,E.current,e).then((e=>{const t={...e,isPositioned:!0};P.current&&!ze(I.current,t)&&(I.current=t,Be.flushSync((()=>{h(t)})))}))}),[f,t,n,C]);Ve((()=>{!1===u&&I.current.isPositioned&&(I.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const P=r.useRef(!1);Ve((()=>(P.current=!0,()=>{P.current=!1})),[]),Ve((()=>{if(S&&(_.current=S),k&&(E.current=k),S&&k){if(T.current)return T.current(S,k,D);D()}}),[S,k,D,T,x]);const N=r.useMemo((()=>({reference:_,floating:E,setReference:w,setFloating:b})),[w,b]),A=r.useMemo((()=>({reference:S,floating:k})),[S,k]),M=r.useMemo((()=>{const e={position:n,left:0,top:0};if(!A.floating)return e;const t=Ye(A.floating,d.x),r=Ye(A.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...qe(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,l,A.floating,d.x,d.y]);return r.useMemo((()=>({...d,update:D,refs:N,elements:A,floatingStyles:M})),[d,D,N,A,M])}(e),d=Zt(),h=null!=$t(),f=mt(((e,t,n)=>{e&&(m.current.openEvent=t),g.emit("openchange",{open:e,event:t,reason:n,nested:h}),null==i||i(e,t,n)})),p=r.useRef(null),m=r.useRef({}),g=r.useState((()=>Qt()))[0],v=Kt(),y=r.useCallback((e=>{const t=c(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)}),[u.refs]),w=r.useCallback((e=>{(c(e)||null===e)&&(p.current=e,s(e)),(c(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!c(e))&&u.refs.setReference(e)}),[u.refs]),b=r.useMemo((()=>({...u.refs,setReference:w,setPositionReference:y,domReference:p})),[u.refs,w,y]),S=r.useMemo((()=>({...u.elements,domReference:l})),[u.elements,l]),k=r.useMemo((()=>({...u,refs:b,elements:S,dataRef:m,nodeId:o,floatingId:v,events:g,open:n,onOpenChange:f})),[u,o,v,g,n,f,b,S]);return Nt((()=>{const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===o));e&&(e.context=k)})),r.useMemo((()=>({...u,context:k,refs:b,elements:S})),[u,b,S,k])}function nr(e,t){void 0===t&&(t={});const{open:n,onOpenChange:i,events:o,refs:s,elements:{domReference:l}}=e,{enabled:d=!0,visibleOnly:h=!0}=t,f=r.useRef(!1),p=r.useRef(),m=r.useRef(!0);return r.useEffect((()=>{if(!d)return;const e=a(l);function t(){!n&&u(l)&&l===k(A(l))&&(f.current=!0)}function r(){m.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",r,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",r,!0)}}),[l,n,d]),r.useEffect((()=>{if(d)return o.on("openchange",e),()=>{o.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(f.current=!0)}}),[o,d]),r.useEffect((()=>()=>{clearTimeout(p.current)}),[]),r.useMemo((()=>d?{reference:{onPointerDown(e){T(e.nativeEvent)||(m.current=!1)},onMouseLeave(){f.current=!1},onFocus(e){if(f.current)return;const t=O(e.nativeEvent);if(h&&c(t))try{if(C()&&P())throw Error();if(!t.matches(":focus-visible"))return}catch(n){if(!m.current&&!L(t))return}i(!0,e.nativeEvent,"focus")},onBlur(e){f.current=!1;const t=e.relatedTarget,n=c(t)&&t.hasAttribute(rn("focus-guard"))&&"outside"===t.getAttribute("data-type");p.current=window.setTimeout((()=>{const r=k(l?l.ownerDocument:document);(t||r!==l)&&(_(s.floating.current,r)||_(l,r)||n||i(!1,e.nativeEvent,"focus"))}))}}}:{}),[d,h,l,s,i])}const rr="active",ir="selected";function or(e,t,n){const r=new Map,i="item"===n;let o=e;if(i&&e){const{[rr]:t,[ir]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1},...o,...t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var a;i&&[rr,ir].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof o&&(null==(a=r.get(n))||a.push(o),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}function ar(e){void 0===e&&(e=[]);const t=e,n=r.useCallback((t=>or(t,e,"reference")),t),i=r.useCallback((t=>or(t,e,"floating")),t),o=r.useCallback((t=>or(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return r.useMemo((()=>({getReferenceProps:n,getFloatingProps:i,getItemProps:o})),[n,i,o])}let sr=!1;function lr(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function cr(e,t){return lr(t,e===gt||e===vt,e===yt||e===wt)}function ur(e,t,n){return lr(t,e===vt,n?e===yt:e===wt)||"Enter"===e||" "===e||""===e}function dr(e,t,n){return lr(t,n?e===wt:e===yt,e===gt)}function hr(e,t){const{open:n,onOpenChange:i,refs:o,elements:{domReference:a,floating:s}}=e,{listRef:l,activeIndex:c,onNavigate:d=(()=>{}),enabled:h=!0,selectedIndex:f=null,allowEscape:p=!1,loop:m=!1,nested:g=!1,rtl:v=!1,virtual:y=!1,focusItemOnOpen:w="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:S=!0,disabledIndices:E,orientation:I="vertical",cols:D=1,scrollItemIntoView:N=!0,virtualItemRef:M,itemSizes:O,dense:R=!1}=t;const L=$t(),B=Zt(),U=mt(d),V=r.useRef(w),z=r.useRef(null!=f?f:-1),q=r.useRef(null),Y=r.useRef(!0),W=r.useRef(U),H=r.useRef(!!s),K=r.useRef(!1),G=r.useRef(!1),Q=on(E),X=on(n),J=on(N),[$,Z]=r.useState(),[ee,te]=r.useState(),ne=mt((function(e,t,n){void 0===n&&(n=!1);const r=e.current[t.current];r&&(y?(Z(r.id),null==B||B.events.emit("virtualfocus",r),M&&(M.current=r)):Pt(r,{preventScroll:!0,sync:!(!P()||!C())&&(sr||K.current)}),requestAnimationFrame((()=>{const e=J.current;e&&r&&(n||!Y.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"===typeof e?{block:"nearest",inline:"nearest"}:e))})))}));Nt((()=>{document.createElement("div").focus({get preventScroll(){return sr=!0,!1}})}),[]),Nt((()=>{h&&(n&&s?V.current&&null!=f&&(G.current=!0,z.current=f,U(f)):H.current&&(z.current=-1,W.current(null)))}),[h,n,s,f,U]),Nt((()=>{if(h&&n&&s)if(null==c){if(K.current=!1,null!=f)return;if(H.current&&(z.current=-1,ne(l,z)),!H.current&&V.current&&(null!=q.current||!0===V.current&&null==q.current)){let e=0;const t=()=>{if(null==l.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else z.current=null==q.current||ur(q.current,I,v)||g?kt(l,Q.current):_t(l,Q.current),q.current=null,U(z.current)};t()}}else St(l,c)||(z.current=c,ne(l,z,G.current),G.current=!1)}),[h,n,s,c,f,g,l,I,v,U,ne,Q]),Nt((()=>{var e;if(!h||s||!B||y||!H.current)return;const t=B.nodesRef.current,n=null==(e=t.find((e=>e.id===L)))||null==(e=e.context)?void 0:e.elements.floating,r=k(A(s)),i=t.some((e=>e.context&&_(e.context.elements.floating,r)));n&&!i&&Y.current&&n.focus({preventScroll:!0})}),[h,s,B,L,y]),Nt((()=>{if(h&&B&&y&&!L)return B.events.on("virtualfocus",e),()=>{B.events.off("virtualfocus",e)};function e(e){te(e.id),M&&(M.current=e)}}),[h,B,y,L,M]),Nt((()=>{W.current=U,H.current=!!s})),Nt((()=>{n||(q.current=null)}),[n]);const re=null!=c,ie=r.useMemo((()=>{function e(e){if(!n)return;const t=l.current.indexOf(e);-1!==t&&U(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...b&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;Y.current&&"touch"!==t&&(z.current=-1,ne(l,z),U(null),y||Pt(o.floating.current,{preventScroll:!0}))}}}}),[n,o,ne,b,l,U,y]);return r.useMemo((()=>{if(!h)return{};const e=Q.current;function t(t){if(Y.current=!1,K.current=!0,!X.current&&t.currentTarget===o.floating.current)return;if(g&&dr(t.key,I,v))return F(t),i(!1,t.nativeEvent,"list-navigation"),void(u(a)&&!y&&a.focus());const r=z.current,s=kt(l,e),c=_t(l,e);if("Home"===t.key&&(F(t),z.current=s,U(z.current)),"End"===t.key&&(F(t),z.current=c,U(z.current)),D>1){const n=O||Array.from({length:l.current.length},(()=>({width:1,height:1}))),r=xt(n,D,R),i=r.findIndex((t=>null!=t&&!(null!=e&&e.includes(t)))),o=r.reduce(((t,n,r)=>null==n||null!=e&&e.includes(n)?t:r),-1);if(z.current=r[It({current:r.map((e=>null!=e?l.current[e]:null))},{event:t,orientation:I,loop:m,cols:D,disabledIndices:Ct([...e||[],void 0],r),minIndex:i,maxIndex:o,prevIndex:Tt(z.current,n,r,D,t.key===vt?"bl":t.key===wt?"tr":"tl"),stopEvent:!0})],U(z.current),"both"===I)return}if(cr(t.key,I)){if(F(t),n&&!y&&k(t.currentTarget.ownerDocument)===t.currentTarget)return z.current=ur(t.key,I,v)?s:c,void U(z.current);ur(t.key,I,v)?z.current=m?r>=c?p&&r!==l.current.length?-1:s:Et(l,{startingIndex:r,disabledIndices:e}):Math.min(c,Et(l,{startingIndex:r,disabledIndices:e})):z.current=m?r<=s?p&&-1!==r?l.current.length:c:Et(l,{startingIndex:r,decrement:!0,disabledIndices:e}):Math.max(s,Et(l,{startingIndex:r,decrement:!0,disabledIndices:e})),St(l,z.current)?U(null):U(z.current)}}function r(e){"auto"===w&&x(e.nativeEvent)&&(V.current=!0)}const s=y&&n&&re&&{"aria-activedescendant":ee||$},c=l.current.find((e=>(null==e?void 0:e.id)===$));return{reference:{...s,onKeyDown(r){Y.current=!1;const o=0===r.key.indexOf("Arrow"),a=function(e,t,n){return lr(t,n?e===yt:e===wt,e===vt)}(r.key,I,v),s=dr(r.key,I,v),u=cr(r.key,I),d=(g?a:u)||"Enter"===r.key||""===r.key.trim();if(y&&n){const e=null==B?void 0:B.nodesRef.current.find((e=>null==e.parentId)),n=B&&e?function(e,t){let n,r=-1;return function t(i,o){o>r&&(n=i,r=o),pn(e,i).forEach((e=>{t(e.id,o+1)}))}(t,0),e.find((e=>e.id===n))}(B.nodesRef.current,e.id):null;if(o&&n&&M){const e=new KeyboardEvent("keydown",{key:r.key,bubbles:!0});if(a||s){var h,p;const t=(null==(h=n.context)?void 0:h.elements.domReference)===r.currentTarget,i=s&&!t?null==(p=n.context)?void 0:p.elements.domReference:a?c:null;i&&(F(r),i.dispatchEvent(e),te(void 0))}var m;if(u&&n.context)if(n.context.open&&n.parentId&&r.currentTarget!==n.context.elements.domReference)return F(r),void(null==(m=n.context.elements.domReference)||m.dispatchEvent(e))}return t(r)}(n||S||!o)&&(d&&(q.current=g&&u?null:r.key),g?a&&(F(r),n?(z.current=kt(l,e),U(z.current)):i(!0,r.nativeEvent,"list-navigation")):u&&(null!=f&&(z.current=f),F(r),!n&&S?i(!0,r.nativeEvent,"list-navigation"):t(r),n&&U(z.current)))},onFocus(){n&&U(null)},onPointerDown:function(e){V.current=w,"auto"===w&&T(e.nativeEvent)&&(V.current=!0)},onMouseDown:r,onClick:r},floating:{"aria-orientation":"both"===I?void 0:I,...!j(a)&&s,onKeyDown:t,onPointerMove(){Y.current=!0}},item:ie}}),[a,o,$,ee,Q,X,l,h,I,v,y,n,re,g,f,S,p,D,m,w,U,i,ie,B,M,O,R])}const fr=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function pr(e,t){var n;void 0===t&&(t={});const{open:i,floatingId:o}=e,{enabled:a=!0,role:s="dialog"}=t,l=null!=(n=fr.get(s))?n:s,c=Kt(),u=null!=$t();return r.useMemo((()=>{if(!a)return{};const e={id:o,...l&&{role:l}};return"tooltip"===l||"label"===s?{reference:{["aria-"+("label"===s?"labelledby":"describedby")]:i?o:void 0},floating:e}:{reference:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":i?o:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&u&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===l&&{"aria-labelledby":c}},item(e){let{active:t,selected:n}=e;const r={role:"option",...t&&{id:o+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}}}),[a,s,l,i,o,c,u])}const mr=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function gr(e,t){return"function"===typeof e?e(t):e}function vr(e,t){void 0===t&&(t={});const{open:n,elements:{floating:i}}=e,{duration:o=250}=t,a=("number"===typeof o?o:o.close)||0,[s,l]=r.useState(!1),[c,u]=r.useState("unmounted"),d=function(e,t){const[n,i]=r.useState(e);return e&&!n&&i(!0),r.useEffect((()=>{if(!e){const e=setTimeout((()=>i(!1)),t);return()=>clearTimeout(e)}}),[e,t]),n}(n,a);return Nt((()=>{s&&!d&&u("unmounted")}),[s,d]),Nt((()=>{if(i){if(n){u("initial");const e=requestAnimationFrame((()=>{u("open")}));return()=>{cancelAnimationFrame(e)}}l(!0),u("close")}}),[n,i]),{isMounted:d,status:c}}function yr(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:i,close:o,common:a,duration:s=250}=t,l=e.placement,c=l.split("-")[0],u=r.useMemo((()=>({side:c,placement:l})),[c,l]),d="number"===typeof s,h=(d?s:s.open)||0,f=(d?s:s.close)||0,[p,m]=r.useState((()=>({...gr(a,u),...gr(n,u)}))),{isMounted:g,status:v}=vr(e,{duration:s}),y=on(n),w=on(i),b=on(o),S=on(a);return Nt((()=>{const e=gr(y.current,u),t=gr(b.current,u),n=gr(S.current,u),r=gr(w.current,u)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===v&&m((t=>({transitionProperty:t.transitionProperty,...n,...e}))),"open"===v&&m({transitionProperty:Object.keys(r).map(mr).join(","),transitionDuration:h+"ms",...n,...r}),"close"===v){const r=t||e;m({transitionProperty:Object.keys(r).map(mr).join(","),transitionDuration:f+"ms",...n,...r})}}),[f,b,y,w,S,h,v,u]),{isMounted:g,styles:p}}function wr(e,t){var n;const{open:i,dataRef:o}=e,{listRef:a,activeIndex:s,onMatch:l,onTypingChange:c,enabled:u=!0,findMatch:d=null,resetMs:h=750,ignoreKeys:f=[],selectedIndex:p=null}=t,m=r.useRef(),g=r.useRef(""),v=r.useRef(null!=(n=null!=p?p:s)?n:-1),y=r.useRef(null),w=mt(l),b=mt(c),S=on(d),k=on(f);return Nt((()=>{i&&(clearTimeout(m.current),y.current=null,g.current="")}),[i]),Nt((()=>{var e;i&&""===g.current&&(v.current=null!=(e=null!=p?p:s)?e:-1)}),[i,p,s]),r.useMemo((()=>{if(!u)return{};function e(e){e?o.current.typing||(o.current.typing=e,b(e)):o.current.typing&&(o.current.typing=e,b(e))}function t(e,t,n){const r=S.current?S.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}function n(n){const r=a.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(r,r,g.current)?e(!1):" "===n.key&&F(n)),null==r||k.current.includes(n.key)||1!==n.key.length||n.ctrlKey||n.metaKey||n.altKey)return;i&&" "!==n.key&&(F(n),e(!0));r.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&g.current===n.key&&(g.current="",v.current=y.current),g.current+=n.key,clearTimeout(m.current),m.current=setTimeout((()=>{g.current="",v.current=y.current,e(!1)}),h);const o=v.current,s=t(r,[...r.slice((o||0)+1),...r.slice(0,(o||0)+1)],g.current);-1!==s?(w(s),y.current=s):" "!==n.key&&(g.current="",e(!1))}return{reference:{onKeyDown:n},floating:{onKeyDown:n,onKeyUp(t){" "===t.key&&e(!1)}}}}),[u,i,o,a,h,k,S,w,b])}function br(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Sr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:a=0,minItemsVisible:s=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=e,{rects:d,elements:{floating:h}}=t,f=n.current[a];if(!f)return{};const p={...t,...await fe(-f.offsetTop-h.clientTop-d.reference.height/2-f.offsetHeight/2-o).fn(t)},m=(null==c?void 0:c.current)||h,g=await ce(br(p,m.scrollHeight),u),v=await ce(p,{...u,elementContext:"reference"}),y=Math.max(0,g.top),w=p.y+y,b=Math.max(0,m.scrollHeight-y-Math.max(0,g.bottom));return m.style.maxHeight=b+"px",m.scrollTop=y,i&&(m.offsetHeight<f.offsetHeight*Math.min(s,n.current.length-1)-1||v.top>=-l||v.bottom>=-l?(0,Be.flushSync)((()=>i(!0))):(0,Be.flushSync)((()=>i(!1)))),r&&(r.current=await ce(br({...p,y:w},m.offsetHeight),u)),{y:w}}});function kr(e,t){const{open:n,elements:i}=e,{enabled:o=!0,overflowRef:a,scrollRef:s,onChange:l}=t,c=mt(l),u=r.useRef(!1),d=r.useRef(null),h=r.useRef(null);return r.useEffect((()=>{if(!o)return;function e(e){if(e.ctrlKey||!t||null==a.current)return;const n=e.deltaY,r=a.current.top>=-.5,i=a.current.bottom>=-.5,o=t.scrollHeight-t.clientHeight,s=n<0?-1:1,l=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!i&&n<0?(e.preventDefault(),(0,Be.flushSync)((()=>{c((e=>e+Math[l](n,o*s)))}))):/firefox/i.test(I())&&(t.scrollTop+=n))}const t=(null==s?void 0:s.current)||i.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{d.current=t.scrollTop,null!=a.current&&(h.current={...a.current})})),()=>{d.current=null,h.current=null,t.removeEventListener("wheel",e)}):void 0}),[o,n,i.floating,a,s,c]),r.useMemo((()=>o?{floating:{onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const e=(null==s?void 0:s.current)||i.floating;if(a.current&&e&&u.current){if(null!==d.current){const t=e.scrollTop-d.current;(a.current.bottom<-.5&&t<-1||a.current.top<-.5&&t>1)&&(0,Be.flushSync)((()=>c((e=>e+t))))}requestAnimationFrame((()=>{d.current=e.scrollTop}))}}}}:{}),[o,a,i.floating,s,c])}function _r(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let a=0,s=o-1;a<o;s=a++){const[e,o]=t[a]||[0,0],[l,c]=t[s]||[0,0];o>=r!==c>=r&&n<=(l-e)*(r-o)/(c-o)+e&&(i=!i)}return i}function Er(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let i,o=!1,a=null,s=null,l=performance.now();const u=e=>{let{x:n,y:u,placement:d,elements:h,onClose:f,nodeId:p,tree:m}=e;return function(e){function g(){clearTimeout(i),f()}if(clearTimeout(i),!h.domReference||!h.floating||null==d||null==n||null==u)return;const{clientX:v,clientY:y}=e,w=[v,y],b=O(e),S="mouseleave"===e.type,k=_(h.floating,b),E=_(h.domReference,b),I=h.domReference.getBoundingClientRect(),x=h.floating.getBoundingClientRect(),T=d.split("-")[0],C=n>x.right-x.width/2,D=u>x.bottom-x.height/2,P=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(w,I),N=x.width>I.width,A=x.height>I.height,M=(N?I:x).left,R=(N?I:x).right,L=(A?I:x).top,F=(A?I:x).bottom;if(k&&(o=!0,!S))return;if(E&&(o=!1),E&&!S)return void(o=!0);if(S&&c(e.relatedTarget)&&_(h.floating,e.relatedTarget))return;if(m&&pn(m.nodesRef.current,p).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===T&&u>=I.bottom-1||"bottom"===T&&u<=I.top+1||"left"===T&&n>=I.right-1||"right"===T&&n<=I.left+1)return g();let j=[];switch(T){case"top":j=[[M,I.top+1],[M,x.bottom-1],[R,x.bottom-1],[R,I.top+1]];break;case"bottom":j=[[M,x.top+1],[M,I.bottom-1],[R,I.bottom-1],[R,x.top+1]];break;case"left":j=[[x.right-1,F],[x.right-1,L],[I.left+1,L],[I.left+1,F]];break;case"right":j=[[I.right-1,F],[I.right-1,L],[x.left+1,L],[x.left+1,F]]}if(!_r([v,y],j)){if(o&&!P)return g();if(!S&&r){const t=function(e,t){const n=performance.now(),r=n-l;if(null===a||null===s||0===r)return a=e,s=t,l=n,null;const i=e-a,o=t-s,c=Math.sqrt(i*i+o*o);return a=e,s=t,l=n,c/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}_r([v,y],function(e){let[n,r]=e;switch(T){case"top":return[[N?n+t/2:C?n+4*t:n-4*t,r+t+1],[N?n-t/2:C?n+4*t:n-4*t,r+t+1],...[[x.left,C||N?x.bottom-t:x.top],[x.right,C?N?x.bottom-t:x.top:x.bottom-t]]];case"bottom":return[[N?n+t/2:C?n+4*t:n-4*t,r-t],[N?n-t/2:C?n+4*t:n-4*t,r-t],...[[x.left,C||N?x.top+t:x.bottom],[x.right,C?N?x.top+t:x.bottom:x.top+t]]];case"left":{const e=[n+t+1,A?r+t/2:D?r+4*t:r-4*t],i=[n+t+1,A?r-t/2:D?r+4*t:r-4*t];return[...[[D||A?x.right-t:x.left,x.top],[D?A?x.right-t:x.left:x.right-t,x.bottom]],e,i]}case"right":return[[n-t,A?r+t/2:D?r+4*t:r-4*t],[n-t,A?r-t/2:D?r+4*t:r-4*t],...[[D||A?x.left+t:x.right,x.top],[D?A?x.left+t:x.right:x.left+t,x.bottom]]]}}([n,u]))?!o&&r&&(i=window.setTimeout(g,40)):g()}}};return u.__options={blockPointerEvents:n},u}},2949:e=>{function t(e){var n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function n(){for(var e,n,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=t(e))&&(i&&(i+=" "),i+=n);return i}e.exports=n,e.exports.clsx=n},427:(e,t)=>{"use strict";t.addLeadingZeros=function(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}},2222:(e,t,n)=>{"use strict";Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return r.enUS}});var r=n(8757)},6868:(e,t)=>{"use strict";t.getDefaultOptions=function(){return n},t.setDefaultOptions=function(e){n=e};let n={}},4578:(e,t,n)=>{"use strict";t.formatters=void 0;var r=n(5440),i=n(9871),o=n(8890),a=n(2252),s=n(7941),l=n(427),c=n(7630);const u="midnight",d="noon",h="morning",f="afternoon",p="evening",m="night";t.formatters={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return c.lightFormatters.y(e,t)},Y:function(e,t,n,r){const i=(0,s.getWeekYear)(e,r),o=i>0?i:1-i;if("YY"===t){const e=o%100;return(0,l.addLeadingZeros)(e,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,l.addLeadingZeros)(o,t.length)},R:function(e,t){const n=(0,o.getISOWeekYear)(e);return(0,l.addLeadingZeros)(n,t.length)},u:function(e,t){const n=e.getFullYear();return(0,l.addLeadingZeros)(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,l.addLeadingZeros)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,l.addLeadingZeros)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return c.lightFormatters.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return(0,l.addLeadingZeros)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=(0,a.getWeek)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,l.addLeadingZeros)(i,t.length)},I:function(e,t,n){const r=(0,i.getISOWeek)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,l.addLeadingZeros)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):c.lightFormatters.d(e,t)},D:function(e,t,n){const i=(0,r.getDayOfYear)(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):(0,l.addLeadingZeros)(i,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,l.addLeadingZeros)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,l.addLeadingZeros)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,l.addLeadingZeros)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?d:0===r?u:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?p:r>=12?f:r>=4?h:m,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return c.lightFormatters.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):c.lightFormatters.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,l.addLeadingZeros)(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,l.addLeadingZeros)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):c.lightFormatters.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):c.lightFormatters.s(e,t)},S:function(e,t){return c.lightFormatters.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return v(r);case"XXXX":case"XX":return y(r);default:return y(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return v(r);case"xxxx":case"xx":return y(r);default:return y(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(r,":");default:return"GMT"+y(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(r,":");default:return"GMT"+y(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return(0,l.addLeadingZeros)(r,t.length)},T:function(e,t,n){const r=e.getTime();return(0,l.addLeadingZeros)(r,t.length)}};function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+(0,l.addLeadingZeros)(o,2)}function v(e,t){if(e%60===0){return(e>0?"-":"+")+(0,l.addLeadingZeros)(Math.abs(e)/60,2)}return y(e,t)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+(0,l.addLeadingZeros)(Math.trunc(r/60),2)+t+(0,l.addLeadingZeros)(r%60,2)}},7630:(e,t,n)=>{"use strict";t.lightFormatters=void 0;var r=n(427);t.lightFormatters={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return(0,r.addLeadingZeros)("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):(0,r.addLeadingZeros)(n+1,2)},d:(e,t)=>(0,r.addLeadingZeros)(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>(0,r.addLeadingZeros)(e.getHours()%12||12,t.length),H:(e,t)=>(0,r.addLeadingZeros)(e.getHours(),t.length),m:(e,t)=>(0,r.addLeadingZeros)(e.getMinutes(),t.length),s:(e,t)=>(0,r.addLeadingZeros)(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return(0,r.addLeadingZeros)(o,t.length)}}},5916:(e,t)=>{"use strict";t.longFormatters=void 0;const n=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};t.longFormatters={p:r,P:(e,t)=>{const i=e.match(/(P+)(p+)?/)||[],o=i[1],a=i[2];if(!a)return n(e,t);let s;switch(o){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",n(o,t)).replace("{{time}}",r(a,t))}}},3300:(e,t,n)=>{"use strict";t.getTimezoneOffsetInMilliseconds=function(e){const t=(0,r.toDate)(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n};var r=n(5551)},8913:(e,t)=>{"use strict";t.isProtectedDayOfYearToken=function(e){return n.test(e)},t.isProtectedWeekYearToken=function(e){return r.test(e)},t.warnOrThrowProtectedError=function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),i.includes(e))throw new RangeError(r)};const n=/^D+$/,r=/^Y+$/,i=["D","DD","YY","YYYY"]},8620:(e,t,n)=>{"use strict";t.addDays=function(e,t){const n=(0,r.toDate)(e);if(isNaN(t))return(0,i.constructFrom)(e,NaN);if(!t)return n;return n.setDate(n.getDate()+t),n};var r=n(5551),i=n(4161)},5608:(e,t,n)=>{"use strict";t.addHours=function(e,t){return(0,r.addMilliseconds)(e,t*i.millisecondsInHour)};var r=n(3773),i=n(9757)},3773:(e,t,n)=>{"use strict";t.addMilliseconds=function(e,t){const n=+(0,r.toDate)(e);return(0,i.constructFrom)(e,n+t)};var r=n(5551),i=n(4161)},86:(e,t,n)=>{"use strict";t.addMinutes=function(e,t){return(0,r.addMilliseconds)(e,t*i.millisecondsInMinute)};var r=n(3773),i=n(9757)},4640:(e,t,n)=>{"use strict";t.addMonths=function(e,t){const n=(0,r.toDate)(e);if(isNaN(t))return(0,i.constructFrom)(e,NaN);if(!t)return n;const o=n.getDate(),a=(0,i.constructFrom)(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const s=a.getDate();return o>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)};var r=n(5551),i=n(4161)},1634:(e,t,n)=>{"use strict";t.addQuarters=function(e,t){const n=3*t;return(0,r.addMonths)(e,n)};var r=n(4640)},9994:(e,t,n)=>{"use strict";t.addWeeks=function(e,t){const n=7*t;return(0,r.addDays)(e,n)};var r=n(8620)},709:(e,t,n)=>{"use strict";t.addYears=function(e,t){return(0,r.addMonths)(e,12*t)};var r=n(4640)},9757:(e,t)=>{"use strict";t.secondsInYear=t.secondsInWeek=t.secondsInQuarter=t.secondsInMonth=t.secondsInMinute=t.secondsInHour=t.secondsInDay=t.quartersInYear=t.monthsInYear=t.monthsInQuarter=t.minutesInYear=t.minutesInMonth=t.minutesInHour=t.minutesInDay=t.minTime=t.millisecondsInWeek=t.millisecondsInSecond=t.millisecondsInMinute=t.millisecondsInHour=t.millisecondsInDay=t.maxTime=t.daysInYear=t.daysInWeek=void 0;t.daysInWeek=7;const n=t.daysInYear=365.2425,r=t.maxTime=24*Math.pow(10,8)*60*60*1e3,i=(t.minTime=-r,t.millisecondsInWeek=6048e5,t.millisecondsInDay=864e5,t.millisecondsInMinute=6e4,t.millisecondsInHour=36e5,t.millisecondsInSecond=1e3,t.minutesInYear=525600,t.minutesInMonth=43200,t.minutesInDay=1440,t.minutesInHour=60,t.monthsInQuarter=3,t.monthsInYear=12,t.quartersInYear=4,t.secondsInHour=3600),o=(t.secondsInMinute=60,t.secondsInDay=24*i),a=(t.secondsInWeek=7*o,t.secondsInYear=o*n),s=t.secondsInMonth=a/12;t.secondsInQuarter=3*s},4161:(e,t)=>{"use strict";t.constructFrom=function(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}},3439:(e,t,n)=>{"use strict";t.differenceInCalendarDays=function(e,t){const n=(0,i.startOfDay)(e),a=(0,i.startOfDay)(t),s=+n-(0,o.getTimezoneOffsetInMilliseconds)(n),l=+a-(0,o.getTimezoneOffsetInMilliseconds)(a);return Math.round((s-l)/r.millisecondsInDay)};var r=n(9757),i=n(6191),o=n(3300)},5575:(e,t,n)=>{"use strict";t.differenceInCalendarMonths=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t),o=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return 12*o+a};var r=n(5551)},9840:(e,t,n)=>{"use strict";t.differenceInCalendarYears=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()-i.getFullYear()};var r=n(5551)},2412:(e,t,n)=>{"use strict";t.endOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(23,59,59,999),t};var r=n(5551)},8268:(e,t,n)=>{"use strict";t.endOfMonth=function(e){const t=(0,r.toDate)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t};var r=n(5551)},4016:(e,t,n)=>{"use strict";t.endOfWeek=function(e,t){var n,o,a,s,l,c;const u=(0,i.getDefaultOptions)(),d=null!==(n=null!==(o=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==o?o:null===(c=u.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0,h=(0,r.toDate)(e),f=h.getDay(),p=6+(f<d?-7:0)-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h};var r=n(5551),i=n(6868)},4889:(e,t,n)=>{"use strict";t.endOfYear=function(e){const t=(0,r.toDate)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t};var r=n(5551)},4333:(e,t,n)=>{"use strict";t.format=t.formatDate=function(e,t,n){var h,f,g,v,y,w,b,S,k,_,E,I,x,T;const C=(0,i.getDefaultOptions)(),D=null!==(h=null!==(f=null===n||void 0===n?void 0:n.locale)&&void 0!==f?f:C.locale)&&void 0!==h?h:r.defaultLocale,P=null!==(g=null!==(v=null!==(y=null!==(w=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==w?w:null===n||void 0===n||null===(b=n.locale)||void 0===b||null===(b=b.options)||void 0===b?void 0:b.firstWeekContainsDate)&&void 0!==y?y:C.firstWeekContainsDate)&&void 0!==v?v:null===(S=C.locale)||void 0===S||null===(S=S.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==g?g:1,N=null!==(k=null!==(_=null!==(E=null!==(I=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==I?I:null===n||void 0===n||null===(x=n.locale)||void 0===x||null===(x=x.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==E?E:C.weekStartsOn)&&void 0!==_?_:null===(T=C.locale)||void 0===T||null===(T=T.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==k?k:0,A=(0,c.toDate)(e);if(!(0,l.isValid)(A))throw new RangeError("Invalid time value");let M=t.match(d).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,a.longFormatters[t])(e,D.formatLong)}return e})).join("").match(u).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:m(e)};if(o.formatters[t])return{isToken:!0,value:e};if(t.match(p))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));D.localize.preprocessor&&(M=D.localize.preprocessor(A,M));const O={firstWeekContainsDate:P,weekStartsOn:N,locale:D};return M.map((r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!(0,s.isProtectedWeekYearToken)(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!(0,s.isProtectedDayOfYearToken)(i))||(0,s.warnOrThrowProtectedError)(i,t,String(e));return(0,o.formatters[i[0]])(A,i,D.localize,O)})).join("")},Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return o.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return a.longFormatters}});var r=n(2222),i=n(6868),o=n(4578),a=n(5916),s=n(8913),l=n(9858),c=n(5551);const u=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h=/^'([^]*?)'?$/,f=/''/g,p=/[a-zA-Z]/;function m(e){const t=e.match(h);return t?t[1].replace(f,"'"):e}},5528:(e,t,n)=>{"use strict";t.getDate=function(e){const t=(0,r.toDate)(e);return t.getDate()};var r=n(5551)},7600:(e,t,n)=>{"use strict";t.getDay=function(e){const t=(0,r.toDate)(e);return t.getDay()};var r=n(5551)},5440:(e,t,n)=>{"use strict";t.getDayOfYear=function(e){const t=(0,o.toDate)(e),n=(0,r.differenceInCalendarDays)(t,(0,i.startOfYear)(t));return n+1};var r=n(3439),i=n(7332),o=n(5551)},272:(e,t,n)=>{"use strict";t.getDaysInMonth=function(e){const t=(0,r.toDate)(e),n=t.getFullYear(),o=t.getMonth(),a=(0,i.constructFrom)(e,0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()};var r=n(5551),i=n(4161)},7153:(e,t,n)=>{"use strict";t.getDefaultOptions=function(){return Object.assign({},(0,r.getDefaultOptions)())};var r=n(6868)},5857:(e,t,n)=>{"use strict";t.getHours=function(e){const t=(0,r.toDate)(e);return t.getHours()};var r=n(5551)},8601:(e,t,n)=>{"use strict";t.getISODay=function(e){let t=(0,r.toDate)(e).getDay();0===t&&(t=7);return t};var r=n(5551)},9871:(e,t,n)=>{"use strict";t.getISOWeek=function(e){const t=(0,a.toDate)(e),n=+(0,i.startOfISOWeek)(t)-+(0,o.startOfISOWeekYear)(t);return Math.round(n/r.millisecondsInWeek)+1};var r=n(9757),i=n(1048),o=n(2329),a=n(5551)},8890:(e,t,n)=>{"use strict";t.getISOWeekYear=function(e){const t=(0,o.toDate)(e),n=t.getFullYear(),a=(0,r.constructFrom)(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=(0,i.startOfISOWeek)(a),l=(0,r.constructFrom)(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=(0,i.startOfISOWeek)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1};var r=n(4161),i=n(1048),o=n(5551)},8667:(e,t,n)=>{"use strict";t.getMinutes=function(e){const t=(0,r.toDate)(e);return t.getMinutes()};var r=n(5551)},8920:(e,t,n)=>{"use strict";t.getMonth=function(e){const t=(0,r.toDate)(e);return t.getMonth()};var r=n(5551)},2918:(e,t,n)=>{"use strict";t.getQuarter=function(e){const t=(0,r.toDate)(e);return Math.trunc(t.getMonth()/3)+1};var r=n(5551)},2808:(e,t,n)=>{"use strict";t.getSeconds=function(e){const t=(0,r.toDate)(e);return t.getSeconds()};var r=n(5551)},7025:(e,t,n)=>{"use strict";t.getTime=function(e){const t=(0,r.toDate)(e);return t.getTime()};var r=n(5551)},2252:(e,t,n)=>{"use strict";t.getWeek=function(e,t){const n=(0,a.toDate)(e),s=+(0,i.startOfWeek)(n,t)-+(0,o.startOfWeekYear)(n,t);return Math.round(s/r.millisecondsInWeek)+1};var r=n(9757),i=n(9249),o=n(568),a=n(5551)},7941:(e,t,n)=>{"use strict";t.getWeekYear=function(e,t){var n,s,l,c,u,d;const h=(0,o.toDate)(e),f=h.getFullYear(),p=(0,a.getDefaultOptions)(),m=null!==(n=null!==(s=null!==(l=null!==(c=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:p.firstWeekContainsDate)&&void 0!==s?s:null===(d=p.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1,g=(0,r.constructFrom)(e,0);g.setFullYear(f+1,0,m),g.setHours(0,0,0,0);const v=(0,i.startOfWeek)(g,t),y=(0,r.constructFrom)(e,0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);const w=(0,i.startOfWeek)(y,t);return h.getTime()>=v.getTime()?f+1:h.getTime()>=w.getTime()?f:f-1};var r=n(4161),i=n(9249),o=n(5551),a=n(6868)},309:(e,t,n)=>{"use strict";t.getYear=function(e){return(0,r.toDate)(e).getFullYear()};var r=n(5551)},1882:(e,t,n)=>{"use strict";t.isAfter=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getTime()>i.getTime()};var r=n(5551)},4593:(e,t,n)=>{"use strict";t.isBefore=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return+n<+i};var r=n(5551)},1890:(e,t)=>{"use strict";t.isDate=function(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},6500:(e,t,n)=>{"use strict";t.isEqual=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return+n===+i};var r=n(5551)},6063:(e,t,n)=>{"use strict";t.isSameDay=function(e,t){const n=(0,r.startOfDay)(e),i=(0,r.startOfDay)(t);return+n===+i};var r=n(6191)},8060:(e,t,n)=>{"use strict";t.isSameMonth=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()};var r=n(5551)},8322:(e,t,n)=>{"use strict";t.isSameQuarter=function(e,t){const n=(0,r.startOfQuarter)(e),i=(0,r.startOfQuarter)(t);return+n===+i};var r=n(1125)},4265:(e,t,n)=>{"use strict";t.isSameYear=function(e,t){const n=(0,r.toDate)(e),i=(0,r.toDate)(t);return n.getFullYear()===i.getFullYear()};var r=n(5551)},9858:(e,t,n)=>{"use strict";t.isValid=function(e){if(!(0,r.isDate)(e)&&"number"!==typeof e)return!1;const t=(0,i.toDate)(e);return!isNaN(Number(t))};var r=n(1890),i=n(5551)},4148:(e,t,n)=>{"use strict";t.isWithinInterval=function(e,t){const n=+(0,r.toDate)(e),[i,o]=[+(0,r.toDate)(t.start),+(0,r.toDate)(t.end)].sort(((e,t)=>e-t));return n>=i&&n<=o};var r=n(5551)},3997:(e,t)=>{"use strict";t.buildFormatLongFn=function(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}},9555:(e,t)=>{"use strict";t.buildLocalizeFn=function(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}},9387:(e,t)=>{"use strict";t.buildMatchFn=function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}},4273:(e,t)=>{"use strict";t.buildMatchPatternFn=function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}},8757:(e,t,n)=>{"use strict";t.enUS=void 0;var r=n(8203),i=n(342),o=n(9104),a=n(6608),s=n(4986);t.enUS={code:"en-US",formatDistance:r.formatDistance,formatLong:i.formatLong,formatRelative:o.formatRelative,localize:a.localize,match:s.match,options:{weekStartsOn:0,firstWeekContainsDate:1}}},8203:(e,t)=>{"use strict";t.formatDistance=void 0;const n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};t.formatDistance=(e,t,r)=>{let i;const o=n[e];return i="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i}},342:(e,t,n)=>{"use strict";t.formatLong=void 0;var r=n(3997);t.formatLong={date:(0,r.buildFormatLongFn)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.buildFormatLongFn)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.buildFormatLongFn)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})}},9104:(e,t)=>{"use strict";t.formatRelative=void 0;const n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};t.formatRelative=(e,t,r,i)=>n[e]},6608:(e,t,n)=>{"use strict";t.localize=void 0;var r=n(9555);t.localize={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,r.buildLocalizeFn)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,r.buildLocalizeFn)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.buildLocalizeFn)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.buildLocalizeFn)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},4986:(e,t,n)=>{"use strict";t.match=void 0;var r=n(9387),i=n(4273);t.match={ordinalNumber:(0,i.buildMatchPatternFn)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},8442:(e,t,n)=>{"use strict";t.max=function(e){let t;return e.forEach((function(e){const n=(0,r.toDate)(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)})),t||new Date(NaN)};var r=n(5551)},1972:(e,t,n)=>{"use strict";t.min=function(e){let t;return e.forEach((e=>{const n=(0,r.toDate)(e);(!t||t>n||isNaN(+n))&&(t=n)})),t||new Date(NaN)};var r=n(5551)},4251:(e,t,n)=>{"use strict";Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return s.longFormatters}}),t.parse=function(e,t,n,v){var y,w,b,S,k,_,E,I,x,T,C,D,P,N;const A=(0,i.getDefaultOptions)(),M=null!==(y=null!==(w=null===v||void 0===v?void 0:v.locale)&&void 0!==w?w:A.locale)&&void 0!==y?y:o.defaultLocale,O=null!==(b=null!==(S=null!==(k=null!==(_=null===v||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==_?_:null===v||void 0===v||null===(E=v.locale)||void 0===E||null===(E=E.options)||void 0===E?void 0:E.firstWeekContainsDate)&&void 0!==k?k:A.firstWeekContainsDate)&&void 0!==S?S:null===(I=A.locale)||void 0===I||null===(I=I.options)||void 0===I?void 0:I.firstWeekContainsDate)&&void 0!==b?b:1,R=null!==(x=null!==(T=null!==(C=null!==(D=null===v||void 0===v?void 0:v.weekStartsOn)&&void 0!==D?D:null===v||void 0===v||null===(P=v.locale)||void 0===P||null===(P=P.options)||void 0===P?void 0:P.weekStartsOn)&&void 0!==C?C:A.weekStartsOn)&&void 0!==T?T:null===(N=A.locale)||void 0===N||null===(N=N.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==x?x:0;if(""===t)return""===e?(0,a.toDate)(n):(0,r.constructFrom)(n,NaN);const L={firstWeekContainsDate:O,weekStartsOn:R,locale:M},F=[new u.DateToSystemTimezoneSetter],j=t.match(h).map((e=>{const t=e[0];if(t in s.longFormatters){return(0,s.longFormatters[t])(e,M.formatLong)}return e})).join("").match(d),B=[];for(let i of j){null!==v&&void 0!==v&&v.useAdditionalWeekYearTokens||!(0,l.isProtectedWeekYearToken)(i)||(0,l.warnOrThrowProtectedError)(i,t,e),null!==v&&void 0!==v&&v.useAdditionalDayOfYearTokens||!(0,l.isProtectedDayOfYearToken)(i)||(0,l.warnOrThrowProtectedError)(i,t,e);const o=i[0],a=c.parsers[o];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=B.find((e=>t.includes(e.token)||e.token===o));if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(i,"` at the same time"))}else if("*"===a.incompatibleTokens&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(i,"` and any other token at the same time"));B.push({token:o,fullToken:i});const s=a.run(e,i,M.match,L);if(!s)return(0,r.constructFrom)(n,NaN);F.push(s.setter),e=s.rest}else{if(o.match(g))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");if("''"===i?i="'":"'"===o&&(i=i.match(f)[1].replace(p,"'")),0!==e.indexOf(i))return(0,r.constructFrom)(n,NaN);e=e.slice(i.length)}}if(e.length>0&&m.test(e))return(0,r.constructFrom)(n,NaN);const U=F.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>F.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let V=(0,a.toDate)(n);if(isNaN(V.getTime()))return(0,r.constructFrom)(n,NaN);const z={};for(const i of U){if(!i.validate(V,L))return(0,r.constructFrom)(n,NaN);const e=i.set(V,z,L);Array.isArray(e)?(V=e[0],Object.assign(z,e[1])):V=e}return(0,r.constructFrom)(n,V)},Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return c.parsers}});var r=n(4161),i=n(7153),o=n(2222),a=n(5551),s=n(5916),l=n(8913),c=n(7109),u=n(7318);const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f=/^'([^]*?)'?$/,p=/''/g,m=/\S/,g=/[a-zA-Z]/},3458:(e,t,n)=>{"use strict";t.parseISO=function(e,t){var n;const h=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,f=function(e){const t={},n=e.split(i.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],i.timeZoneDelimiter.test(t.date)&&(t.date=e.split(i.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=i.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let p;if(f.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(f.date,h);p=function(e,t){if(null===t)return new Date(NaN);const n=e.match(o);if(!n)return new Date(NaN);const r=!!n[4],i=l(n[1]),a=l(n[2])-1,s=l(n[3]),c=l(n[4]),h=l(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,h)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,c,h):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(u[t]||(d(e)?29:28))}(t,a,s)&&function(e,t){return t>=1&&t<=(d(e)?366:365)}(t,i)?(e.setUTCFullYear(t,a,Math.max(i,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!p||isNaN(p.getTime()))return new Date(NaN);const m=p.getTime();let g,v=0;if(f.time&&(v=function(e){const t=e.match(a);if(!t)return NaN;const n=c(t[1]),i=c(t[2]),o=c(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,i,o))return NaN;return n*r.millisecondsInHour+i*r.millisecondsInMinute+1e3*o}(f.time),isNaN(v)))return new Date(NaN);if(!f.timezone){const e=new Date(m+v),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}if(g=function(e){if("Z"===e)return 0;const t=e.match(s);if(!t)return 0;const n="+"===t[1]?-1:1,i=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(i*r.millisecondsInHour+o*r.millisecondsInMinute)}(f.timezone),isNaN(g))return new Date(NaN);return new Date(m+v+g)};var r=n(9757);const i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,a=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(e){return e?parseInt(e):1}function c(e){return e&&parseFloat(e.replace(",","."))||0}const u=[31,null,31,30,31,30,31,31,30,31,30,31];function d(e){return e%400===0||e%4===0&&e%100!==0}},9758:(e,t,n)=>{"use strict";t.Parser=void 0;var r=n(7318);t.Parser=class{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new r.ValueSetter(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}},7318:(e,t,n)=>{"use strict";var r=n(3693).default;t.ValueSetter=t.Setter=t.DateToSystemTimezoneSetter=void 0;var i=n(3583),o=n(4161);class a{constructor(){r(this,"subPriority",0)}validate(e,t){return!0}}t.Setter=a;t.ValueSetter=class extends a{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}};t.DateToSystemTimezoneSetter=class extends a{constructor(){super(...arguments),r(this,"priority",10),r(this,"subPriority",-1)}set(e,t){return t.timestampIsSet?e:(0,o.constructFrom)(e,(0,i.transpose)(e,Date))}}},3704:(e,t)=>{"use strict";t.timezonePatterns=t.numericPatterns=void 0;t.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},t.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/}},7109:(e,t,n)=>{"use strict";t.parsers=void 0;var r=n(7615),i=n(8550),o=n(9967),a=n(5065),s=n(2403),l=n(3245),c=n(96),u=n(8403),d=n(4818),h=n(3118),f=n(5428),p=n(6099),m=n(1931),g=n(1755),v=n(4227),y=n(3023),w=n(610),b=n(6282),S=n(9766),k=n(3438),_=n(4690),E=n(8829),I=n(5640),x=n(9495),T=n(9271),C=n(7223),D=n(7804),P=n(2135),N=n(7271),A=n(6990),M=n(3883);t.parsers={G:new r.EraParser,y:new i.YearParser,Y:new o.LocalWeekYearParser,R:new a.ISOWeekYearParser,u:new s.ExtendedYearParser,Q:new l.QuarterParser,q:new c.StandAloneQuarterParser,M:new u.MonthParser,L:new d.StandAloneMonthParser,w:new h.LocalWeekParser,I:new f.ISOWeekParser,d:new p.DateParser,D:new m.DayOfYearParser,E:new g.DayParser,e:new v.LocalDayParser,c:new y.StandAloneLocalDayParser,i:new w.ISODayParser,a:new b.AMPMParser,b:new S.AMPMMidnightParser,B:new k.DayPeriodParser,h:new _.Hour1to12Parser,H:new E.Hour0to23Parser,K:new I.Hour0To11Parser,k:new x.Hour1To24Parser,m:new T.MinuteParser,s:new C.SecondParser,S:new D.FractionOfSecondParser,X:new P.ISOTimezoneWithZParser,x:new N.ISOTimezoneParser,t:new A.TimestampSecondsParser,T:new M.TimestampMillisecondsParser}},9766:(e,t,n)=>{"use strict";var r=n(3693).default;t.AMPMMidnightParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",80),r(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,o.dayPeriodEnumToHours)(n),0,0,0),e}}t.AMPMMidnightParser=a},6282:(e,t,n)=>{"use strict";var r=n(3693).default;t.AMPMParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",80),r(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,o.dayPeriodEnumToHours)(n),0,0,0),e}}t.AMPMParser=a},6099:(e,t,n)=>{"use strict";var r=n(3693).default;t.DateParser=void 0;var i=n(3704),o=n(9758),a=n(4636);const s=[31,28,31,30,31,30,31,31,30,31,30,31],l=[31,29,31,30,31,30,31,31,30,31,30,31];class c extends o.Parser{constructor(){super(...arguments),r(this,"priority",90),r(this,"subPriority",1),r(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return(0,a.parseNumericPattern)(i.numericPatterns.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){const n=e.getFullYear(),r=(0,a.isLeapYearIndex)(n),i=e.getMonth();return r?t>=1&&t<=l[i]:t>=1&&t<=s[i]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}}t.DateParser=c},1931:(e,t,n)=>{"use strict";var r=n(3693).default;t.DayOfYearParser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",90),r(this,"subpriority",1),r(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return(0,a.parseNumericPattern)(i.numericPatterns.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){const n=e.getFullYear();return(0,a.isLeapYearIndex)(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}}t.DayOfYearParser=s},1755:(e,t,n)=>{"use strict";var r=n(3693).default;t.DayParser=void 0;var i=n(8844),o=n(9758);class a extends o.Parser{constructor(){super(...arguments),r(this,"priority",90),r(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=(0,i.setDay)(e,n,r)).setHours(0,0,0,0),e}}t.DayParser=a},3438:(e,t,n)=>{"use strict";var r=n(3693).default;t.DayPeriodParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",80),r(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours((0,o.dayPeriodEnumToHours)(n),0,0,0),e}}t.DayPeriodParser=a},7615:(e,t,n)=>{"use strict";var r=n(3693).default;t.EraParser=void 0;var i=n(9758);class o extends i.Parser{constructor(){super(...arguments),r(this,"priority",140),r(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}t.EraParser=o},2403:(e,t,n)=>{"use strict";var r=n(3693).default;t.ExtendedYearParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",130),r(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return"u"===t?(0,o.parseNDigitsSigned)(4,e):(0,o.parseNDigitsSigned)(t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}t.ExtendedYearParser=a},7804:(e,t,n)=>{"use strict";var r=n(3693).default;t.FractionOfSecondParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",30),r(this,"incompatibleTokens",["t","T"])}parse(e,t){return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}}t.FractionOfSecondParser=a},5640:(e,t,n)=>{"use strict";var r=n(3693).default;t.Hour0To11Parser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",70),r(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return(0,a.parseNumericPattern)(i.numericPatterns.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}}t.Hour0To11Parser=s},8829:(e,t,n)=>{"use strict";var r=n(3693).default;t.Hour0to23Parser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",70),r(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return(0,a.parseNumericPattern)(i.numericPatterns.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}}t.Hour0to23Parser=s},9495:(e,t,n)=>{"use strict";var r=n(3693).default;t.Hour1To24Parser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",70),r(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return(0,a.parseNumericPattern)(i.numericPatterns.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}}t.Hour1To24Parser=s},4690:(e,t,n)=>{"use strict";var r=n(3693).default;t.Hour1to12Parser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",70),r(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return(0,a.parseNumericPattern)(i.numericPatterns.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}}t.Hour1to12Parser=s},610:(e,t,n)=>{"use strict";var r=n(3693).default;t.ISODayParser=void 0;var i=n(261),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",90),r(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return(0,a.parseNDigits)(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return(0,a.mapValue)(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return(0,a.mapValue)(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return(0,a.mapValue)(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return(0,a.mapValue)(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=(0,i.setISODay)(e,n)).setHours(0,0,0,0),e}}t.ISODayParser=s},7271:(e,t,n)=>{"use strict";var r=n(3693).default;t.ISOTimezoneParser=void 0;var i=n(4161),o=n(3300),a=n(3704),s=n(9758),l=n(4636);class c extends s.Parser{constructor(){super(...arguments),r(this,"priority",10),r(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return(0,l.parseTimezonePattern)(a.timezonePatterns.basicOptionalMinutes,e);case"xx":return(0,l.parseTimezonePattern)(a.timezonePatterns.basic,e);case"xxxx":return(0,l.parseTimezonePattern)(a.timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return(0,l.parseTimezonePattern)(a.timezonePatterns.extendedOptionalSeconds,e);default:return(0,l.parseTimezonePattern)(a.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,i.constructFrom)(e,e.getTime()-(0,o.getTimezoneOffsetInMilliseconds)(e)-n)}}t.ISOTimezoneParser=c},2135:(e,t,n)=>{"use strict";var r=n(3693).default;t.ISOTimezoneWithZParser=void 0;var i=n(4161),o=n(3300),a=n(3704),s=n(9758),l=n(4636);class c extends s.Parser{constructor(){super(...arguments),r(this,"priority",10),r(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return(0,l.parseTimezonePattern)(a.timezonePatterns.basicOptionalMinutes,e);case"XX":return(0,l.parseTimezonePattern)(a.timezonePatterns.basic,e);case"XXXX":return(0,l.parseTimezonePattern)(a.timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return(0,l.parseTimezonePattern)(a.timezonePatterns.extendedOptionalSeconds,e);default:return(0,l.parseTimezonePattern)(a.timezonePatterns.extended,e)}}set(e,t,n){return t.timestampIsSet?e:(0,i.constructFrom)(e,e.getTime()-(0,o.getTimezoneOffsetInMilliseconds)(e)-n)}}t.ISOTimezoneWithZParser=c},5428:(e,t,n)=>{"use strict";var r=n(3693).default;t.ISOWeekParser=void 0;var i=n(5267),o=n(1048),a=n(3704),s=n(9758),l=n(4636);class c extends s.Parser{constructor(){super(...arguments),r(this,"priority",100),r(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return(0,l.parseNumericPattern)(a.numericPatterns.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return(0,l.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return(0,o.startOfISOWeek)((0,i.setISOWeek)(e,n))}}t.ISOWeekParser=c},5065:(e,t,n)=>{"use strict";var r=n(3693).default;t.ISOWeekYearParser=void 0;var i=n(1048),o=n(4161),a=n(9758),s=n(4636);class l extends a.Parser{constructor(){super(...arguments),r(this,"priority",130),r(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return"R"===t?(0,s.parseNDigitsSigned)(4,e):(0,s.parseNDigitsSigned)(t.length,e)}set(e,t,n){const r=(0,o.constructFrom)(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,i.startOfISOWeek)(r)}}t.ISOWeekYearParser=l},4227:(e,t,n)=>{"use strict";var r=n(3693).default;t.LocalDayParser=void 0;var i=n(8844),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",90),r(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return(0,a.mapValue)((0,a.parseNDigits)(t.length,e),i);case"eo":return(0,a.mapValue)(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=(0,i.setDay)(e,n,r)).setHours(0,0,0,0),e}}t.LocalDayParser=s},3118:(e,t,n)=>{"use strict";var r=n(3693).default;t.LocalWeekParser=void 0;var i=n(5056),o=n(9249),a=n(3704),s=n(9758),l=n(4636);class c extends s.Parser{constructor(){super(...arguments),r(this,"priority",100),r(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return(0,l.parseNumericPattern)(a.numericPatterns.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return(0,l.parseNDigits)(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return(0,o.startOfWeek)((0,i.setWeek)(e,n,r),r)}}t.LocalWeekParser=c},9967:(e,t,n)=>{"use strict";var r=n(3693).default;t.LocalWeekYearParser=void 0;var i=n(7941),o=n(9249),a=n(9758),s=n(4636);class l extends a.Parser{constructor(){super(...arguments),r(this,"priority",130),r(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return(0,s.mapValue)((0,s.parseNDigits)(4,e),r);case"Yo":return(0,s.mapValue)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,s.mapValue)((0,s.parseNDigits)(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=(0,i.getWeekYear)(e,r);if(n.isTwoDigitYear){const t=(0,s.normalizeTwoDigitYear)(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),(0,o.startOfWeek)(e,r)}const l="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(l,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),(0,o.startOfWeek)(e,r)}}t.LocalWeekYearParser=l},9271:(e,t,n)=>{"use strict";var r=n(3693).default;t.MinuteParser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",60),r(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return(0,a.parseNumericPattern)(i.numericPatterns.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}}t.MinuteParser=s},8403:(e,t,n)=>{"use strict";var r=n(3693).default;t.MonthParser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),r(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return(0,a.mapValue)((0,a.parseNumericPattern)(i.numericPatterns.month,e),r);case"MM":return(0,a.mapValue)((0,a.parseNDigits)(2,e),r);case"Mo":return(0,a.mapValue)(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}t.MonthParser=s},3245:(e,t,n)=>{"use strict";var r=n(3693).default;t.QuarterParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",120),r(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return(0,o.parseNDigits)(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}}t.QuarterParser=a},7223:(e,t,n)=>{"use strict";var r=n(3693).default;t.SecondParser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",50),r(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return(0,a.parseNumericPattern)(i.numericPatterns.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return(0,a.parseNDigits)(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}}t.SecondParser=s},3023:(e,t,n)=>{"use strict";var r=n(3693).default;t.StandAloneLocalDayParser=void 0;var i=n(8844),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",90),r(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return(0,a.mapValue)((0,a.parseNDigits)(t.length,e),i);case"co":return(0,a.mapValue)(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=(0,i.setDay)(e,n,r)).setHours(0,0,0,0),e}}t.StandAloneLocalDayParser=s},4818:(e,t,n)=>{"use strict";var r=n(3693).default;t.StandAloneMonthParser=void 0;var i=n(3704),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",110),r(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return(0,a.mapValue)((0,a.parseNumericPattern)(i.numericPatterns.month,e),r);case"LL":return(0,a.mapValue)((0,a.parseNDigits)(2,e),r);case"Lo":return(0,a.mapValue)(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}t.StandAloneMonthParser=s},96:(e,t,n)=>{"use strict";var r=n(3693).default;t.StandAloneQuarterParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",120),r(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return(0,o.parseNDigits)(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}}t.StandAloneQuarterParser=a},3883:(e,t,n)=>{"use strict";var r=n(3693).default;t.TimestampMillisecondsParser=void 0;var i=n(4161),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",20),r(this,"incompatibleTokens","*")}parse(e){return(0,a.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,i.constructFrom)(e,n),{timestampIsSet:!0}]}}t.TimestampMillisecondsParser=s},6990:(e,t,n)=>{"use strict";var r=n(3693).default;t.TimestampSecondsParser=void 0;var i=n(4161),o=n(9758),a=n(4636);class s extends o.Parser{constructor(){super(...arguments),r(this,"priority",40),r(this,"incompatibleTokens","*")}parse(e){return(0,a.parseAnyDigitsSigned)(e)}set(e,t,n){return[(0,i.constructFrom)(e,1e3*n),{timestampIsSet:!0}]}}t.TimestampSecondsParser=s},8550:(e,t,n)=>{"use strict";var r=n(3693).default;t.YearParser=void 0;var i=n(9758),o=n(4636);class a extends i.Parser{constructor(){super(...arguments),r(this,"priority",130),r(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return(0,o.mapValue)((0,o.parseNDigits)(4,e),r);case"yo":return(0,o.mapValue)(n.ordinalNumber(e,{unit:"year"}),r);default:return(0,o.mapValue)((0,o.parseNDigits)(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=(0,o.normalizeTwoDigitYear)(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}t.YearParser=a},4636:(e,t,n)=>{"use strict";t.dayPeriodEnumToHours=function(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}},t.isLeapYearIndex=function(e){return e%400===0||e%4===0&&e%100!==0},t.mapValue=function(e,t){if(!e)return e;return{value:t(e.value),rest:e.rest}},t.normalizeTwoDigitYear=function(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i},t.parseAnyDigitsSigned=function(e){return o(i.numericPatterns.anyDigitsSigned,e)},t.parseNDigits=function(e,t){switch(e){case 1:return o(i.numericPatterns.singleDigit,t);case 2:return o(i.numericPatterns.twoDigits,t);case 3:return o(i.numericPatterns.threeDigits,t);case 4:return o(i.numericPatterns.fourDigits,t);default:return o(new RegExp("^\\d{1,"+e+"}"),t)}},t.parseNDigitsSigned=function(e,t){switch(e){case 1:return o(i.numericPatterns.singleDigitSigned,t);case 2:return o(i.numericPatterns.twoDigitsSigned,t);case 3:return o(i.numericPatterns.threeDigitsSigned,t);case 4:return o(i.numericPatterns.fourDigitsSigned,t);default:return o(new RegExp("^-?\\d{1,"+e+"}"),t)}},t.parseNumericPattern=o,t.parseTimezonePattern=function(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const i="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:i*(o*r.millisecondsInHour+a*r.millisecondsInMinute+s*r.millisecondsInSecond),rest:t.slice(n[0].length)}};var r=n(9757),i=n(3704);function o(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}},3848:(e,t,n)=>{"use strict";t.set=function(e,t){let n=(0,o.toDate)(e);if(isNaN(+n))return(0,r.constructFrom)(e,NaN);null!=t.year&&n.setFullYear(t.year);null!=t.month&&(n=(0,i.setMonth)(n,t.month));null!=t.date&&n.setDate(t.date);null!=t.hours&&n.setHours(t.hours);null!=t.minutes&&n.setMinutes(t.minutes);null!=t.seconds&&n.setSeconds(t.seconds);null!=t.milliseconds&&n.setMilliseconds(t.milliseconds);return n};var r=n(4161),i=n(2844),o=n(5551)},8844:(e,t,n)=>{"use strict";t.setDay=function(e,t,n){var a,s,l,c,u,d;const h=(0,o.getDefaultOptions)(),f=null!==(a=null!==(s=null!==(l=null!==(c=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==c?c:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:h.weekStartsOn)&&void 0!==s?s:null===(d=h.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==a?a:0,p=(0,i.toDate)(e),m=p.getDay(),g=(t%7+7)%7,v=7-f,y=t<0||t>6?t-(m+v)%7:(g+v)%7-(m+v)%7;return(0,r.addDays)(p,y)};var r=n(8620),i=n(5551),o=n(6868)},3525:(e,t,n)=>{"use strict";t.setHours=function(e,t){const n=(0,r.toDate)(e);return n.setHours(t),n};var r=n(5551)},261:(e,t,n)=>{"use strict";t.setISODay=function(e,t){const n=(0,o.toDate)(e),a=(0,i.getISODay)(n),s=t-a;return(0,r.addDays)(n,s)};var r=n(8620),i=n(8601),o=n(5551)},5267:(e,t,n)=>{"use strict";t.setISOWeek=function(e,t){const n=(0,i.toDate)(e),o=(0,r.getISOWeek)(n)-t;return n.setDate(n.getDate()-7*o),n};var r=n(9871),i=n(5551)},4503:(e,t,n)=>{"use strict";t.setMinutes=function(e,t){const n=(0,r.toDate)(e);return n.setMinutes(t),n};var r=n(5551)},2844:(e,t,n)=>{"use strict";t.setMonth=function(e,t){const n=(0,o.toDate)(e),a=n.getFullYear(),s=n.getDate(),l=(0,r.constructFrom)(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const c=(0,i.getDaysInMonth)(l);return n.setMonth(t,Math.min(s,c)),n};var r=n(4161),i=n(272),o=n(5551)},3410:(e,t,n)=>{"use strict";t.setQuarter=function(e,t){const n=(0,i.toDate)(e),o=Math.trunc(n.getMonth()/3)+1,a=t-o;return(0,r.setMonth)(n,n.getMonth()+3*a)};var r=n(2844),i=n(5551)},3052:(e,t,n)=>{"use strict";t.setSeconds=function(e,t){const n=(0,r.toDate)(e);return n.setSeconds(t),n};var r=n(5551)},5056:(e,t,n)=>{"use strict";t.setWeek=function(e,t,n){const o=(0,i.toDate)(e),a=(0,r.getWeek)(o,n)-t;return o.setDate(o.getDate()-7*a),o};var r=n(2252),i=n(5551)},4521:(e,t,n)=>{"use strict";t.setYear=function(e,t){const n=(0,i.toDate)(e);if(isNaN(+n))return(0,r.constructFrom)(e,NaN);return n.setFullYear(t),n};var r=n(4161),i=n(5551)},6191:(e,t,n)=>{"use strict";t.startOfDay=function(e){const t=(0,r.toDate)(e);return t.setHours(0,0,0,0),t};var r=n(5551)},1048:(e,t,n)=>{"use strict";t.startOfISOWeek=function(e){return(0,r.startOfWeek)(e,{weekStartsOn:1})};var r=n(9249)},2329:(e,t,n)=>{"use strict";t.startOfISOWeekYear=function(e){const t=(0,r.getISOWeekYear)(e),n=(0,o.constructFrom)(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),(0,i.startOfISOWeek)(n)};var r=n(8890),i=n(1048),o=n(4161)},1619:(e,t,n)=>{"use strict";t.startOfMonth=function(e){const t=(0,r.toDate)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var r=n(5551)},1125:(e,t,n)=>{"use strict";t.startOfQuarter=function(e){const t=(0,r.toDate)(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t};var r=n(5551)},9249:(e,t,n)=>{"use strict";t.startOfWeek=function(e,t){var n,o,a,s,l,c;const u=(0,i.getDefaultOptions)(),d=null!==(n=null!==(o=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==o?o:null===(c=u.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0,h=(0,r.toDate)(e),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h};var r=n(5551),i=n(6868)},568:(e,t,n)=>{"use strict";t.startOfWeekYear=function(e,t){var n,s,l,c,u,d;const h=(0,a.getDefaultOptions)(),f=null!==(n=null!==(s=null!==(l=null!==(c=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:h.firstWeekContainsDate)&&void 0!==s?s:null===(d=h.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1,p=(0,i.getWeekYear)(e,t),m=(0,r.constructFrom)(e,0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);return(0,o.startOfWeek)(m,t)};var r=n(4161),i=n(7941),o=n(9249),a=n(6868)},7332:(e,t,n)=>{"use strict";t.startOfYear=function(e){const t=(0,r.toDate)(e),n=(0,i.constructFrom)(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n};var r=n(5551),i=n(4161)},3613:(e,t,n)=>{"use strict";t.subDays=function(e,t){return(0,r.addDays)(e,-t)};var r=n(8620)},6221:(e,t,n)=>{"use strict";t.subMonths=function(e,t){return(0,r.addMonths)(e,-t)};var r=n(4640)},899:(e,t,n)=>{"use strict";t.subQuarters=function(e,t){return(0,r.addQuarters)(e,-t)};var r=n(1634)},4357:(e,t,n)=>{"use strict";t.subWeeks=function(e,t){return(0,r.addWeeks)(e,-t)};var r=n(9994)},6198:(e,t,n)=>{"use strict";t.subYears=function(e,t){return(0,r.addYears)(e,-t)};var r=n(709)},5551:(e,t)=>{"use strict";t.toDate=function(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}},3583:(e,t,n)=>{"use strict";t.transpose=function(e,t){const n=t instanceof Date?(0,r.constructFrom)(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n};var r=n(4161)},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3343:(e,t,n)=>{var r=n(5957);function i(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=i},8813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},7742:e=>{e.exports={L:1,M:0,Q:3,H:2}},392:(e,t,n)=>{var r=n(4460);function i(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new i(n,0).mod(e)}},e.exports=i},1612:(e,t,n)=>{var r=n(3343),i=n(5436),o=n(8813),a=n(9898),s=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=a.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},c.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},c.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=a.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&1==(r>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var c=!1;o<e.length&&(c=1==(e[o]>>>i&1)),a.getMask(t,r,s-l)&&(c=!c),this.modules[r][s-l]=c,-1==--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=i.getRSBlocks(e,t),s=new o,c=0;c<n.length;c++){var u=n[c];s.put(u.mode,4),s.put(u.getLength(),a.getLengthInBits(u.mode,e)),u.write(s)}var d=0;for(c=0;c<r.length;c++)d+=r[c].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;r=Math.max(r,u),i=Math.max(i,d),o[c]=new Array(u);for(var h=0;h<o[c].length;h++)o[c][h]=255&e.buffer[h+n];n+=u;var f=a.getErrorCorrectPolynomial(d),p=new s(o[c],f.getLength()-1).mod(f);l[c]=new Array(f.getLength()-1);for(h=0;h<l[c].length;h++){var m=h+p.getLength()-l[c].length;l[c][h]=m>=0?p.get(m):0}}var g=0;for(h=0;h<t.length;h++)g+=t[h].totalCount;var v=new Array(g),y=0;for(h=0;h<r;h++)for(c=0;c<t.length;c++)h<o[c].length&&(v[y++]=o[c][h]);for(h=0;h<i;h++)for(c=0;c<t.length;c++)h<l[c].length&&(v[y++]=l[c][h]);return v},e.exports=l},5436:(e,t,n)=>{var r=n(7742);function i(e,t){this.totalCount=e,this.dataCount=t}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new i(l,c));return o},i.getRsBlockTable=function(e,t){switch(t){case r.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=i},4460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},5957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},9898:(e,t,n)=>{var r=n(5957),i=n(392),o=n(4460),a=0,s=1,l=2,c=3,u=4,d=5,h=6,f=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case a:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case h:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),n=0;n<e;n++)t=t.multiply(new i([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||0==s&&0==l||a==e.isDark(r+s,i+l)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++){var c=0;e.isDark(r,i)&&c++,e.isDark(r+1,i)&&c++,e.isDark(r,i+1)&&c++,e.isDark(r+1,i+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var u=0;for(i=0;i<t;i++)for(r=0;r<t;r++)e.isDark(r,i)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=p},1899:function(e,t,n){!function(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m,g,v,y,w,b,S,k,_,E,I,x,T,C,D,P,N,A,M,O,R,L,F,j,B,U,V,z,q,Y,W,H,K,G,Q,X,J,$,Z,ee,te,ne,re,ie,oe,ae,se,le,ce){"use strict";function ue(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var de=ue(t),he=ue(ae),fe=ue(se);function pe(e,t,n){return t=xe(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,me()?Reflect.construct(t,n||[],xe(e).constructor):t.apply(e,n))}function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(me=function(){return!!e})()}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ye(r.key),r)}}function ke(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e,t,n){return(t=ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}function Te(e,t){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Te(e,t)}function Ce(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=12,Ne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ae(e){var t=e?"string"==typeof e||e instanceof String?oe.parseISO(e):re.toDate(e):new Date;return Me(t)?t:null}function Me(e,t){return t=t||new Date("1/1/1000"),o.isValid(e)&&!te.isBefore(e,t)}function Oe(e,t,n){if("en"===n)return a.format(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Qe(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ge()&&Qe(Ge())&&(r=Qe(Ge())),a.format(e,t,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Re(e,t){var n=t.dateFormat,r=t.locale;return e&&Oe(e,Array.isArray(n)?n[0]:n,r)||""}function Le(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,o=void 0===i?0:i,a=t.second,s=void 0===a?0:a;return N.setHours(P.setMinutes(D.setSeconds(e,s),o),r)}function Fe(e,t,n){var r=Qe(t||Ge());return V.startOfWeek(e,{locale:r,weekStartsOn:n})}function je(e){return z.startOfMonth(e)}function Be(e){return Y.startOfYear(e)}function Ue(e){return q.startOfQuarter(e)}function Ve(){return U.startOfDay(Ae())}function ze(e,t){return e&&t?$.isSameYear(e,t):!e&&!t}function qe(e,t){return e&&t?J.isSameMonth(e,t):!e&&!t}function Ye(e,t){return e&&t?Z.isSameQuarter(e,t):!e&&!t}function We(e,t){return e&&t?X.isSameDay(e,t):!e&&!t}function He(e,t){return e&&t?Q.isEqual(e,t):!e&&!t}function Ke(e,t,n){var r,i=U.startOfDay(t),o=W.endOfDay(n);try{r=ne.isWithinInterval(e,{start:i,end:o})}catch(e){r=!1}return r}function Ge(){return("undefined"!=typeof window?window:globalThis).__localeId__}function Qe(e){if("string"==typeof e){var t="undefined"!=typeof window?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function Xe(e,t){return Oe(A.setMonth(Ae(),e),"LLLL",t)}function Je(e,t){return Oe(A.setMonth(Ae(),e),"LLL",t)}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,s=t.includeDateIntervals,l=t.filterDate;return at(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return We(e,t.date?t.date:t)}))||o&&o.some((function(t){var n=t.start,r=t.end;return ne.isWithinInterval(e,{start:n,end:r})}))||a&&!a.some((function(t){return We(e,t)}))||s&&!s.some((function(t){var n=t.start,r=t.end;return ne.isWithinInterval(e,{start:n,end:r})}))||l&&!l(Ae(e))||!1}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some((function(t){var n=t.start,r=t.end;return ne.isWithinInterval(e,{start:n,end:r})})):n&&n.some((function(t){return We(e,t.date?t.date:t)}))||!1}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return at(e,{minDate:z.startOfMonth(n),maxDate:K.endOfMonth(r)})||i&&i.some((function(t){return qe(e,t)}))||o&&!o.some((function(t){return qe(e,t)}))||a&&!a(Ae(e))||!1}function tt(e,t,n,r){var i=T.getYear(e),o=I.getMonth(e),a=T.getYear(t),s=I.getMonth(t),l=T.getYear(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:void 0}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return at(e,{minDate:n,maxDate:r})||i&&i.some((function(t){return Ye(e,t)}))||o&&!o.some((function(t){return Ye(e,t)}))||a&&!a(Ae(e))||!1}function rt(e,t,n){if(!o.isValid(t)||!o.isValid(n))return!1;var r=T.getYear(t),i=T.getYear(n);return r<=e&&i>=e}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate,s=new Date(e,0,1);return at(s,{minDate:Y.startOfYear(n),maxDate:G.endOfYear(r)})||i&&i.some((function(e){return ze(s,e)}))||o&&!o.some((function(e){return ze(s,e)}))||a&&!a(Ae(s))||!1}function ot(e,t,n,r){var i=T.getYear(e),o=x.getQuarter(e),a=T.getYear(t),s=x.getQuarter(t),l=T.getYear(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:void 0}function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&F.differenceInCalendarDays(e,n)<0||r&&F.differenceInCalendarDays(e,r)>0}function st(e,t){return t.some((function(t){return S.getHours(t)===S.getHours(e)&&b.getMinutes(t)===b.getMinutes(e)}))}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,i=t.filterTime;return n&&st(e,n)||r&&!st(e,r)||i&&!i(e)||!1}function ct(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i,o=Ae(),a=N.setHours(P.setMinutes(o,b.getMinutes(e)),S.getHours(e)),s=N.setHours(P.setMinutes(o,b.getMinutes(n)),S.getHours(n)),l=N.setHours(P.setMinutes(o,b.getMinutes(r)),S.getHours(r));try{i=!ne.isWithinInterval(a,{start:s,end:l})}catch(e){i=!1}return i}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,i=g.subMonths(e,1);return n&&j.differenceInCalendarMonths(n,i)>0||r&&r.every((function(e){return j.differenceInCalendarMonths(e,i)>0}))||!1}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,i=d.addMonths(e,1);return n&&j.differenceInCalendarMonths(i,n)>0||r&&r.every((function(e){return j.differenceInCalendarMonths(i,e)>0}))||!1}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,i=y.subYears(e,1);return n&&B.differenceInCalendarYears(n,i)>0||r&&r.every((function(e){return B.differenceInCalendarYears(e,i)>0}))||!1}function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,i=f.addYears(e,1);return n&&B.differenceInCalendarYears(i,n)>0||r&&r.every((function(e){return B.differenceInCalendarYears(i,e)>0}))||!1}function pt(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return F.differenceInCalendarDays(e,t)>=0}));return R.min(r)}return n?R.min(n):t}function mt(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return F.differenceInCalendarDays(e,t)<=0}));return L.max(r)}return n?L.max(n):t}function gt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,o=e.length;r<o;r++){var a=e[r];if(i.isDate(a)){var s=Oe(a,"MM.dd.yyyy"),l=n.get(s)||[];l.includes(t)||(l.push(t),n.set(s,l))}else if("object"===we(a)){var c=Object.keys(a),u=c[0],d=a[c[0]];if("string"==typeof u&&d.constructor===Array)for(var h=0,f=d.length;h<f;h++){var p=Oe(d[h],"MM.dd.yyyy"),m=n.get(p)||[];m.includes(u)||(m.push(u),n.set(p,m))}}}return n}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--holidays",n=new Map;return e.forEach((function(e){var r=e.date,o=e.holidayName;if(i.isDate(r)){var a=Oe(r,"MM.dd.yyyy"),s=n.get(a)||{};if(!("className"in s)||s.className!==t||(l=s.holidayNames,c=[o],l.length!==c.length||!l.every((function(e,t){return e===c[t]})))){var l,c;s.className=t;var u=s.holidayNames;s.holidayNames=u?[].concat(Ce(u),[o]):[o],n.set(a,s)}}})),n}function yt(e,t,n,r,i){for(var o=i.length,a=[],c=0;c<o;c++){var u=s.addMinutes(l.addHours(e,S.getHours(i[c])),b.getMinutes(i[c])),d=s.addMinutes(e,(n+1)*r);ee.isAfter(u,t)&&te.isBefore(u,d)&&a.push(i[c])}return a}function wt(e){return e<10?"0".concat(e):"".concat(e)}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe,n=Math.ceil(T.getYear(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function St(e){var t=e.getSeconds(),n=e.getMilliseconds();return re.toDate(e.getTime()-1e3*t-n)}function kt(e){if(!i.isDate(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function _t(e,t){if(!i.isDate(e)||!i.isDate(t))throw new Error("Invalid date received");var n=kt(e),r=kt(t);return te.isBefore(n,r)}function Et(e){return" "===e.key}function It(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=T.getYear(n)<=a),r&&s&&(s=T.getYear(r)>=a),s&&i.push(a)}return i}var xt=function(e){function n(e){var r;be(this,n),_e(r=pe(this,n,[e]),"renderOptions",(function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return de.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:r.onChange.bind(r,t),"aria-selected":e===t?"true":void 0},e===t?de.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),n=r.props.minDate?T.getYear(r.props.minDate):null,i=r.props.maxDate?T.getYear(r.props.maxDate):null;return i&&r.state.yearsList.find((function(e){return e===i}))||t.unshift(de.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find((function(e){return e===n}))||t.push(de.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),_e(r,"onChange",(function(e){r.props.onChange(e)})),_e(r,"handleClickOutside",(function(){r.props.onCancel()})),_e(r,"shiftYears",(function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})})),_e(r,"incrementYears",(function(){return r.shiftYears(1)})),_e(r,"decrementYears",(function(){return r.shiftYears(-1)}));var i=e.yearDropdownItemNumber,o=e.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:It(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=t.createRef(),r}return Ie(n,e),ke(n,[{key:"componentDidMount",value:function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}}},{key:"render",value:function(){var e=r.clsx({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.default.createElement("div",{className:e,ref:this.dropdownRef},this.renderOptions())}}])}(de.default.Component),Tt=he.default(xt),Ct=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"state",{dropdownVisible:!1}),_e(e,"renderSelectOptions",(function(){for(var t=e.props.minDate?T.getYear(e.props.minDate):1900,n=e.props.maxDate?T.getYear(e.props.maxDate):2100,r=[],i=t;i<=n;i++)r.push(de.default.createElement("option",{key:i,value:i},i));return r})),_e(e,"onSelectChange",(function(t){e.onChange(t.target.value)})),_e(e,"renderSelectMode",(function(){return de.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),_e(e,"renderReadView",(function(t){return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},de.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),_e(e,"renderDropdown",(function(){return de.default.createElement(Tt,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),_e(e,"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),_e(e,"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),_e(e,"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),_e(e,"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),_e(e,"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),_e(e,"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return Ie(t,e),ke(t,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}])}(de.default.Component),Dt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"isSelectedMonth",(function(t){return e.props.month===t})),_e(e,"renderOptions",(function(){return e.props.monthNames.map((function(t,n){return de.default.createElement("div",{className:e.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(e,n),"aria-selected":e.isSelectedMonth(n)?"true":void 0},e.isSelectedMonth(n)?de.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)}))})),_e(e,"onChange",(function(t){return e.props.onChange(t)})),_e(e,"handleClickOutside",(function(){return e.props.onCancel()})),e}return Ie(t,e),ke(t,[{key:"render",value:function(){return de.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(de.default.Component),Pt=he.default(Dt),Nt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"state",{dropdownVisible:!1}),_e(e,"renderSelectOptions",(function(e){return e.map((function(e,t){return de.default.createElement("option",{key:t,value:t},e)}))})),_e(e,"renderSelectMode",(function(t){return de.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),_e(e,"renderReadView",(function(t,n){return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},de.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))})),_e(e,"renderDropdown",(function(t){return de.default.createElement(Pt,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),_e(e,"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),_e(e,"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),_e(e,"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return Ie(t,e),ke(t,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Je(e,t.props.locale)}:function(e){return Xe(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return de.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}])}(de.default.Component);function At(e,t){for(var n=[],r=je(e),i=je(t);!ee.isAfter(r,i);)n.push(Ae(r)),r=d.addMonths(r,1);return n}var Mt=function(e){function t(e){var n;return be(this,t),_e(n=pe(this,t,[e]),"renderOptions",(function(){return n.state.monthYearsList.map((function(e){var t=C.getTime(e),r=ze(n.props.date,e)&&qe(n.props.date,e);return de.default.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?de.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Oe(e,n.props.dateFormat,n.props.locale))}))})),_e(n,"onChange",(function(e){return n.props.onChange(e)})),_e(n,"handleClickOutside",(function(){n.props.onCancel()})),n.state={monthYearsList:At(n.props.minDate,n.props.maxDate)},n}return Ie(t,e),ke(t,[{key:"render",value:function(){var e=r.clsx({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.default.createElement("div",{className:e},this.renderOptions())}}])}(de.default.Component),Ot=he.default(Mt),Rt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"state",{dropdownVisible:!1}),_e(e,"renderSelectOptions",(function(){for(var t=je(e.props.minDate),n=je(e.props.maxDate),r=[];!ee.isAfter(t,n);){var i=C.getTime(t);r.push(de.default.createElement("option",{key:i,value:i},Oe(t,e.props.dateFormat,e.props.locale))),t=d.addMonths(t,1)}return r})),_e(e,"onSelectChange",(function(t){e.onChange(t.target.value)})),_e(e,"renderSelectMode",(function(){return de.default.createElement("select",{value:C.getTime(je(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),_e(e,"renderReadView",(function(t){var n=Oe(e.props.date,e.props.dateFormat,e.props.locale);return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},de.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))})),_e(e,"renderDropdown",(function(){return de.default.createElement(Ot,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})})),_e(e,"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),_e(e,"onChange",(function(t){e.toggleDropdown();var n=Ae(parseInt(t));ze(e.props.date,n)&&qe(e.props.date,n)||e.props.onChange(n)})),_e(e,"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return Ie(t,e),ke(t,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}])}(de.default.Component),Lt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return _e(e=pe(this,t,[].concat(i)),"dayEl",de.default.createRef()),_e(e,"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),_e(e,"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),_e(e,"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),_e(e,"isSameDay",(function(t){return We(e.props.day,t)})),_e(e,"isKeyboardSelected",(function(){var t;return!e.props.disabledKeyboardNavigation&&!(e.props.selectsMultiple?null===(t=e.props.selectedDates)||void 0===t?void 0:t.some((function(t){return e.isSameDayOrWeek(t)})):e.isSameDayOrWeek(e.props.selected))&&e.isSameDayOrWeek(e.props.preSelection)})),_e(e,"isDisabled",(function(){return $e(e.props.day,e.props)})),_e(e,"isExcluded",(function(){return Ze(e.props.day,e.props)})),_e(e,"isStartOfWeek",(function(){return We(e.props.day,Fe(e.props.day,e.props.locale,e.props.calendarStartDay))})),_e(e,"isSameWeek",(function(t){return e.props.showWeekPicker&&We(t,Fe(e.props.day,e.props.locale,e.props.calendarStartDay))})),_e(e,"isSameDayOrWeek",(function(t){return e.isSameDay(t)||e.isSameWeek(t)})),_e(e,"getHighLightedClass",(function(){var t=e.props,n=t.day,r=t.highlightDates;if(!r)return!1;var i=Oe(n,"MM.dd.yyyy");return r.get(i)})),_e(e,"getHolidaysClass",(function(){var t=e.props,n=t.day,r=t.holidays;if(!r)return!1;var i=Oe(n,"MM.dd.yyyy");return r.has(i)?[r.get(i).className]:void 0})),_e(e,"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&Ke(n,r,i)})),_e(e,"isInSelectingRange",(function(){var t,n=e.props,r=n.day,i=n.selectsStart,o=n.selectsEnd,a=n.selectsRange,s=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,u=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(i||o||a)||!u||!s&&e.isDisabled())&&(i&&c&&(te.isBefore(u,c)||He(u,c))?Ke(r,u,c):(o&&l&&(ee.isAfter(u,l)||He(u,l))||!(!a||!l||c||!ee.isAfter(u,l)&&!He(u,l)))&&Ke(r,l,u))})),_e(e,"isSelectingRangeStart",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,i=n.startDate,o=n.selectsStart,a=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return We(r,o?a:i)})),_e(e,"isSelectingRangeEnd",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,i=n.endDate,o=n.selectsEnd,a=n.selectsRange,s=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return We(r,o||a?s:i)})),_e(e,"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&We(r,n)})),_e(e,"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,i=t.endDate;return!(!r||!i)&&We(i,n)})),_e(e,"isWeekend",(function(){var t=k.getDay(e.props.day);return 0===t||6===t})),_e(e,"isAfterMonth",(function(){return void 0!==e.props.month&&(e.props.month+1)%12===I.getMonth(e.props.day)})),_e(e,"isBeforeMonth",(function(){return void 0!==e.props.month&&(I.getMonth(e.props.day)+1)%12===e.props.month})),_e(e,"isCurrentDay",(function(){return e.isSameDay(Ae())})),_e(e,"isSelected",(function(){var t;return e.props.selectsMultiple?null===(t=e.props.selectedDates)||void 0===t?void 0:t.some((function(t){return e.isSameDayOrWeek(t)})):e.isSameDayOrWeek(e.props.selected)})),_e(e,"getClassNames",(function(t){var n,i=e.props.dayClassName?e.props.dayClassName(t):void 0;return r.clsx("react-datepicker__day",i,"react-datepicker__day--"+Oe(e.props.day,"ddd",n),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"),e.getHolidaysClass())})),_e(e,"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,i=void 0===r?"Choose":r,o=t.ariaLabelPrefixWhenDisabled,a=void 0===o?"Not available":o,s=e.isDisabled()||e.isExcluded()?a:i;return"".concat(s," ").concat(Oe(n,"PPPP",e.props.locale))})),_e(e,"getTitle",(function(){var t=e.props,n=t.day,r=t.holidays,i=void 0===r?new Map:r,o=t.excludeDates,a=Oe(n,"MM.dd.yyyy"),s=[];return i.has(a)&&s.push.apply(s,Ce(i.get(a).holidayNames)),e.isExcluded()&&s.push(null==o?void 0:o.filter((function(e){return We(e.date?e.date:e,n)})).map((function(e){return e.message}))),s.join(", ")})),_e(e,"getTabIndex",(function(t,n){var r=t||e.props.selected,i=n||e.props.preSelection;return(!e.props.showWeekPicker||!e.props.showWeekNumber&&e.isStartOfWeek())&&(e.isKeyboardSelected()||e.isSameDay(r)&&We(i,r))?0:-1})),_e(e,"handleFocusDay",(function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!1;0===e.getTabIndex()&&!n.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(r=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(r=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(r=!0),e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()&&(r=!1),e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()&&(r=!1)),r&&(null===(t=e.dayEl.current)||void 0===t||t.focus({preventScroll:!0}))})),_e(e,"renderDayContents",(function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(_.getDate(e.props.day),e.props.day):_.getDate(e.props.day)})),_e(e,"render",(function(){return de.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),""!==e.getTitle()&&de.default.createElement("span",{className:"overlay"},e.getTitle()))})),e}return Ie(t,e),ke(t,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}])}(de.default.Component),Ft=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"weekNumberEl",de.default.createRef()),_e(e,"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),_e(e,"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),_e(e,"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!We(e.props.date,e.props.selected)&&We(e.props.date,e.props.preSelection)})),_e(e,"getTabIndex",(function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||We(e.props.date,e.props.selected)&&We(e.props.preSelection,e.props.selected))?0:-1})),_e(e,"handleFocusWeekNumber",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&We(e.props.date,e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(n=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})})),e}return Ie(t,e),ke(t,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(e){this.handleFocusWeekNumber(e)}},{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,i=void 0===n?"week ":n,o=e.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&We(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{ref:this.weekNumberEl,className:r.clsx(a),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},t)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(de.default.Component),jt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),_e(e,"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),_e(e,"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.showWeekPicker&&e.handleDayClick(t,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),_e(e,"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):function(e,t){var n=t&&Qe(t)||Ge()&&Qe(Ge());return E.getISOWeek(e,n?{locale:n}:null)}(t)})),_e(e,"renderDays",(function(){var t=e.startOfWeek(),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var i=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,t,r):void 0;n.push(de.default.createElement(Ft,{key:"W",weekNumber:r,date:t,onClick:i,selected:e.props.selected,preSelection:e.props.preSelection,ariaLabelPrefix:e.props.ariaLabelPrefix,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef}))}return n.concat([0,1,2,3,4,5,6].map((function(n){var r=c.addDays(t,n);return de.default.createElement(Lt,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(e,r),usePointerEvent:e.props.usePointerEvent,onMouseEnter:e.handleDayMouseEnter.bind(e,r),minDate:e.props.minDate,maxDate:e.props.maxDate,calendarStartDay:e.props.calendarStartDay,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,selectsMultiple:e.props.selectsMultiple,selectedDates:e.props.selectedDates,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})})))})),_e(e,"startOfWeek",(function(){return Fe(e.props.day,e.props.locale,e.props.calendarStartDay)})),_e(e,"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!We(e.startOfWeek(),e.props.selected)&&We(e.startOfWeek(),e.props.preSelection)})),e}return Ie(t,e),ke(t,[{key:"render",value:function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":We(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{className:r.clsx(e)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(de.default.Component),Bt="two_columns",Ut="three_columns",Vt="four_columns",zt=_e(_e(_e({},Bt,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Ut,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Vt,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function qt(e,t){return e?Vt:t?Bt:Ut}var Yt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return _e(e=pe(this,t,[].concat(i)),"MONTH_REFS",Ce(Array(12)).map((function(){return de.default.createRef()}))),_e(e,"QUARTER_REFS",Ce(Array(4)).map((function(){return de.default.createRef()}))),_e(e,"isDisabled",(function(t){return $e(t,e.props)})),_e(e,"isExcluded",(function(t){return Ze(t,e.props)})),_e(e,"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),_e(e,"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),_e(e,"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),_e(e,"isRangeStartMonth",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&qe(A.setMonth(r,t),i)})),_e(e,"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&Ye(M.setQuarter(r,t),i)})),_e(e,"isRangeEndMonth",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&qe(A.setMonth(r,t),o)})),_e(e,"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,i=n.startDate,o=n.endDate;return!(!i||!o)&&Ye(M.setQuarter(r,t),o)})),_e(e,"isInSelectingRangeMonth",(function(t){var n,r=e.props,i=r.day,o=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(o||a||s)||!u)&&(o&&c?tt(u,c,t,i):(a&&l||!(!s||!l||c))&&tt(l,u,t,i))})),_e(e,"isSelectingMonthRangeStart",(function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,i=r.day,o=r.startDate,a=r.selectsStart,s=A.setMonth(i,t),l=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return qe(s,a?l:o)})),_e(e,"isSelectingMonthRangeEnd",(function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,i=r.day,o=r.endDate,a=r.selectsEnd,s=r.selectsRange,l=A.setMonth(i,t),c=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return qe(l,a||s?c:o)})),_e(e,"isInSelectingRangeQuarter",(function(t){var n,r=e.props,i=r.day,o=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(o||a||s)||!u)&&(o&&c?ot(u,c,t,i):(a&&l||!(!s||!l||c))&&ot(l,u,t,i))})),_e(e,"isWeekInMonth",(function(t){var n=e.props.day,r=c.addDays(t,6);return qe(t,n)||qe(r,n)})),_e(e,"isCurrentMonth",(function(e,t){return T.getYear(e)===T.getYear(Ae())&&t===I.getMonth(Ae())})),_e(e,"isCurrentQuarter",(function(e,t){return T.getYear(e)===T.getYear(Ae())&&t===x.getQuarter(Ae())})),_e(e,"isSelectedMonth",(function(e,t,n){return I.getMonth(n)===t&&T.getYear(e)===T.getYear(n)})),_e(e,"isSelectedQuarter",(function(e,t,n){return x.getQuarter(e)===t&&T.getYear(e)===T.getYear(n)})),_e(e,"renderWeeks",(function(){for(var t=[],n=e.props.fixedHeight,r=0,i=!1,o=Fe(je(e.props.day),e.props.locale,e.props.calendarStartDay),a=e.props.showWeekPicker?Fe(e.props.selected,e.props.locale,e.props.calendarStartDay):e.props.selected,s=e.props.showWeekPicker?Fe(e.props.preSelection,e.props.locale,e.props.calendarStartDay):e.props.preSelection;t.push(de.default.createElement(jt,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:r,day:o,month:I.getMonth(e.props.day),onDayClick:e.handleDayClick,usePointerEvent:e.props.usePointerEvent,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:s,selected:a,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,selectsMultiple:e.props.selectsMultiple,selectedDates:e.props.selectedDates,showWeekNumber:e.props.showWeekNumbers,showWeekPicker:e.props.showWeekPicker,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!i;){r++,o=u.addWeeks(o,1);var l=n&&r>=6,c=!n&&!e.isWeekInMonth(o);if(l||c){if(!e.props.peekNextMonth)break;i=!0}}return t})),_e(e,"onMonthClick",(function(t,n){var r=A.setMonth(e.props.day,n);et(r,e.props)||e.handleDayClick(je(r),t)})),_e(e,"onMonthMouseEnter",(function(t){var n=A.setMonth(e.props.day,t);et(n,e.props)||e.handleDayMouseEnter(je(n))})),_e(e,"handleMonthNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())})),_e(e,"onMonthKeyDown",(function(t,n){var r=e.props,i=r.selected,o=r.preSelection,a=r.disabledKeyboardNavigation,s=r.showTwoColumnMonthYearPicker,l=r.showFourColumnMonthYearPicker,c=r.setPreSelection,u=r.handleOnMonthKeyDown,h=t.key;if("Tab"!==h&&t.preventDefault(),!a){var f=qt(l,s),p=zt[f].verticalNavigationOffset,m=zt[f].grid;switch(h){case"Enter":e.onMonthClick(t,n),c(i);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,d.addMonths(o,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,g.subMonths(o,1));break;case"ArrowUp":e.handleMonthNavigation(m[0].includes(n)?n+12-p:n-p,g.subMonths(o,p));break;case"ArrowDown":e.handleMonthNavigation(m[m.length-1].includes(n)?n-12+p:n+p,d.addMonths(o,p))}}u&&u(t)})),_e(e,"onQuarterClick",(function(t,n){var r=M.setQuarter(e.props.day,n);nt(r,e.props)||e.handleDayClick(Ue(r),t)})),_e(e,"onQuarterMouseEnter",(function(t){var n=M.setQuarter(e.props.day,t);nt(n,e.props)||e.handleDayMouseEnter(Ue(n))})),_e(e,"handleQuarterNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.QUARTER_REFS[t-1].current&&e.QUARTER_REFS[t-1].current.focus())})),_e(e,"onQuarterKeyDown",(function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onQuarterClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleQuarterNavigation(4===n?1:n+1,h.addQuarters(e.props.preSelection,1));break;case"ArrowLeft":e.handleQuarterNavigation(1===n?4:n-1,v.subQuarters(e.props.preSelection,1))}})),_e(e,"getMonthClassNames",(function(t){var n=e.props,i=n.day,o=n.startDate,a=n.endDate,s=n.selected,l=n.minDate,c=n.maxDate,u=n.preSelection,d=n.monthClassName,h=n.excludeDates,f=n.includeDates,p=d?d(A.setMonth(i,t)):void 0,m=A.setMonth(i,t);return r.clsx("react-datepicker__month-text","react-datepicker__month-".concat(t),p,{"react-datepicker__month-text--disabled":(l||c||h||f)&&et(m,e.props),"react-datepicker__month-text--selected":e.isSelectedMonth(i,t,s),"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&e.isSelectedMonth(i,t,u),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":tt(o,a,t,i),"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(i,t)})})),_e(e,"getTabIndex",(function(t){var n=I.getMonth(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),_e(e,"getQuarterTabIndex",(function(t){var n=x.getQuarter(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),_e(e,"getAriaLabel",(function(t){var n=e.props,r=n.chooseDayAriaLabelPrefix,i=void 0===r?"Choose":r,o=n.disabledDayAriaLabelPrefix,a=void 0===o?"Not available":o,s=n.day,l=A.setMonth(s,t),c=e.isDisabled(l)||e.isExcluded(l)?a:i;return"".concat(c," ").concat(Oe(l,"MMMM yyyy"))})),_e(e,"getQuarterClassNames",(function(t){var n=e.props,i=n.day,o=n.startDate,a=n.endDate,s=n.selected,l=n.minDate,c=n.maxDate,u=n.preSelection,d=n.disabledKeyboardNavigation;return r.clsx("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":(l||c)&&nt(M.setQuarter(i,t),e.props),"react-datepicker__quarter-text--selected":e.isSelectedQuarter(i,t,s),"react-datepicker__quarter-text--keyboard-selected":!d&&e.isSelectedQuarter(i,t,u),"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":ot(o,a,t,i),"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t)})})),_e(e,"getMonthContent",(function(t){var n=e.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,o=n.locale,a=n.day,s=Je(t,o),l=Xe(t,o);return i?i(t,s,l,a):r?l:s})),_e(e,"getQuarterContent",(function(t){var n=e.props,r=n.renderQuarterContent,i=function(e,t){return Oe(M.setQuarter(Ae(),e),"QQQ",t)}(t,n.locale);return r?r(t,i):i})),_e(e,"renderMonths",(function(){var t=e.props,n=t.showTwoColumnMonthYearPicker,r=t.showFourColumnMonthYearPicker,i=t.day,o=t.selected;return zt[qt(r,n)].grid.map((function(t,n){return de.default.createElement("div",{className:"react-datepicker__month-wrapper",key:n},t.map((function(t,n){return de.default.createElement("div",{ref:e.MONTH_REFS[t],key:n,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){Et(n)&&(n.preventDefault(),n.key="Enter"),e.onMonthKeyDown(n,t)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(t)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(t)}:void 0,tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"option","aria-label":e.getAriaLabel(t),"aria-current":e.isCurrentMonth(i,t)?"date":void 0,"aria-selected":e.isSelectedMonth(i,t,o)},e.getMonthContent(t))})))}))})),_e(e,"renderQuarters",(function(){var t=e.props,n=t.day,r=t.selected;return de.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,i){return de.default.createElement("div",{key:i,ref:e.QUARTER_REFS[i],role:"option",onClick:function(n){e.onQuarterClick(n,t)},onKeyDown:function(n){e.onQuarterKeyDown(n,t)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(t)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(t)}:void 0,className:e.getQuarterClassNames(t),"aria-selected":e.isSelectedQuarter(n,t,r),tabIndex:e.getQuarterTabIndex(t),"aria-current":e.isCurrentQuarter(n,t)?"date":void 0},e.getQuarterContent(t))})))})),_e(e,"getClassNames",(function(){var t=e.props,n=t.selectingDate,i=t.selectsStart,o=t.selectsEnd,a=t.showMonthYearPicker,s=t.showQuarterYearPicker,l=t.showWeekPicker;return r.clsx("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(i||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":s},{"react-datepicker__weekPicker":l})})),e}return Ie(t,e),ke(t,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,o=void 0===i?"Month ":i,a=o?o.trim()+" ":"";return de.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(a).concat(Oe(r,"MMMM, yyyy")),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}])}(de.default.Component),Wt=function(e){function t(){var e;be(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _e(e=pe(this,t,[].concat(r)),"state",{height:null}),_e(e,"scrollToTheSelectedTime",(function(){requestAnimationFrame((function(){e.list&&(e.list.scrollTop=e.centerLi&&t.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-e.header.clientHeight:e.list.clientHeight,e.centerLi))}))})),_e(e,"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&ct(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&lt(t,e.props)||e.props.onChange(t)})),_e(e,"isSelectedTime",(function(t){return e.props.selected&&(n=t,St(e.props.selected).getTime()===St(n).getTime());var n})),_e(e,"isDisabledTime",(function(t){return(e.props.minTime||e.props.maxTime)&&ct(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&lt(t,e.props)})),_e(e,"liClasses",(function(t){var n=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&n.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&n.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*S.getHours(t)+b.getMinutes(t))%e.props.intervals!=0&&n.push("react-datepicker__time-list-item--injected"),n.join(" ")})),_e(e,"handleOnKeyDown",(function(t,n){" "===t.key&&(t.preventDefault(),t.key="Enter"),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||!t.target.previousSibling||(t.preventDefault(),t.target.previousSibling.focus()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||!t.target.nextSibling||(t.preventDefault(),t.target.nextSibling.focus()),"Enter"===t.key&&e.handleClick(n),e.props.handleOnKeyDown(t)})),_e(e,"renderTimes",(function(){for(var t,n=[],r=e.props.format?e.props.format:"p",i=e.props.intervals,o=e.props.selected||e.props.openToDate||Ae(),a=(t=o,U.startOfDay(t)),l=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),c=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(o),u=c/i,d=0;d<u;d++){var h=s.addMinutes(a,d*i);if(n.push(h),l){var f=yt(a,h,d,i,l);n=n.concat(f)}}var p=n.reduce((function(e,t){return t.getTime()<=o.getTime()?t:e}),n[0]);return n.map((function(t,n){return de.default.createElement("li",{key:n,onClick:e.handleClick.bind(e,t),className:e.liClasses(t),ref:function(n){t===p&&(e.centerLi=n)},onKeyDown:function(n){e.handleOnKeyDown(n,t)},tabIndex:t===p?0:-1,role:"option","aria-selected":e.isSelectedTime(t)?"true":void 0,"aria-disabled":e.isDisabledTime(t)?"true":void 0},Oe(t,r,e.props.locale))}))})),e}return Ie(t,e),ke(t,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return de.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},de.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),de.default.createElement("div",{className:"react-datepicker__time"},de.default.createElement("div",{className:"react-datepicker__time-box"},de.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(de.default.Component);_e(Wt,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var Ht=function(e){function t(e){var n;return be(this,t),_e(n=pe(this,t,[e]),"YEAR_REFS",Ce(Array(n.props.yearItemNumber)).map((function(){return de.default.createRef()}))),_e(n,"isDisabled",(function(e){return $e(e,n.props)})),_e(n,"isExcluded",(function(e){return Ze(e,n.props)})),_e(n,"selectingDate",(function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection})),_e(n,"updateFocusOnPaginate",(function(e){var t=function(){this.YEAR_REFS[e].current.focus()}.bind(n);window.requestAnimationFrame(t)})),_e(n,"handleYearClick",(function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)})),_e(n,"handleYearNavigation",(function(e,t){var r=n.props,i=r.date,o=r.yearItemNumber,a=bt(i,o).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(n.props.setPreSelection(t),e-a==-1?n.updateFocusOnPaginate(o-1):e-a===o?n.updateFocusOnPaginate(0):n.YEAR_REFS[e-a].current.focus())})),_e(n,"isSameDay",(function(e,t){return We(e,t)})),_e(n,"isCurrentYear",(function(e){return e===T.getYear(Ae())})),_e(n,"isRangeStart",(function(e){return n.props.startDate&&n.props.endDate&&ze(O.setYear(Ae(),e),n.props.startDate)})),_e(n,"isRangeEnd",(function(e){return n.props.startDate&&n.props.endDate&&ze(O.setYear(Ae(),e),n.props.endDate)})),_e(n,"isInRange",(function(e){return rt(e,n.props.startDate,n.props.endDate)})),_e(n,"isInSelectingRange",(function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,o=t.selectsRange,a=t.startDate,s=t.endDate;return!(!(r||i||o)||!n.selectingDate())&&(r&&s?rt(e,n.selectingDate(),s):(i&&a||!(!o||!a||s))&&rt(e,a,n.selectingDate()))})),_e(n,"isSelectingRangeStart",(function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.startDate,i=t.selectsStart;return ze(O.setYear(Ae(),e),i?n.selectingDate():r)})),_e(n,"isSelectingRangeEnd",(function(e){if(!n.isInSelectingRange(e))return!1;var t=n.props,r=t.endDate,i=t.selectsEnd,o=t.selectsRange;return ze(O.setYear(Ae(),e),i||o?n.selectingDate():r)})),_e(n,"isKeyboardSelected",(function(e){var t=Be(O.setYear(n.props.date,e));return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!We(t,Be(n.props.selected))&&We(t,Be(n.props.preSelection))})),_e(n,"onYearClick",(function(e,t){var r=n.props.date;n.handleYearClick(Be(O.setYear(r,t)),e)})),_e(n,"onYearKeyDown",(function(e,t){var r=e.key,i=n.props.handleOnKeyDown;if(!n.props.disabledKeyboardNavigation)switch(r){case"Enter":n.onYearClick(e,t),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleYearNavigation(t+1,f.addYears(n.props.preSelection,1));break;case"ArrowLeft":n.handleYearNavigation(t-1,y.subYears(n.props.preSelection,1))}i&&i(e)})),_e(n,"getYearClassNames",(function(e){var t=n.props,i=t.date,o=t.minDate,a=t.maxDate,s=t.selected,l=t.excludeDates,c=t.includeDates,u=t.filterDate,d=t.yearClassName;return r.clsx("react-datepicker__year-text","react-datepicker__year-".concat(e),d?d(O.setYear(i,e)):void 0,{"react-datepicker__year-text--selected":e===T.getYear(s),"react-datepicker__year-text--disabled":(o||a||l||c||u)&&it(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})})),_e(n,"getYearTabIndex",(function(e){return n.props.disabledKeyboardNavigation?"-1":e===T.getYear(n.props.preSelection)?"0":"-1"})),_e(n,"getYearContainerClassNames",(function(){var e=n.props,t=e.selectingDate,i=e.selectsStart,o=e.selectsEnd,a=e.selectsRange;return r.clsx("react-datepicker__year",{"react-datepicker__year--selecting-range":t&&(i||o||a)})})),_e(n,"getYearContent",(function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e})),n}return Ie(t,e),ke(t,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,o=n.onYearMouseEnter,a=n.onYearMouseLeave,s=bt(r,i),l=s.startPeriod,c=s.endPeriod,u=function(n){t.push(de.default.createElement("div",{ref:e.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){Et(t)&&(t.preventDefault(),t.key="Enter"),e.onYearKeyDown(t,n)},tabIndex:e.getYearTabIndex(n),className:e.getYearClassNames(n),onMouseEnter:e.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerEnter:e.props.usePointerEvent?function(e){return o(e,n)}:void 0,onMouseLeave:e.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerLeave:e.props.usePointerEvent?function(e){return a(e,n)}:void 0,key:n,"aria-current":e.isCurrentYear(n)?"date":void 0},e.getYearContent(n)))},d=l;d<=c;d++)u(d);return de.default.createElement("div",{className:this.getYearContainerClassNames()},de.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))}}])}(de.default.Component),Kt=function(e){function t(e){var n;return be(this,t),_e(n=pe(this,t,[e]),"onTimeChange",(function(e){n.setState({time:e});var t=n.props.date,r=t instanceof Date&&!isNaN(t)?t:new Date;r.setHours(e.split(":")[0]),r.setMinutes(e.split(":")[1]),n.props.onChange(r)})),_e(n,"renderTimeInput",(function(){var e=n.state.time,t=n.props,r=t.date,i=t.timeString,o=t.customTimeInput;return o?de.default.cloneElement(o,{date:r,value:e,onChange:n.onTimeChange}):de.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||i)}})})),n.state={time:n.props.timeString},n}return Ie(t,e),ke(t,[{key:"render",value:function(){return de.default.createElement("div",{className:"react-datepicker__input-time-container"},de.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.default.createElement("div",{className:"react-datepicker-time__input-container"},de.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}])}(de.default.Component);function Gt(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,i=void 0!==r&&r,o=e.className,a=e.children,s=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return de.default.createElement("div",{className:o,role:"dialog","aria-label":s,"aria-modal":"true"},a)}var Qt,Xt=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Jt=function(e){function t(e){var n;return be(this,t),_e(n=pe(this,t,[e]),"handleClickOutside",(function(e){n.props.onClickOutside(e)})),_e(n,"setClickOutsideRef",(function(){return n.containerRef.current})),_e(n,"handleDropdownFocus",(function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Xt.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&n.props.onDropdownFocus()})),_e(n,"getDateInView",(function(){var e=n.props,t=e.preSelection,r=e.selected,i=e.openToDate,o=pt(n.props),a=mt(n.props),s=Ae();return i||r||t||(o&&te.isBefore(s,o)?o:a&&ee.isAfter(s,a)?a:s)})),_e(n,"increaseMonth",(function(){n.setState((function(e){var t=e.date;return{date:d.addMonths(t,1)}}),(function(){return n.handleMonthChange(n.state.date)}))})),_e(n,"decreaseMonth",(function(){n.setState((function(e){var t=e.date;return{date:g.subMonths(t,1)}}),(function(){return n.handleMonthChange(n.state.date)}))})),_e(n,"handleDayClick",(function(e,t,r){n.props.onSelect(e,t,r),n.props.setPreSelection&&n.props.setPreSelection(e)})),_e(n,"handleDayMouseEnter",(function(e){n.setState({selectingDate:e}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)})),_e(n,"handleMonthMouseLeave",(function(){n.setState({selectingDate:null}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()})),_e(n,"handleYearMouseEnter",(function(e,t){n.setState({selectingDate:O.setYear(Ae(),t)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(e,t)})),_e(n,"handleYearMouseLeave",(function(e,t){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(e,t)})),_e(n,"handleYearChange",(function(e){n.props.onYearChange&&(n.props.onYearChange(e),n.setState({isRenderAriaLiveMessage:!0})),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(e),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(e)})),_e(n,"handleMonthChange",(function(e){n.handleCustomMonthChange(e),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(e),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(e)})),_e(n,"handleCustomMonthChange",(function(e){n.props.onMonthChange&&(n.props.onMonthChange(e),n.setState({isRenderAriaLiveMessage:!0}))})),_e(n,"handleMonthYearChange",(function(e){n.handleYearChange(e),n.handleMonthChange(e)})),_e(n,"changeYear",(function(e){n.setState((function(t){var n=t.date;return{date:O.setYear(n,e)}}),(function(){return n.handleYearChange(n.state.date)}))})),_e(n,"changeMonth",(function(e){n.setState((function(t){var n=t.date;return{date:A.setMonth(n,e)}}),(function(){return n.handleMonthChange(n.state.date)}))})),_e(n,"changeMonthYear",(function(e){n.setState((function(t){var n=t.date;return{date:O.setYear(A.setMonth(n,I.getMonth(e)),T.getYear(e))}}),(function(){return n.handleMonthYearChange(n.state.date)}))})),_e(n,"header",(function(){var e=Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,n.props.locale,n.props.calendarStartDay),t=[];return n.props.showWeekNumbers&&t.push(de.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map((function(t){var i=c.addDays(e,t),o=n.formatWeekday(i,n.props.locale),a=n.props.weekDayClassName?n.props.weekDayClassName(i):void 0;return de.default.createElement("div",{key:t,className:r.clsx("react-datepicker__day-name",a)},o)})))})),_e(n,"formatWeekday",(function(e,t){return n.props.formatWeekDay?function(e,t,n){return t(Oe(e,"EEEE",n))}(e,n.props.formatWeekDay,t):n.props.useWeekdaysShort?function(e,t){return Oe(e,"EEE",t)}(e,t):function(e,t){return Oe(e,"EEEEEE",t)}(e,t)})),_e(n,"decreaseYear",(function(){n.setState((function(e){var t=e.date;return{date:y.subYears(t,n.props.showYearPicker?n.props.yearItemNumber:1)}}),(function(){return n.handleYearChange(n.state.date)}))})),_e(n,"clearSelectingDate",(function(){n.setState({selectingDate:null})})),_e(n,"renderPreviousButton",(function(){if(!n.props.renderCustomHeader){var e;switch(!0){case n.props.showMonthYearPicker:e=ht(n.state.date,n.props);break;case n.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,i=void 0===r?Pe:r,o=bt(Be(y.subYears(e,i)),i).endPeriod,a=n&&T.getYear(n);return a&&a>o||!1}(n.state.date,n.props);break;default:e=ut(n.state.date,n.props)}if((n.props.forceShowMonthNavigation||n.props.showDisabledMonthNavigation||!e)&&!n.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],r=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(r=n.decreaseYear),e&&n.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),r=null);var i=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,o=n.props,a=o.previousMonthButtonLabel,s=o.previousYearButtonLabel,l=n.props,c=l.previousMonthAriaLabel,u=void 0===c?"string"==typeof a?a:"Previous Month":c,d=l.previousYearAriaLabel,h=void 0===d?"string"==typeof s?s:"Previous Year":d;return de.default.createElement("button",{type:"button",className:t.join(" "),onClick:r,onKeyDown:n.props.handleOnKeyDown,"aria-label":i?h:u},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},i?n.props.previousYearButtonLabel:n.props.previousMonthButtonLabel))}}})),_e(n,"increaseYear",(function(){n.setState((function(e){var t=e.date;return{date:f.addYears(t,n.props.showYearPicker?n.props.yearItemNumber:1)}}),(function(){return n.handleYearChange(n.state.date)}))})),_e(n,"renderNextButton",(function(){if(!n.props.renderCustomHeader){var e;switch(!0){case n.props.showMonthYearPicker:e=ft(n.state.date,n.props);break;case n.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,i=void 0===r?Pe:r,o=bt(f.addYears(e,i),i).startPeriod,a=n&&T.getYear(n);return a&&a<o||!1}(n.state.date,n.props);break;default:e=dt(n.state.date,n.props)}if((n.props.forceShowMonthNavigation||n.props.showDisabledMonthNavigation||!e)&&!n.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];n.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var r=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(r=n.increaseYear),e&&n.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),r=null);var i=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,o=n.props,a=o.nextMonthButtonLabel,s=o.nextYearButtonLabel,l=n.props,c=l.nextMonthAriaLabel,u=void 0===c?"string"==typeof a?a:"Next Month":c,d=l.nextYearAriaLabel,h=void 0===d?"string"==typeof s?s:"Next Year":d;return de.default.createElement("button",{type:"button",className:t.join(" "),onClick:r,onKeyDown:n.props.handleOnKeyDown,"aria-label":i?h:u},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},i?n.props.nextYearButtonLabel:n.props.nextMonthButtonLabel))}}})),_e(n,"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=["react-datepicker__current-month"];return n.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),de.default.createElement("div",{className:t.join(" ")},Oe(e,n.props.dateFormat,n.props.locale))})),_e(n,"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showYearDropdown&&!e)return de.default.createElement(Ct,{adjustDateOnChange:n.props.adjustDateOnChange,date:n.state.date,onSelect:n.props.onSelect,setOpen:n.props.setOpen,dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:T.getYear(n.state.date),scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})})),_e(n,"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showMonthDropdown&&!e)return de.default.createElement(Nt,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,onChange:n.changeMonth,month:I.getMonth(n.state.date),useShortMonthInDropdown:n.props.useShortMonthInDropdown})})),_e(n,"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showMonthYearDropdown&&!e)return de.default.createElement(Rt,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonthYear,minDate:n.props.minDate,maxDate:n.props.maxDate,date:n.state.date,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown})})),_e(n,"handleTodayButtonClick",(function(e){n.props.onSelect(Ve(),e),n.props.setPreSelection&&n.props.setPreSelection(Ve())})),_e(n,"renderTodayButton",(function(){if(n.props.todayButton&&!n.props.showTimeSelectOnly)return de.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return n.handleTodayButtonClick(e)}},n.props.todayButton)})),_e(n,"renderDefaultHeader",(function(e){var t=e.monthDate,r=e.i;return de.default.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(t),de.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(0!==r),n.renderMonthYearDropdown(0!==r),n.renderYearDropdown(0!==r)),de.default.createElement("div",{className:"react-datepicker__day-names"},n.header(t)))})),_e(n,"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,r=e.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var i=ut(n.state.date,n.props),o=dt(n.state.date,n.props),a=ht(n.state.date,n.props),s=ft(n.state.date,n.props),l=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},n.props.renderCustomHeader(ve(ve({},n.state),{},{customHeaderCount:r,monthDate:t,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:i,nextMonthButtonDisabled:o,prevYearButtonDisabled:a,nextYearButtonDisabled:s})),l&&de.default.createElement("div",{className:"react-datepicker__day-names"},n.header(t)))})),_e(n,"renderYearHeader",(function(e){var t=e.monthDate,r=n.props,i=r.showYearPicker,o=bt(t,r.yearItemNumber),a=o.startPeriod,s=o.endPeriod;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i?"".concat(a," - ").concat(s):T.getYear(t))})),_e(n,"renderHeader",(function(e){switch(!0){case void 0!==n.props.renderCustomHeader:return n.renderCustomHeader(e);case n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker:return n.renderYearHeader(e);default:return n.renderDefaultHeader(e)}})),_e(n,"renderMonths",(function(){var e;if(!n.props.showTimeSelectOnly&&!n.props.showYearPicker){for(var t=[],r=n.props.showPreviousMonths?n.props.monthsShown-1:0,i=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f.addYears(n.state.date,r):g.subMonths(n.state.date,r),o=null!==(e=n.props.monthSelectedIn)&&void 0!==e?e:r,a=0;a<n.props.monthsShown;++a){var s=a-o+r,l=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f.addYears(i,s):d.addMonths(i,s),c="month-".concat(a),u=a<n.props.monthsShown-1,h=a>0;t.push(de.default.createElement("div",{key:c,ref:function(e){n.monthContainer=e},className:"react-datepicker__month-container"},n.renderHeader({monthDate:l,i:a}),de.default.createElement(Yt,{chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:n.props.weekAriaLabelPrefix,ariaLabelPrefix:n.props.monthAriaLabelPrefix,onChange:n.changeMonthYear,day:l,dayClassName:n.props.dayClassName,calendarStartDay:n.props.calendarStartDay,monthClassName:n.props.monthClassName,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,onWeekSelect:n.props.onWeekSelect,orderInDisplay:a,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,setPreSelection:n.props.setPreSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,renderDayContents:n.props.renderDayContents,renderMonthContent:n.props.renderMonthContent,renderQuarterContent:n.props.renderQuarterContent,renderYearContent:n.props.renderYearContent,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,showMonthYearPicker:n.props.showMonthYearPicker,showFullMonthYearPicker:n.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:n.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:n.props.showFourColumnMonthYearPicker,showYearPicker:n.props.showYearPicker,showQuarterYearPicker:n.props.showQuarterYearPicker,showWeekPicker:n.props.showWeekPicker,isInputFocused:n.props.isInputFocused,containerRef:n.containerRef,monthShowsDuplicateDaysEnd:u,monthShowsDuplicateDaysStart:h})))}return t}})),_e(n,"renderYears",(function(){if(!n.props.showTimeSelectOnly)return n.props.showYearPicker?de.default.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),de.default.createElement(Ht,Ee({onDayClick:n.handleDayClick,selectingDate:n.state.selectingDate,clearSelectingDate:n.clearSelectingDate,date:n.state.date},n.props,{onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave}))):void 0})),_e(n,"renderTimeSection",(function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return de.default.createElement(Wt,{selected:n.props.selected,openToDate:n.props.openToDate,onChange:n.props.onTimeChange,timeClassName:n.props.timeClassName,format:n.props.timeFormat,includeTimes:n.props.includeTimes,intervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,filterTime:n.props.filterTime,timeCaption:n.props.timeCaption,todayButton:n.props.todayButton,showMonthDropdown:n.props.showMonthDropdown,showMonthYearDropdown:n.props.showMonthYearDropdown,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,monthRef:n.state.monthContainer,injectTimes:n.props.injectTimes,locale:n.props.locale,handleOnKeyDown:n.props.handleOnKeyDown,showTimeSelectOnly:n.props.showTimeSelectOnly})})),_e(n,"renderInputTimeSection",(function(){var e=new Date(n.props.selected),t=Me(e)&&Boolean(n.props.selected)?"".concat(wt(e.getHours()),":").concat(wt(e.getMinutes())):"";if(n.props.showTimeInput)return de.default.createElement(Kt,{date:e,timeString:t,timeInputLabel:n.props.timeInputLabel,onChange:n.props.onTimeChange,customTimeInput:n.props.customTimeInput})})),_e(n,"renderAriaLiveRegion",(function(){var e,t=bt(n.state.date,n.props.yearItemNumber),r=t.startPeriod,i=t.endPeriod;return e=n.props.showYearPicker?"".concat(r," - ").concat(i):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?T.getYear(n.state.date):"".concat(Xe(I.getMonth(n.state.date),n.props.locale)," ").concat(T.getYear(n.state.date)),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&e)})),_e(n,"renderChildren",(function(){if(n.props.children)return de.default.createElement("div",{className:"react-datepicker__children-container"},n.props.children)})),n.containerRef=de.default.createRef(),n.state={date:n.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},n}return Ie(t,e),ke(t,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(!this.props.preSelection||We(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!We(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!qe(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}}},{key:"render",value:function(){var e=this.props.container||Gt;return de.default.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.default.createElement(e,{className:r.clsx("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Pe}}}])}(de.default.Component),$t=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,i=e.onClick,o="react-datepicker__calendar-icon";return de.default.isValidElement(t)?de.default.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(o," ").concat(r),onClick:function(e){"function"==typeof t.props.onClick&&t.props.onClick(e),"function"==typeof i&&i(e)}}):"string"==typeof t?de.default.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i}):de.default.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},de.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Zt=function(e){function t(e){var n;return be(this,t),(n=pe(this,t,[e])).el=document.createElement("div"),n}return Ie(t,e),ke(t,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return fe.default.createPortal(this.props.children,this.el)}}])}(de.default.Component),en=function(e){return!e.disabled&&-1!==e.tabIndex},tn=function(e){function t(e){var n;return be(this,t),_e(n=pe(this,t,[e]),"getTabChildren",(function(){return Array.prototype.slice.call(n.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(en)})),_e(n,"handleFocusStart",(function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()})),_e(n,"handleFocusEnd",(function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()})),n.tabLoopRef=de.default.createRef(),n}return Ie(t,e),ke(t,[{key:"render",value:function(){return this.props.enableTabLoop?de.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,de.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(de.default.Component),nn=function(e){function t(){return be(this,t),pe(this,t,arguments)}return Ie(t,e),ke(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,a=t.popperComponent,s=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,u=t.portalId,d=t.portalHost,h=t.popperProps,f=t.showArrow;if(!o){var p=r.clsx("react-datepicker-popper",n);e=de.default.createElement(tn,{enableTabLoop:l},de.default.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:p,"data-placement":h.placement,onKeyDown:c},a,f&&de.default.createElement(le.FloatingArrow,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(e=de.default.createElement(this.props.popperContainer,{},e)),u&&!o&&(e=de.default.createElement(Zt,{portalId:u,portalHost:d},e));var m=r.clsx("react-datepicker-wrapper",i);return de.default.createElement(de.default.Fragment,null,de.default.createElement("div",{ref:h.refs.setReference,className:m},s),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(de.default.Component),rn=(Qt=nn,function(e){var t=ve(ve({},e),{},{popperModifiers:e.popperModifiers||[],popperProps:e.popperProps||{},hidePopper:"boolean"!=typeof e.hidePopper||e.hidePopper}),n=de.default.useRef(),r=le.useFloating(ve({open:!t.hidePopper,whileElementsMounted:le.autoUpdate,placement:t.popperPlacement,middleware:[le.flip({padding:15}),le.offset(10),le.arrow({element:n})].concat(Ce(t.popperModifiers))},t.popperProps));return de.default.createElement(Qt,Ee({},t,{popperProps:ve(ve({},r),{},{arrowRef:n})}))}),on="react-datepicker-ignore-onclickoutside",an=he.default(Jt),sn="Date input not valid.",ln=function(e){function t(e){var n;return be(this,t),_e(n=pe(this,t,[e]),"getPreSelection",(function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Ae()})),_e(n,"modifyHolidays",(function(){var e;return null===(e=n.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return o.isValid(n)?[].concat(Ce(e),[ve(ve({},t),{},{date:n})]):e}),[])})),_e(n,"calcInitialState",(function(){var e,t=n.getPreSelection(),r=pt(n.props),i=mt(n.props),o=r&&te.isBefore(t,U.startOfDay(r))?r:i&&ee.isAfter(t,W.endOfDay(i))?i:t;return{open:n.props.startOpen||!1,preventFocus:!1,preSelection:null!==(e=n.props.selectsRange?n.props.startDate:n.props.selected)&&void 0!==e?e:o,highlightDates:gt(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}})),_e(n,"clearPreventFocusTimeout",(function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)})),_e(n,"setFocus",(function(){n.input&&n.input.focus&&n.input.focus({preventScroll:!0})})),_e(n,"setBlur",(function(){n.input&&n.input.blur&&n.input.blur(),n.cancelFocusInput()})),_e(n,"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.setState({open:e,preSelection:e&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:un},(function(){e||n.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&n.setBlur(),n.setState({inputValue:null})}))}))})),_e(n,"inputOk",(function(){return i.isDate(n.state.preSelection)})),_e(n,"isCalendarOpen",(function(){return void 0===n.props.open?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open})),_e(n,"handleFocus",(function(e){n.state.preventFocus||(n.props.onFocus(e),n.props.preventOpenOnFocus||n.props.readOnly||n.setOpen(!0)),n.setState({focused:!0})})),_e(n,"sendFocusBackToInput",(function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},(function(){n.preventFocusTimeout=setTimeout((function(){n.setFocus(),n.setState({preventFocus:!1})}))}))})),_e(n,"cancelFocusInput",(function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null})),_e(n,"deferFocusInput",(function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout((function(){return n.setFocus()}),1)})),_e(n,"handleDropdownFocus",(function(){n.cancelFocusInput()})),_e(n,"handleBlur",(function(e){(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&n.props.onBlur(e),n.setState({focused:!1})})),_e(n,"handleCalendarClickOutside",(function(e){n.props.inline||n.setOpen(!1),n.props.onClickOutside(e),n.props.withPortal&&e.preventDefault()})),_e(n,"handleChange",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(!n.props.onChangeRaw||(n.props.onChangeRaw.apply(n,t),"function"==typeof i.isDefaultPrevented&&!i.isDefaultPrevented())){n.setState({inputValue:i.target.value,lastPreSelectChange:cn});var o,s,l,c,u,d,h,f,p=(o=i.target.value,s=n.props.dateFormat,l=n.props.locale,c=n.props.strictParsing,u=n.props.minDate,d=null,h=Qe(l)||Qe(Ge()),f=!0,Array.isArray(s)?(s.forEach((function(e){var t=ie.parse(o,e,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});c&&(f=Me(t,u)&&o===Oe(t,e,l)),Me(t,u)&&f&&(d=t)})),d):(d=ie.parse(o,s,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),c?f=Me(d)&&o===Oe(d,s,l):Me(d)||(s=s.match(Ne).map((function(e){var t=e[0];if("p"===t||"P"===t){var n=a.longFormatters[t];return h?n(e,h.formatLong):t}return e})).join(""),o.length>0&&(d=ie.parse(o,s.slice(0,o.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Me(d)||(d=new Date(o))),Me(d)&&f?d:null));n.props.showTimeSelectOnly&&n.props.selected&&p&&!We(p,n.props.selected)&&(p=ce.set(n.props.selected,{hours:S.getHours(p),minutes:b.getMinutes(p),seconds:w.getSeconds(p)})),!p&&i.target.value||n.setSelected(p,i,!0)}})),_e(n,"handleSelect",(function(e,t,r){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(t),n.setSelected(e,t,!1,r),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(e);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var i=n.props,o=i.startDate,a=i.endDate;!o||a||_t(e,o)||n.setOpen(!1)}})),_e(n,"setSelected",(function(e,t,r,i){var o=e;if(n.props.showYearPicker){if(null!==o&&it(T.getYear(o),n.props))return}else if(n.props.showMonthYearPicker){if(null!==o&&et(o,n.props))return}else if(null!==o&&$e(o,n.props))return;var a=n.props,s=a.onChange,l=a.selectsRange,c=a.startDate,u=a.endDate,d=a.selectsMultiple,h=a.selectedDates,f=a.minTime;if(!He(n.props.selected,o)||n.props.allowSameDay||l||d)if(null!==o&&(!n.props.selected||r&&(n.props.showTimeSelect||n.props.showTimeSelectOnly||n.props.showTimeInput)||(o=Le(o,{hour:S.getHours(n.props.selected),minute:b.getMinutes(n.props.selected),second:w.getSeconds(n.props.selected)})),r||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly||f&&(o=Le(o,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),n.props.inline||n.setState({preSelection:o}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:i})),l){var p=c&&u;c||u?c&&!u&&(null===o?s([null,null],t):_t(o,c)?s([o,null],t):s([c,o],t)):s([o,null],t),p&&s([o,null],t)}else d?null!=h&&h.length?h.some((function(e){return We(e,o)}))?s(h.filter((function(e){return!We(e,o)})),t):s([].concat(Ce(h),[o]),t):s([o],t):s(o,t);r||(n.props.onSelect(o,t),n.setState({inputValue:null}))})),_e(n,"setPreSelection",(function(e){var t=void 0!==n.props.minDate,r=void 0!==n.props.maxDate,i=!0;if(e){var o=U.startOfDay(e);if(t&&r)i=Ke(e,n.props.minDate,n.props.maxDate);else if(t){var a=U.startOfDay(n.props.minDate);i=ee.isAfter(e,a)||He(o,a)}else if(r){var s=W.endOfDay(n.props.maxDate);i=te.isBefore(e,s)||He(o,s)}}i&&n.setState({preSelection:e})})),_e(n,"toggleCalendar",(function(){n.setOpen(!n.state.open)})),_e(n,"handleTimeChange",(function(e){var t=n.props.selected?n.props.selected:n.getPreSelection(),r=n.props.selected?e:Le(t,{hour:S.getHours(e),minute:b.getMinutes(e)});n.setState({preSelection:r}),n.props.onChange(r),n.props.shouldCloseOnSelect&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})})),_e(n,"onInputClick",(function(){n.props.disabled||n.props.readOnly||n.setOpen(!0),n.props.onInputClick()})),_e(n,"onInputKeyDown",(function(e){n.props.onKeyDown(e);var t=e.key;if(n.state.open||n.props.inline||n.props.preventOpenOnFocus){if(n.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var r=n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',i=n.calendar.componentNode&&n.calendar.componentNode.querySelector(r);return void(i&&i.focus({preventScroll:!0}))}var o=Ae(n.state.preSelection);"Enter"===t?(e.preventDefault(),n.inputOk()&&n.state.lastPreSelectChange===un?(n.handleSelect(o,e),!n.props.shouldCloseOnSelect&&n.setPreSelection(o)):n.setOpen(!1)):"Escape"===t?(e.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1)):"Tab"===t&&n.setOpen(!1),n.inputOk()||n.props.onInputError({code:1,msg:sn})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||n.onInputClick()})),_e(n,"onPortalKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),n.setState({preventFocus:!0},(function(){n.setOpen(!1),setTimeout((function(){n.setFocus(),n.setState({preventFocus:!1})}))})))})),_e(n,"onDayKeyDown",(function(e){n.props.onKeyDown(e);var t,r=e.key,i=e.shiftKey,o=Ae(n.state.preSelection);if("Enter"===r)e.preventDefault(),n.handleSelect(o,e),!n.props.shouldCloseOnSelect&&n.setPreSelection(o);else if("Escape"===r)e.preventDefault(),n.setOpen(!1),n.inputOk()||n.props.onInputError({code:1,msg:sn});else if(!n.props.disabledKeyboardNavigation){var a;switch(r){case"ArrowLeft":a=n.props.showWeekPicker?m.subWeeks(o,1):p.subDays(o,1);break;case"ArrowRight":a=n.props.showWeekPicker?u.addWeeks(o,1):c.addDays(o,1);break;case"ArrowUp":a=m.subWeeks(o,1);break;case"ArrowDown":a=u.addWeeks(o,1);break;case"PageUp":a=i?y.subYears(o,1):g.subMonths(o,1);break;case"PageDown":a=i?f.addYears(o,1):d.addMonths(o,1);break;case"Home":a=Fe(o,n.props.locale,n.props.calendarStartDay);break;case"End":t=o,a=H.endOfWeek(t);break;default:a=null}if(!a)return void(n.props.onInputError&&n.props.onInputError({code:1,msg:sn}));if(e.preventDefault(),n.setState({lastPreSelectChange:un}),n.props.adjustDateOnChange&&n.setSelected(a),n.setPreSelection(a),n.props.inline){var s=I.getMonth(o),l=I.getMonth(a),h=T.getYear(o),v=T.getYear(a);s!==l||h!==v?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}})),_e(n,"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),n.sendFocusBackToInput())})),_e(n,"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),n.sendFocusBackToInput(),n.props.selectsRange?n.props.onChange([null,null],e):n.props.onChange(null,e),n.setState({inputValue:null})})),_e(n,"clear",(function(){n.onClearClick()})),_e(n,"onScroll",(function(e){"boolean"==typeof n.props.closeOnScroll&&n.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||n.setOpen(!1):"function"==typeof n.props.closeOnScroll&&n.props.closeOnScroll(e)&&n.setOpen(!1)})),_e(n,"renderCalendar",(function(){return n.props.inline||n.isCalendarOpen()?de.default.createElement(an,{ref:function(e){n.calendar=e},locale:n.props.locale,calendarStartDay:n.props.calendarStartDay,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:n.props.weekAriaLabelPrefix,monthAriaLabelPrefix:n.props.monthAriaLabelPrefix,adjustDateOnChange:n.props.adjustDateOnChange,setOpen:n.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,dateFormat:n.props.dateFormatCalendar,useWeekdaysShort:n.props.useWeekdaysShort,formatWeekDay:n.props.formatWeekDay,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,onWeekSelect:n.props.onWeekSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,formatWeekNumber:n.props.formatWeekNumber,highlightDates:n.state.highlightDates,holidays:vt(n.modifyHolidays()),includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,includeTimes:n.props.includeTimes,injectTimes:n.props.injectTimes,inline:n.props.inline,shouldFocusDayInline:n.state.shouldFocusDayInline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,showPreviousMonths:n.props.showPreviousMonths,useShortMonthInDropdown:n.props.useShortMonthInDropdown,showMonthYearDropdown:n.props.showMonthYearDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,forceShowMonthNavigation:n.props.forceShowMonthNavigation,showDisabledMonthNavigation:n.props.showDisabledMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,todayButton:n.props.todayButton,weekLabel:n.props.weekLabel,outsideClickIgnoreClass:on,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,monthSelectedIn:n.state.monthSelectedIn,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,onYearChange:n.props.onYearChange,dayClassName:n.props.dayClassName,weekDayClassName:n.props.weekDayClassName,monthClassName:n.props.monthClassName,timeClassName:n.props.timeClassName,showDateSelect:n.props.showDateSelect,showTimeSelect:n.props.showTimeSelect,showTimeSelectOnly:n.props.showTimeSelectOnly,onTimeChange:n.handleTimeChange,timeFormat:n.props.timeFormat,timeIntervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,filterTime:n.props.filterTime,timeCaption:n.props.timeCaption,className:n.props.calendarClassName,container:n.props.calendarContainer,yearItemNumber:n.props.yearItemNumber,yearDropdownItemNumber:n.props.yearDropdownItemNumber,previousMonthAriaLabel:n.props.previousMonthAriaLabel,previousMonthButtonLabel:n.props.previousMonthButtonLabel,nextMonthAriaLabel:n.props.nextMonthAriaLabel,nextMonthButtonLabel:n.props.nextMonthButtonLabel,previousYearAriaLabel:n.props.previousYearAriaLabel,previousYearButtonLabel:n.props.previousYearButtonLabel,nextYearAriaLabel:n.props.nextYearAriaLabel,nextYearButtonLabel:n.props.nextYearButtonLabel,timeInputLabel:n.props.timeInputLabel,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderCustomHeader:n.props.renderCustomHeader,popperProps:n.props.popperProps,renderDayContents:n.props.renderDayContents,renderMonthContent:n.props.renderMonthContent,renderQuarterContent:n.props.renderQuarterContent,renderYearContent:n.props.renderYearContent,onDayMouseEnter:n.props.onDayMouseEnter,onMonthMouseLeave:n.props.onMonthMouseLeave,onYearMouseEnter:n.props.onYearMouseEnter,onYearMouseLeave:n.props.onYearMouseLeave,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,showTimeInput:n.props.showTimeInput,showMonthYearPicker:n.props.showMonthYearPicker,showFullMonthYearPicker:n.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:n.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:n.props.showFourColumnMonthYearPicker,showYearPicker:n.props.showYearPicker,showQuarterYearPicker:n.props.showQuarterYearPicker,showWeekPicker:n.props.showWeekPicker,excludeScrollbar:n.props.excludeScrollbar,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,isInputFocused:n.state.focused,customTimeInput:n.props.customTimeInput,setPreSelection:n.setPreSelection,usePointerEvent:n.props.usePointerEvent,yearClassName:n.props.yearClassName},n.props.children):null})),_e(n,"renderAriaLiveRegion",(function(){var e,t=n.props,r=t.dateFormat,i=t.locale,o=n.props.showTimeInput||n.props.showTimeSelect?"PPPPp":"PPPP";return e=n.props.selectsRange?"Selected start date: ".concat(Re(n.props.startDate,{dateFormat:o,locale:i}),". ").concat(n.props.endDate?"End date: "+Re(n.props.endDate,{dateFormat:o,locale:i}):""):n.props.showTimeSelectOnly?"Selected time: ".concat(Re(n.props.selected,{dateFormat:r,locale:i})):n.props.showYearPicker?"Selected year: ".concat(Re(n.props.selected,{dateFormat:"yyyy",locale:i})):n.props.showMonthYearPicker?"Selected month: ".concat(Re(n.props.selected,{dateFormat:"MMMM yyyy",locale:i})):n.props.showQuarterYearPicker?"Selected quarter: ".concat(Re(n.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):"Selected date: ".concat(Re(n.props.selected,{dateFormat:o,locale:i})),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)})),_e(n,"renderDateInput",(function(){var e,t=r.clsx(n.props.className,_e({},on,n.state.open)),i=n.props.customInput||de.default.createElement("input",{type:"text"}),o=n.props.customInputRef||"ref",a="string"==typeof n.props.value?n.props.value:"string"==typeof n.state.inputValue?n.state.inputValue:n.props.selectsRange?function(e,t,n){if(!e)return"";var r=Re(e,n),i=t?Re(t,n):"";return"".concat(r," - ").concat(i)}(n.props.startDate,n.props.endDate,n.props):n.props.selectsMultiple?function(e,t){if(null==e||!e.length)return"";var n=Re(e[0],t);if(1===e.length)return n;if(2===e.length){var r=Re(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}(n.props.selectedDates,n.props):Re(n.props.selected,n.props);return de.default.cloneElement(i,(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(e={},o,(function(e){n.input=e})),"value",a),"onBlur",n.handleBlur),"onChange",n.handleChange),"onClick",n.onInputClick),"onFocus",n.handleFocus),"onKeyDown",n.onInputKeyDown),"id",n.props.id),"name",n.props.name),"form",n.props.form),_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(e,"autoFocus",n.props.autoFocus),"placeholder",n.props.placeholderText),"disabled",n.props.disabled),"autoComplete",n.props.autoComplete),"className",r.clsx(i.props.className,t)),"title",n.props.title),"readOnly",n.props.readOnly),"required",n.props.required),"tabIndex",n.props.tabIndex),"aria-describedby",n.props.ariaDescribedBy),_e(_e(_e(e,"aria-invalid",n.props.ariaInvalid),"aria-labelledby",n.props.ariaLabelledBy),"aria-required",n.props.ariaRequired)))})),_e(n,"renderClearButton",(function(){var e=n.props,t=e.isClearable,i=e.disabled,o=e.selected,a=e.startDate,s=e.endDate,l=e.clearButtonTitle,c=e.clearButtonClassName,u=void 0===c?"":c,d=e.ariaLabelClose,h=void 0===d?"Close":d,f=e.selectedDates;return t&&(null!=o||null!=a||null!=s||null!=f&&f.length)?de.default.createElement("button",{type:"button",className:r.clsx("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":h,onClick:n.onClearClick,title:l,tabIndex:-1}):null})),n.state=n.calcInitialState(),n.preventFocusTimeout=null,n}return Ie(t,e),ke(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?I.getMonth(n)!==I.getMonth(r)||T.getYear(n)!==T.getYear(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:gt(this.props.highlightDates)}),t.focused||He(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,i=e.toggleCalendarOnIconClick,o=this.state.open;return de.default.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&de.default.createElement($t,Ee({icon:n,className:"".concat(r," ").concat(o&&"react-datepicker-ignore-onclickoutside")},i?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?de.default.createElement(tn,{enableTabLoop:this.props.enableTabLoop},de.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=de.default.createElement(Zt,{portalId:this.props.portalId,portalHost:this.props.portalHost},t)),de.default.createElement("div",null,this.renderInputContainer(),t)}return de.default.createElement(rn,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Pe,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(de.default.Component),cn="input",un="navigate";e.CalendarContainer=Gt,e.default=ln,e.getDefaultLocale=Ge,e.registerLocale=function(e,t){var n="undefined"!=typeof window?window:globalThis;n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:globalThis).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(5043),n(5173),n(2949),n(1890),n(9858),n(4333),n(86),n(5608),n(8620),n(9994),n(4640),n(1634),n(709),n(3613),n(4357),n(6221),n(899),n(6198),n(2808),n(8667),n(5857),n(7600),n(5528),n(9871),n(8920),n(2918),n(309),n(7025),n(3052),n(4503),n(3525),n(2844),n(3410),n(4521),n(1972),n(8442),n(3439),n(5575),n(9840),n(6191),n(9249),n(1619),n(1125),n(7332),n(2412),n(4016),n(8268),n(4889),n(6500),n(6063),n(8060),n(4265),n(8322),n(1882),n(4593),n(4148),n(5551),n(4251),n(3458),n(2547),n(7950),n(5552),n(3848))},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case I:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function oe(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Ee=null;function Ie(e){if(e=wi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),ke(e.stateNode,e.type,t))}}function xe(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function De(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==_e||null!==Ee)&&(De(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Me=!1}function Re(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Be=null,Ue={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,l){Le=!1,Fe=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ye(i),e;if(a===r)return Ye(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,kt,_t,Et,It,xt=!1,Tt=[],Ct=null,Dt=null,Pt=null,Nt=new Map,At=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){xt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Dt&&jt(Dt)&&(Dt=null),null!==Pt&&jt(Pt)&&(Pt=null),Nt.forEach(Bt),At.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Dt&&Vt(Dt,e),null!==Pt&&Vt(Pt,e),Nt.forEach(t),At.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Mt.shift()}var qt=b.ReactCurrentBatchConfig,Yt=!0;function Wt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Kt(e,t,n,r){if(Yt){var i=Qt(e,t,n,r);if(null===i)Yr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Dt=Lt(Dt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&St(o),null===(o=Qt(e,t,n,r))&&Yr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var xn=F({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(xn),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Nn),Mn=[9,13,27,32],On=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Fn=u&&(!On||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){jr(e,0)}function Qn(e){if(K(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,Se(e)),Ne(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var xr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Dr=Ir("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Nr.length;Mr++){var Or=Nr[Mr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(xr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=Se(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case xr:case Tr:case Cr:l=vn;break;case Dr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:bi(l),f=null==c?s:bi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,s,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Yn(s))if(Jn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Yn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Hr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ae(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Ae(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[fi]||null}var ki=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=ki[_i],ki[_i]=null,_i--)}function xi(e,t){_i++,ki[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Di=Ei(!1),Pi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ii(Di),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(o(168));xi(Ci,t),xi(Di,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ci.current,xi(Ci,e),xi(Di,Di.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Di),Ii(Ci),xi(Ci,e)):Ii(Di),xi(Di,n)}var ji=null,Bi=!1,Ui=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,zi),i}finally{wt=t,Ui=!1}}return null}var qi=[],Yi=0,Wi=null,Hi=0,Ki=[],Gi=0,Qi=null,Xi=1,Ji="";function $i(e,t){qi[Yi++]=Hi,qi[Yi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Gi++]=Xi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Xi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=qi[--Yi],qi[Yi]=null,Hi=qi[--Yi],qi[Yi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),wo=null,bo=null,So=null;function ko(){So=bo=wo=null}function _o(e){var t=yo.current;Ii(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){wo=e,So=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===wo)throw Error(o(308));bo=e,wo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var To=null;function Co(e){null===To?To=[e]:To.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Yo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Ai(t)?Pi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Ai(t)?Pi:Ci.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case k:return(t=Bc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&$i(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&$i(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&$i(i,m),c}function g(i,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),s=a(w,s,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),io&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&$i(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ko(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=Ko(r,o,a),l.return=r,r=l)}return s(r);case k:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(a,r.mode,l)).return=r,r=o}return s(r);case A:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(R(a))return g(r,o,a,l);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Jo=Xo(!0),$o=Xo(!1),Zo={},ea=Ei(Zo),ta=Ei(Zo),na=Ei(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(xi(na,t),xi(ta,e),xi(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(ea),xi(ea,t)}function oa(){Ii(ea),Ii(ta),Ii(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(xi(ta,e),xi(ea,n))}function sa(e){ta.current===e&&(Ii(ea),Ii(ta))}var la=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=b.ReactCurrentDispatcher,fa=b.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,wa=!1,ba=0,Sa=0;function ka(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),wa){a=0;do{if(wa=!1,ba=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(wa)}if(ha.current=as,t=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function Ia(){var e=0!==ba;return ba=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ca(e,t){return"function"===typeof t?t(e):t}function Da(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Aa(e,t){var n=ma,r=Ta(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ya(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ba(9,Oa.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&pa)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Ra(e,t,n){return n((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function ja(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ta().memoizedState}function Va(e,t,n,r){var i=xa();ma.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Ba(t,n,o,r))}ma.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function qa(e,t){return Va(8390656,8,e,t)}function Ya(e,t){return za(2048,8,e,t)}function Wa(e,t){return za(4,2,e,t)}function Ha(e,t){return za(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Fl|=n,e.baseState=!0),t)}function Za(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{wt=n,fa.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Do(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){wa=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:xo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:xo,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:ja,useDebugValue:Qa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Za.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&pa)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Pl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:xo,useCallback:Xa,useContext:xo,useEffect:Ya,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ja,useReducer:Da,useRef:Ua,useState:function(){return Da(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return $a(Ta(),ga.memoizedState,e)},useTransition:function(){return[Da(Ca)[0],Ta().memoizedState]},useMutableSource:Na,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1},cs={readContext:xo,useCallback:Xa,useContext:xo,useEffect:Ya,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ja,useReducer:Pa,useRef:Ua,useState:function(){return Pa(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:$a(t,ga.memoizedState,e)},useTransition:function(){return[Pa(Ca)[0],Ta().memoizedState]},useMutableSource:Na,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),hs(0,t)},n}function ms(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=b.ReactCurrentOwner,bs=!1;function Ss(e,t,n,r){t.child=null===e?$o(t,null,n,r):Jo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=Ea(e,t,n,r,o,i),n=Ia(),null===e||bs?(io&&n&&eo(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ol,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ol,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Ol,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Ol,Ml),Ml|=r;return Ss(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Ai(n)?Pi:Ci.current;return o=Ni(t,o),Io(t,i),n=Ea(e,t,n,r,o,i),r=Ia(),null===e||bs?(io&&r&&eo(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Ai(n)){var o=!0;Li(t)}else o=!1;if(Io(t,i),null===t.stateNode)Ys(e,t),Yo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=xo(c):c=Ni(t,c=Ai(n)?Pi:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(t,a,r,c),No=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Di.current||No?("function"===typeof u&&(Vo(t,n,u,r),l=t.memoizedState),(s=No||qo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=xo(l):l=Ni(t,l=Ai(n)?Pi:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Wo(t,a,r,l),No=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Di.current||No?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=No||qo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ds(e,t,n,r,o,i)}function Ds(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ws(e,t,o);r=t.stateNode,ws.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):Ss(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return po(),mo(i),t.flags|=256,Ss(e,t,n,r),t.child}var As,Ms,Os,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rc(r,e,i,-1))}return gc(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Xi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Xi=e.id,Ji=e.overflow,Qi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ai(t.type)&&Mi(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ii(Di),Ii(Ci),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ms(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ii(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Rl&&(Rl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Ms(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return _o(t.type._context),Ks(t),null;case 19:if(Ii(la),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>ql&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*Je()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=la.current,xi(la,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ii(Di),Ii(Ci),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ii(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(la),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(e,t,n),Js=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ic(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ic(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),we(l,s);var u=we(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,gl(t,e),Js=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Zs=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Zs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=a,(Js=l)&&!c)for(Zs=i;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Zs=l):_l(i);for(;null!==o;)Zs=o,bl(o,t,n),o=o.sibling;Zs=i,Xs=s,Js=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):Sl(e)}}function Sl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ol(t)}catch(f){Ic(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function kl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _l(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ic(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ic(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Ic(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Ic(t,a,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var El,Il=Math.ceil,xl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Dl=0,Pl=null,Nl=null,Al=0,Ml=0,Ol=Ei(0),Rl=0,Ll=null,Fl=0,jl=0,Bl=0,Ul=null,Vl=null,zl=0,ql=1/0,Yl=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,Xl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Dl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Al?Al&-Al:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&Dl)&&e===Pl||(e===Pl&&(0===(2&Dl)&&(jl|=n),4===Rl&&lc(e,Al)),ic(e,r),1===n&&0===Dl&&0===(1&t.mode)&&(ql=Je()+500,Bi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Pl?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Dl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Dl))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Dl;Dl|=2;var a=mc();for(Pl===e&&Al===t||(Yl=null,ql=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}ko(),xl.current=a,Dl=i,null!==Nl?t=0:(Pl=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Vl,Yl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Vl,Yl),t);break}kc(e,Vl,Yl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Vl,Yl),r);break}kc(e,Vl,Yl);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Dl))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Vl,Yl),ic(e,Je()),null}function uc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&(ql=Je()+500,Bi&&zi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Dl)&&_c();var t=Dl;Dl|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(Dl=t))&&zi()}}function hc(){Ml=Ol.current,Ii(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:oa(),Ii(Di),Ii(Ci),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ii(la);break;case 10:_o(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Nl=e=Oc(e.current,null),Al=Ml=t,Rl=0,Ll=null,Bl=jl=Fl=0,Vl=Ul=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(ko(),ha.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,wa=!1,ba=0,Tl.current=null,null===n||null===n.return){Rl=1,Ll=t,Nl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Rl&&(Rl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=xl.current;return xl.current=as,null===e?as:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Pl,Al)}function vc(e,t){var n=Dl;Dl|=2;var r=mc();for(Pl===e&&Al===t||(Yl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(ko(),Dl=n,xl.current=r,null!==Nl)throw Error(o(261));return Pl=null,Al=0,Rl}function yc(){for(;null!==Nl;)bc(Nl)}function wc(){for(;null!==Nl&&!Qe();)bc(Nl)}function bc(e){var t=El(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Sc(e):Nl=t,Tl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ml)))return void(Nl=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Rl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Rl&&(Rl=5)}function kc(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{_c()}while(null!==Ql);if(0!==(6&Dl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pl&&(Nl=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=wt;wt=1;var l=Dl;Dl|=4,Tl.current=null,function(e,t){if(ei=Yt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Yt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(S){Ic(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Yt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Dl=l,wt=s,Cl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Xl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,zi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function _c(){if(null!==Ql){var e=bt(Xl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Dl))throw Error(o(331));var i=Dl;for(Dl|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(al(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var w=e.current;for(Zs=w;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=w;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(k){Ic(l,l.return,k)}if(l===s){Zs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Zs=S;break e}Zs=l.return}}if(Dl=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Ro(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ro(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Je()-zl?fc(e,0):Bl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,a,t);case E:s=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=a,e;case D:return(e=Ac(13,n,t,i)).elementType=D,e.lanes=a,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case T:s=9;break e;case C:s=11;break e;case N:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Yc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,a))&&(rc(e,i,a,o),Lo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(xi(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);xi(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ys(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Io(t,n),i=Ea(null,t,r,e,i,n);var a=Ia();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ds(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ys(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=_s(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),xs(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Di.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=xo(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),_s(e,t,r,i=vo(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ys(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Io(t,n),Yo(t,r,i),Ho(t,r,i,n),Ds(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Is(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Yc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),dc((function(){Yc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Yc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Yc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ft(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Dl)&&(ql=Je()+500,zi()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Et=function(){return wt},It=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));K(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,De=dc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,Si,xe,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},2547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:()=>p,default:()=>g});var r=n(5043),i=n(7950);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var l,c,u=(void 0===l&&(l=0),function(){return++l}),d={},h={},f=["touchstart","touchmove"],p="ignore-react-onclickoutside";function m(e,t){var n={};return-1!==f.indexOf(t)&&c&&(n.passive=!e.props.preventDefault),n}const g=function(e,t){var n,l,f=e.displayName||e.name||"Component";return l=n=function(n){var l,p;function g(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+f+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,i.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!h[r._uid]){"undefined"===typeof c&&(c=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),h[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),d[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&s(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,d[r._uid],m(a(r),e))}))}},r.disableOnClickOutside=function(){delete h[r._uid];var e=d[r._uid];if(e&&"undefined"!==typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,m(a(r),t))})),delete d[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=u(),r}p=n,(l=g).prototype=Object.create(p.prototype),l.prototype.constructor=l,o(l,p);var v=g.prototype;return v.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},v.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+f+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},v.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},v.componentWillUnmount=function(){this.disableOnClickOutside()},v.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},g}(r.Component),n.displayName="OnClickOutside("+f+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:p,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},7686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(5173)),o=n(5043),a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,bgD:i.default.string.isRequired,fgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,fgD:i.default.string.isRequired,size:i.default.number.isRequired,title:i.default.string,viewBoxSize:i.default.number.isRequired,xmlns:i.default.string},c={title:void 0,xmlns:"http://www.w3.org/2000/svg"},u=(0,o.forwardRef)((function(e,t){var n=e.bgColor,i=e.bgD,o=e.fgD,s=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return a.default.createElement("svg",r({},d,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l}),c?a.default.createElement("title",null,c):null,a.default.createElement("path",{d:i,fill:n}),a.default.createElement("path",{d:o,fill:s}))}));u.displayName="QRCodeSvg",u.propTypes=l,u.defaultProps=c,t.default=u},5626:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(1612)),o=u(n(7742)),a=u(n(5173)),s=n(5043),l=u(s),c=u(n(7686));function u(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},h=(0,s.forwardRef)((function(e,t){var n=e.bgColor,a=e.fgColor,s=e.level,u=e.size,d=e.value,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","fgColor","level","size","value"]),f=new i.default(-1,o.default[s]);f.addData(d),f.make();var p=f.modules;return l.default.createElement(c.default,r({},h,{bgColor:n,bgD:p.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:a,fgD:p.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:u,viewBoxSize:p.length}))}));h.displayName="QRCode",h.propTypes=d,h.defaultProps={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},t.Ay=h},5895:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c=n(5043);function u(e){return e&&"object"===l(e)&&"default"in e?e:{default:e}}var d,h,f=u(c),p=function(){var e,t={},n=[],r=function(){"function"===typeof Image&&(e=new Array(3).fill(0).map((function(){return new Image})))};return r(),{load:function(i){if(e){if(i&&!t[i])if(0===e.length)n.push(i);else{var o=e.shift();o.src=i,o.onload=function(){t[i]=!0,n.length>0?o.src=n.shift():e.push(o)}}}else r()}}}();!function(e){e[e.NORMAL=1]="NORMAL",e[e.BOLD=2]="BOLD"}(d||(d={})),function(e){e.LEFT="left",e.RIGHT="right"}(h||(h={}));var m=function(e){return f.default.createElement(f.default.Fragment,null,e.visible&&f.default.createElement("button",{type:"button",style:S.getNavStyle(e.direction,e.size,e.margin),onClick:e.onClickNav(e.direction)},f.default.createElement("img",{src:e.type===d.NORMAL?"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='24' height='24' viewBox='0 0 24 24'%3e %3cdefs%3e %3cfilter id='8utpkffr2a' width='171.8%25' height='232.4%25' x='-35.9%25' y='-66.2%25' filterUnits='objectBoundingBox'%3e %3cfeOffset in='SourceAlpha' result='shadowOffsetOuter1'/%3e %3cfeGaussianBlur in='shadowOffsetOuter1' result='shadowBlurOuter1' stdDeviation='2'/%3e %3cfeColorMatrix in='shadowBlurOuter1' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0'/%3e %3c/filter%3e %3cpath id='6inzdknobb' d='M20 6.999L20.707 7.706 12.354 16.06 4 7.706 4.707 6.999 12.354 14.646z'/%3e %3c/defs%3e %3cg fill='none' fill-rule='evenodd'%3e %3cg%3e %3cg%3e %3cg transform='translate(-67 -27) translate(67 27) rotate(90 12.354 11.53)'%3e %3cuse fill='black' filter='url(%238utpkffr2a)' xlink:href='%236inzdknobb'/%3e %3cuse fill='white' xlink:href='%236inzdknobb'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='24' height='24' viewBox='0 0 24 24'%3e %3cdefs%3e %3cfilter id='0ls8o9a99a' width='168.9%25' height='218.6%25' x='-34.5%25' y='-59.3%25' filterUnits='objectBoundingBox'%3e %3cfeOffset in='SourceAlpha' result='shadowOffsetOuter1'/%3e %3cfeGaussianBlur in='shadowOffsetOuter1' result='shadowBlurOuter1' stdDeviation='2'/%3e %3cfeColorMatrix in='shadowBlurOuter1' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0'/%3e %3c/filter%3e %3cpath id='rs87bry78b' d='M19 7L20.413 8.414 11.707 17.12 2.999 8.414 4.413 7 11.707 14.291z'/%3e %3c/defs%3e %3cg fill='none' fill-rule='evenodd'%3e %3cg%3e %3cg%3e %3cg transform='translate(-24 -27) translate(24 27) rotate(90 11.707 12.06)'%3e %3cuse fill='black' filter='url(%230ls8o9a99a)' xlink:href='%23rs87bry78b'/%3e %3cuse fill='white' xlink:href='%23rs87bry78b'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",style:a({width:"100%"},e.direction===h.RIGHT&&{transform:"rotate(180deg)"}),alt:e.direction===h.LEFT?"slide to left":"slide to right"})))},g={display:"block",margin:"0",padding:"0",border:"0"},v={position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundSize:"cover"},y={position:"absolute",top:"50%",cursor:"pointer",outline:"none",background:"none"},w={position:"absolute",left:"50%",bottom:"15px"},b={display:"inline-block",cursor:"pointer",outline:"none",background:"none",boxShadow:"1px 1px 1px 0px #1a1a1a",borderRadius:"50%",border:"1px solid #FFFFFF",width:"".concat(15,"px"),height:"".concat(15,"px"),marginLeft:"".concat(3,"px"),marginRight:"".concat(3,"px")},S={ImageSlider:a(a({},g),{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),ImageSlideCurrent:a(a({},v),{},{overflow:"hidden"}),ImageSlideNext:a(a({},v),{},{overflow:"hidden"}),NavLeft:a(a(a({},g),y),{},{left:"30px",marginTop:"-25px"}),NavRight:a(a(a({},g),y),{},{right:"30px",marginTop:"-25px"}),BulletNormal:a(a({},g),b),BulletActive:a(a(a({},g),b),{},{background:"#FFF"}),getRootContainer:function(e,t,n){return a(a({},g),{},{overflow:"hidden",width:e,height:t,backgroundColor:n})},getSubContainer:function(e,t){return a(a({},g),{},{position:"absolute",overflow:"hidden",width:e,height:t})},getBulletContainer:function(e){return a(a(a({},g),w),{},{marginLeft:"-".concat(21*e/2,"px")})},getImageSlide:function(e,t,n,r){return a(a({},v),{},{overflow:"hidden",transition:"".concat(t,"s"),backgroundImage:"url(".concat(e,")"),transform:r?"translate3d(".concat(100*n,"%, 0px, 0px)"):"translate(".concat(100*n,"%, 0px)")})},getNavStyle:function(e,t,n){return a(a(a(a({},g),y),e===h.LEFT?{left:"".concat(n,"px")}:{right:"".concat(n,"px")}),{},{marginTop:"-".concat(Math.floor(t/2),"px"),width:"".concat(t,"px")})}},k=function(e){var t=e.visible,n=e.length,r=e.currentIdx,i=e.onClickBullets;return f.default.createElement(f.default.Fragment,null,t&&n>0&&f.default.createElement("div",{style:S.getBulletContainer(n)},Array.from(Array(n).keys()).map((function(e){return f.default.createElement("button",{key:"bullet-".concat(e),type:"button","data-id":"bullet-".concat(e),style:e===r?S.BulletActive:S.BulletNormal,onClick:function(){return i(e)}})}))))},_=function(e){var t=e.startIndex,n=e.imageCount,i=e.autoPlay,o=e.autoPlayDelay,a=r(c.useState(t<n?t:0),2),s=a[0],l=a[1],u=c.useRef(!0),d=c.useRef(s),h=c.useRef(null),f=function(){null!==h.current&&(clearTimeout(h.current),h.current=null)},p=function(e){return e>=n?0:e<0?n-1:e},m=function(e){u.current=e>s,d.current=s,l(p(e))};return c.useEffect((function(){var e;return f(),e=s+1,i&&!h.current&&(h.current=setTimeout((function(){m(e)}),1e3*o)),f}),[s]),{slideIdx:s,updateSlideIdx:m,getNextLoopingIdx:p,isRightDirection:u.current,previousSlideIdx:d.current}},E=function(e,t){var n;return(null===(n=e[t])||void 0===n?void 0:n.url)||e[t]};e.exports=function(e){var t=e.width,n=e.height,i=e.images,o=e.showNavs,s=e.showBullets,l=e.loop,u=void 0===l||l,g=e.autoPlay,v=void 0!==g&&g,y=e.autoPlayDelay,w=void 0===y?2:y,b=e.startIndex,I=void 0===b?0:b,x=e.style,T=void 0===x?void 0:x,C=e.slideDuration,D=void 0===C?.5:C,P=e.bgColor,N=void 0===P?"#000":P,A=e.useGPURender,M=void 0===A||A,O=e.navSize,R=void 0===O?50:O,L=e.navMargin,F=void 0===L?30:L,j=e.navStyle,B=void 0===j?d.NORMAL:j,U=e.onClick,V=void 0===U?void 0:U,z=e.onClickNav,q=void 0===z?void 0:z,Y=e.onClickBullets,W=void 0===Y?void 0:Y,H=e.onStartSlide,K=void 0===H?void 0:H,G=e.onCompleteSlide,Q=void 0===G?void 0:G,X=c.useMemo((function(){return S.getRootContainer(t,n,N)}),[t,n,N]),J=_({imageCount:i.length,startIndex:I,autoPlay:v,autoPlayDelay:w+D}),$=J.slideIdx,Z=J.updateSlideIdx,ee=J.isRightDirection,te=J.getNextLoopingIdx,ne=J.previousSlideIdx,re=r(c.useState(S.getImageSlide(E(i,I),D,0,M)),2),ie=re[0],oe=re[1],ae=r(c.useState(S.getImageSlide(E(i,I+1),D,1,M)),2),se=ae[0],le=ae[1],ce=c.useRef(!1),ue=c.useCallback((function(e){null===V||void 0===V||V($,e)}),[$]),de=c.useCallback((function(e){return function(){if(!ce.current){var t=e===h.RIGHT;null===q||void 0===q||q(t),Z(t?$+1:$-1)}}}),[q,$,Z]),he=c.useCallback((function(e){e===$||ce.current||(null===W||void 0===W||W(e),Z(e))}),[W,$,Z]);c.useEffect((function(){if($!==ne){var e=E(i,te(ee?$-1:$+1)),t=E(i,$),n=ee?-1:1,r=ee?1:-1;null===K||void 0===K||K($+1,i.length),le(S.getImageSlide(t,0,r,M)),setTimeout((function(){ce.current=!0,oe(S.getImageSlide(e,D,n,M)),le(S.getImageSlide(t,D,0,M))}),50)}}),[K,$,ee]);var fe=c.useCallback((function(){ce.current=!1,p.load(E(i,$+2)),oe(S.getImageSlide(E(i,$),0,0,M)),null===Q||void 0===Q||Q($+1,i.length)}),[Q,$]);return f.default.createElement("div",{style:a(a({},X),T)},f.default.createElement("div",{style:S.getSubContainer(t,n)},f.default.createElement("div",{style:S.ImageSlider,onClick:ue,className:"rsis-container"},f.default.createElement("div",{style:ie,onTransitionEnd:fe,className:"rsis-image"}),i.length>1&&f.default.createElement("div",{style:se})),(u||$>0)&&f.default.createElement(m,{direction:h.LEFT,visible:o&&i.length>0,type:B,size:R,margin:F,onClickNav:de}),(u||$<i.length-1)&&f.default.createElement(m,{direction:h.RIGHT,visible:o&&i.length>0,type:B,size:R,margin:F,onClickNav:de}),f.default.createElement(k,{visible:s,length:i.length,currentIdx:$,onClickBullets:he})))}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,S(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=D(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=D(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},M={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:M,ReactCurrentOwner:_};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,M(k);else{var t=r(u);null!==t&&O(S,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!D());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(S,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,x=-1,T=5,C=-1;function D(){return!(t.unstable_now()-C<T)}function P(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof w)_=function(){w(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=P,_=function(){A.postMessage(null)}}else _=function(){v(P,0)};function M(e){I=e,E||(E=!0,_())}function O(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(x),x=-1):g=!0,O(S,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,M(k))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/CrimsonRoyale/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>yn,SDK_VERSION:()=>Ir,_DEFAULT_ENTRY_NAME:()=>cr,_addComponent:()=>pr,_addOrOverwriteComponent:()=>mr,_apps:()=>dr,_clearComponents:()=>Sr,_components:()=>fr,_getProvider:()=>vr,_isFirebaseApp:()=>wr,_isFirebaseServerApp:()=>br,_registerComponent:()=>gr,_removeServiceInstance:()=>yr,_serverApps:()=>hr,deleteApp:()=>Pr,getApp:()=>Cr,getApps:()=>Dr,initializeApp:()=>xr,initializeServerApp:()=>Tr,onLog:()=>Ar,registerVersion:()=>Nr,setLogLevel:()=>Mr});var t,r=n(5043),i=n.t(r,2),o=n(4391),a=n(7950),s=n.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,d=t.Pop,m=null,g=v();function v(){return(s.state||{idx:null}).idx}function y(){d=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:d,location:b.location,delta:n})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,s.replaceState(l({},s.state,{idx:g}),""));let b={get action(){return d},get location(){return e(o,s)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(c,y),m=e,()=>{o.removeEventListener(c,y),m=null}},createHref:e=>n(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){d=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=v()+1;let l=h(i,g),c=b.createHref(i);try{s.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(c)}a&&m&&m({action:d,location:b.location,delta:1})},replace:function(e,n){d=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=v();let o=h(i,g),l=b.createHref(i);s.replaceState(o,"",l),a&&m&&m({action:d,location:b.location,delta:0})},go:e=>s.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,i],a="string"===typeof e.id?e.id:o.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=l({},e,t(e),{id:a});return r[a]=n,n}{let n=l({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=w(e.children,t,o,r)),n}}))}function b(e,t,n){void 0===n&&(n="/");let r=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=M(r);o=N(i[a],e)}return o}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=B([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),S(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=k(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,E=3,I=2,x=1,T=10,C=-2,D=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=C),t&&(r+=I),n.filter((e=>!D(e))).reduce(((e,t)=>e+(_.test(t)?E:""===t?x:T)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:B([i,c.pathname]),pathnameBase:U(B([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=B([i,c.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function M(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=L(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:V(r),hash:z(i)}}(i,o),d=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class q{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=new Set(W),K=["get",...W],G=new Set(K),Q=new Set([301,302,303,307,308]),X=new Set([307,308]),J={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ne="remix-router-transitions";function re(e){const n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;let o;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=te;let a,s,c={},h=w(e.routes,o,void 0,c),p=e.basename||"/",m=l({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),g=null,y=new Set,S=null,k=null,_=null,E=null!=e.hydrationData,I=b(h,e.history.location,p),x=null;if(null==I){let t=be(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=we(h);I=n,x={[r.id]:t}}let T,C=I.some((e=>e.route.lazy)),D=I.some((e=>e.route.loader));if(C)s=!1;else if(D)if(m.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;s=I.every((e=>e.route.loader&&!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id])))}else s=null!=e.hydrationData;else s=!0;let P,N={historyAction:e.history.action,location:e.history.location,matches:I,initialized:s,navigation:J,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},A=t.Pop,M=!1,R=!1,L=new Map,F=null,j=!1,B=!1,U=[],V=[],z=new Map,q=0,Y=-1,W=new Map,H=new Set,K=new Map,G=new Map,Q=new Set,re=new Map,ae=new Map,le=!1;function ce(e,t){void 0===t&&(t={}),N=l({},N,e);let n=[],r=[];m.v7_fetcherPersist&&N.fetchers.forEach(((e,t)=>{"idle"===e.state&&(Q.has(t)?r.push(t):n.push(t))})),[...y].forEach((e=>e(N,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),m.v7_fetcherPersist&&(n.forEach((e=>N.fetchers.delete(e))),r.forEach((e=>Fe(e))))}function ue(n,r,i){var o,s;let c,{flushSync:u}=void 0===i?{}:i,d=null!=N.actionData&&null!=N.navigation.formMethod&&Ce(N.navigation.formMethod)&&"loading"===N.navigation.state&&!0!==(null==(o=n.state)?void 0:o._isRedirect);c=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:d?N.actionData:null;let f=r.loaderData?ve(N.loaderData,r.loaderData,r.matches||[],r.errors):N.loaderData,p=N.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,Z))));let m,g=!0===M||null!=N.navigation.formMethod&&Ce(N.navigation.formMethod)&&!0!==(null==(s=n.state)?void 0:s._isRedirect);if(a&&(h=a,a=void 0),j||A===t.Pop||(A===t.Push?e.history.push(n,n.state):A===t.Replace&&e.history.replace(n,n.state)),A===t.Pop){let e=L.get(N.location.pathname);e&&e.has(n.pathname)?m={currentLocation:N.location,nextLocation:n}:L.has(n.pathname)&&(m={currentLocation:n,nextLocation:N.location})}else if(R){let e=L.get(N.location.pathname);e?e.add(n.pathname):(e=new Set([n.pathname]),L.set(N.location.pathname,e)),m={currentLocation:N.location,nextLocation:n}}ce(l({},r,{actionData:c,loaderData:f,historyAction:A,location:n,initialized:!0,navigation:J,revalidation:"idle",restoreScrollPosition:Ke(n,r.matches||N.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===u}),A=t.Pop,M=!1,R=!1,j=!1,B=!1,U=[],V=[]}async function fe(n,r,i){P&&P.abort(),P=null,A=n,j=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(S&&_){let n=He(e,t);S[n]=_()}}(N.location,N.matches),M=!0===(i&&i.preventScrollReset),R=!0===(i&&i.enableViewTransition);let s=a||h,u=i&&i.overrideNavigation,d=b(s,r,p),f=!0===(i&&i.flushSync);if(!d){let e=be(404,{pathname:r.pathname}),{matches:t,route:n}=we(s);return We(),void ue(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:f})}if(N.initialized&&!B&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(N.location,r)&&!(i&&i.submission&&Ce(i.submission.formMethod)))return void ue(r,{matches:d},{flushSync:f});P=new AbortController;let g,y,w=he(e.history,r,P.signal,i&&i.submission);if(i&&i.pendingError)y={[ye(d).route.id]:i.pendingError};else if(i&&i.submission&&Ce(i.submission.formMethod)){let e=await async function(e,n,r,i,a){void 0===a&&(a={});ke();let s,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(n,r);ce({navigation:l},{flushSync:!0===a.flushSync});let u=Ae(i,n);if(u.route.action||u.route.lazy){if(s=await de("action",e,u,i,c,o,p,m.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else s={type:v.error,error:be(405,{method:e.method,pathname:n.pathname,routeId:u.route.id})};if(Ie(s)){let e;return e=a&&null!=a.replace?a.replace:s.location===N.location.pathname+N.location.search,await pe(N,s,{submission:r,replace:e}),{shortCircuited:!0}}if(Ee(s)){let e=ye(i,u.route.id);return!0!==(a&&a.replace)&&(A=t.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(_e(s))throw be(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}(w,r,i.submission,d,{replace:i.replace,flushSync:f});if(e.shortCircuited)return;g=e.pendingActionData,y=e.pendingActionError,u=Oe(r,i.submission),f=!1,w=new Request(w.url,{signal:w.signal})}let{shortCircuited:k,loaderData:E,errors:I}=await async function(t,n,r,i,o,s,c,u,d,f,g){let v=i||Oe(n,o),y=o||s||Me(v),w=a||h,[b,S]=se(e.history,N,r,y,n,m.v7_partialHydration&&!0===u,B,U,V,Q,K,H,w,p,f,g);if(We((e=>!(r&&r.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),Y=++q,0===b.length&&0===S.length){let e=Ue();return ue(n,l({matches:r,loaderData:{},errors:g||null},f?{actionData:f}:{},e?{fetchers:new Map(N.fetchers)}:{}),{flushSync:d}),{shortCircuited:!0}}if(!j&&(!m.v7_partialHydration||!u)){S.forEach((e=>{let t=N.fetchers.get(e.key),n=Re(void 0,t?t.data:void 0);N.fetchers.set(e.key,n)}));let e=f||N.actionData;ce(l({navigation:v},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},S.length>0?{fetchers:new Map(N.fetchers)}:{}),{flushSync:d})}S.forEach((e=>{z.has(e.key)&&je(e.key),e.controller&&z.set(e.key,e.controller)}));let k=()=>S.forEach((e=>je(e.key)));P&&P.signal.addEventListener("abort",k);let{results:_,loaderResults:E,fetcherResults:I}=await me(N.matches,r,b,S,t);if(t.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",k);S.forEach((e=>z.delete(e.key)));let x=Se(_);if(x){if(x.idx>=b.length){let e=S[x.idx-b.length].key;H.add(e)}return await pe(N,x.result,{replace:c}),{shortCircuited:!0}}let{loaderData:T,errors:C}=ge(N,r,b,E,g,S,I,re);re.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&re.delete(t)}))}));let D=Ue(),A=Ve(Y),M=D||A||S.length>0;return l({loaderData:T,errors:C},M?{fetchers:new Map(N.fetchers)}:{})}(w,r,d,u,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,f,g,y);k||(P=null,ue(r,l({matches:d},g?{actionData:g}:{},{loaderData:E,errors:I})))}async function pe(i,o,a){let{submission:s,fetcherSubmission:c,replace:d}=void 0===a?{}:a;o.revalidate&&(B=!0);let h=f(i.location,o.location,{_isRedirect:!0});if(u(h,"Expected a location on the redirect navigation"),r){let t=!1;if(o.reloadDocument)t=!0;else if(ee.test(o.location)){const r=e.history.createURL(o.location);t=r.origin!==n.location.origin||null==O(r.pathname,p)}if(t)return void(d?n.location.replace(o.location):n.location.assign(o.location))}P=null;let m=!0===d?t.Replace:t.Push,{formMethod:g,formAction:v,formEncType:y}=i.navigation;!s&&!c&&g&&v&&y&&(s=Me(i.navigation));let w=s||c;if(X.has(o.status)&&w&&Ce(w.formMethod))await fe(m,h,{submission:l({},w,{formAction:o.location}),preventScrollReset:M});else{let e=Oe(h,s);await fe(m,h,{overrideNavigation:e,fetcherSubmission:c,preventScrollReset:M})}}async function me(t,n,r,i,a){let s=await Promise.all([...r.map((e=>de("loader",a,e,n,c,o,p,m.v7_relativeSplatPath))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return de("loader",he(e.history,t.path,t.controller.signal),t.match,t.matches,c,o,p,m.v7_relativeSplatPath);return{type:v.error,error:be(404,{pathname:t.path})}}))]),l=s.slice(0,r.length),u=s.slice(r.length);return await Promise.all([De(t,r,l,l.map((()=>a.signal)),!1,N.loaderData),De(t,i.map((e=>e.match)),u,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:s,loaderResults:l,fetcherResults:u}}function ke(){B=!0,U.push(...We()),K.forEach(((e,t)=>{z.has(t)&&(V.push(t),je(t))}))}function xe(e,t,n){void 0===n&&(n={}),N.fetchers.set(e,t),ce({fetchers:new Map(N.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Te(e,t,n,r){void 0===r&&(r={});let i=ye(N.matches,t);Fe(e),ce({errors:{[i.route.id]:n},fetchers:new Map(N.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Ne(e){return m.v7_fetcherPersist&&(G.set(e,(G.get(e)||0)+1),Q.has(e)&&Q.delete(e)),N.fetchers.get(e)||$}function Fe(e){let t=N.fetchers.get(e);!z.has(e)||t&&"loading"===t.state&&W.has(e)||je(e),K.delete(e),W.delete(e),H.delete(e),Q.delete(e),N.fetchers.delete(e)}function je(e){let t=z.get(e);u(t,"Expected fetch controller: "+e),t.abort(),z.delete(e)}function Be(e){for(let t of e){let e=Le(Ne(t).data);N.fetchers.set(t,e)}}function Ue(){let e=[],t=!1;for(let n of H){let r=N.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(H.delete(n),e.push(n),t=!0)}return Be(e),t}function Ve(e){let t=[];for(let[n,r]of W)if(r<e){let e=N.fetchers.get(n);u(e,"Expected fetcher: "+n),"loading"===e.state&&(je(n),W.delete(n),t.push(n))}return Be(t),t.length>0}function ze(e){N.blockers.delete(e),ae.delete(e)}function qe(e,t){let n=N.blockers.get(e)||Z;u("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(N.blockers);r.set(e,t),ce({blockers:r})}function Ye(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===ae.size)return;ae.size>1&&d(!1,"A router only supports one blocker at a time");let i=Array.from(ae.entries()),[o,a]=i[i.length-1],s=N.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function We(e){let t=[];return re.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),re.delete(r))})),t}function He(e,t){if(k){return k(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,N.loaderData))))||e.key}return e.key}function Ke(e,t){if(S){let n=He(e,t),r=S[n];if("number"===typeof r)return r}return null}return T={get basename(){return p},get future(){return m},get state(){return N},get routes(){return h},get window(){return n},initialize:function(){if(g=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(le)return void(le=!1);d(0===ae.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Ye({currentLocation:N.location,nextLocation:r,historyAction:n});return o&&null!=i?(le=!0,e.history.go(-1*i),void qe(o,{state:"blocked",location:r,proceed(){qe(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(N.blockers);e.set(o,Z),ce({blockers:e})}})):fe(n,r)})),r){!function(e,t){try{let n=e.sessionStorage.getItem(ne);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(n,L);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ne,JSON.stringify(r))}catch(n){d(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(n,L);n.addEventListener("pagehide",e),F=()=>n.removeEventListener("pagehide",e)}return N.initialized||fe(t.Pop,N.location,{initialHydration:!0}),T},subscribe:function(e){return y.add(e),()=>y.delete(e)},enableScrollRestoration:function(e,t,n){if(S=e,_=t,k=n||null,!E&&N.navigation===J){E=!0;let e=Ke(N.location,N.matches);null!=e&&ce({restoreScrollPosition:e})}return()=>{S=null,_=null,k=null}},navigate:async function n(r,i){if("number"===typeof r)return void e.history.go(r);let o=ie(N.location,N.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:a,submission:s,error:c}=oe(m.v7_normalizeFormMethod,!1,o,i),u=N.location,d=f(N.location,a,i&&i.state);d=l({},d,e.history.encodeLocation(d));let h=i&&null!=i.replace?i.replace:void 0,g=t.Push;!0===h?g=t.Replace:!1===h||null!=s&&Ce(s.formMethod)&&s.formAction===N.location.pathname+N.location.search&&(g=t.Replace);let v=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,y=!0===(i&&i.unstable_flushSync),w=Ye({currentLocation:u,nextLocation:d,historyAction:g});if(!w)return await fe(g,d,{submission:s,pendingError:c,preventScrollReset:v,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:y});qe(w,{state:"blocked",location:d,proceed(){qe(w,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),n(r,i)},reset(){let e=new Map(N.blockers);e.set(w,Z),ce({blockers:e})}})},fetch:function(t,n,r,s){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(t)&&je(t);let l=!0===(s&&s.unstable_flushSync),d=a||h,f=ie(N.location,N.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,n,null==s?void 0:s.relative),g=b(d,f,p);if(!g)return void Te(t,n,be(404,{pathname:f}),{flushSync:l});let{path:v,submission:y,error:w}=oe(m.v7_normalizeFormMethod,!0,f,s);if(w)return void Te(t,n,w,{flushSync:l});let S=Ae(g,v);M=!0===(s&&s.preventScrollReset),y&&Ce(y.formMethod)?async function(t,n,r,i,s,l,d){if(ke(),K.delete(t),!i.route.action&&!i.route.lazy){let e=be(405,{method:d.formMethod,pathname:r,routeId:n});return void Te(t,n,e,{flushSync:l})}let f=N.fetchers.get(t);xe(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(d,f),{flushSync:l});let g=new AbortController,v=he(e.history,r,g.signal,d);z.set(t,g);let y=q,w=await de("action",v,i,s,c,o,p,m.v7_relativeSplatPath);if(v.signal.aborted)return void(z.get(t)===g&&z.delete(t));if(m.v7_fetcherPersist&&Q.has(t)){if(Ie(w)||Ee(w))return void xe(t,Le(void 0))}else{if(Ie(w))return z.delete(t),Y>y?void xe(t,Le(void 0)):(H.add(t),xe(t,Re(d)),pe(N,w,{fetcherSubmission:d}));if(Ee(w))return void Te(t,n,w.error)}if(_e(w))throw be(400,{type:"defer-action"});let S=N.navigation.location||N.location,k=he(e.history,S,g.signal),_=a||h,E="idle"!==N.navigation.state?b(_,N.navigation.location,p):N.matches;u(E,"Didn't find any matches after fetcher action");let I=++q;W.set(t,I);let x=Re(d,w.data);N.fetchers.set(t,x);let[T,C]=se(e.history,N,E,d,S,!1,B,U,V,Q,K,H,_,p,{[i.route.id]:w.data},void 0);C.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=N.fetchers.get(t),r=Re(void 0,n?n.data:void 0);N.fetchers.set(t,r),z.has(t)&&je(t),e.controller&&z.set(t,e.controller)})),ce({fetchers:new Map(N.fetchers)});let D=()=>C.forEach((e=>je(e.key)));g.signal.addEventListener("abort",D);let{results:M,loaderResults:O,fetcherResults:R}=await me(N.matches,E,T,C,k);if(g.signal.aborted)return;g.signal.removeEventListener("abort",D),W.delete(t),z.delete(t),C.forEach((e=>z.delete(e.key)));let L=Se(M);if(L){if(L.idx>=T.length){let e=C[L.idx-T.length].key;H.add(e)}return pe(N,L.result)}let{loaderData:F,errors:j}=ge(N,N.matches,T,O,void 0,C,R,re);if(N.fetchers.has(t)){let e=Le(w.data);N.fetchers.set(t,e)}Ve(I),"loading"===N.navigation.state&&I>Y?(u(A,"Expected pending action"),P&&P.abort(),ue(N.navigation.location,{matches:E,loaderData:F,errors:j,fetchers:new Map(N.fetchers)})):(ce({errors:j,loaderData:ve(N.loaderData,F,E,j),fetchers:new Map(N.fetchers)}),B=!1)}(t,n,v,S,g,l,y):(K.set(t,{routeId:n,path:v}),async function(t,n,r,i,a,s,l){let d=N.fetchers.get(t);xe(t,Re(l,d?d.data:void 0),{flushSync:s});let h=new AbortController,f=he(e.history,r,h.signal);z.set(t,h);let g=q,v=await de("loader",f,i,a,c,o,p,m.v7_relativeSplatPath);_e(v)&&(v=await Pe(v,f.signal,!0)||v);z.get(t)===h&&z.delete(t);if(f.signal.aborted)return;if(Q.has(t))return void xe(t,Le(void 0));if(Ie(v))return Y>g?void xe(t,Le(void 0)):(H.add(t),void await pe(N,v));if(Ee(v))return void Te(t,n,v.error);u(!_e(v),"Unhandled fetcher deferred data"),xe(t,Le(v.data))}(t,n,v,S,g,l,y))},revalidate:function(){ke(),ce({revalidation:"loading"}),"submitting"!==N.navigation.state&&("idle"!==N.navigation.state?fe(A||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation}):fe(N.historyAction,N.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ne,deleteFetcher:function(e){if(m.v7_fetcherPersist){let t=(G.get(e)||0)-1;t<=0?(G.delete(e),Q.add(e)):G.set(e,t)}else Fe(e);ce({fetchers:new Map(N.fetchers)})},dispose:function(){g&&g(),F&&F(),y.clear(),P&&P.abort(),N.fetchers.forEach(((e,t)=>Fe(t))),N.blockers.forEach(((e,t)=>ze(t)))},getBlocker:function(e,t){let n=N.blockers.get(e)||Z;return ae.get(e)!==t&&ae.set(e,t),n},deleteBlocker:ze,_internalFetchControllers:z,_internalActiveDeferreds:re,_internalSetRoutes:function(e){c={},a=w(e,o,void 0,c)}},T}Symbol("deferred");function ie(e,t,n,r,i,o,a,s){let l,c;if(a){l=[];for(let e of t)if(l.push(e),e.route.id===a){c=e;break}}else l=t,c=t[t.length-1];let u=j(i||".",F(l,o),O(e.pathname,n)||e.pathname,"path"===s);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||Ne(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:B([n,u.pathname])),p(u)}function oe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Te(r.formMethod))return{path:n,error:be(405,{method:r.formMethod})};let i,o,a=()=>({path:n,error:be(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),c=ke(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ce(l))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ce(l))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return a()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=fe(r.formData),o=r.formData;else if(r.body instanceof FormData)i=fe(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=pe(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=pe(i)}catch(f){return a()}let d={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(Ce(d.formMethod))return{path:n,submission:d};let h=m(n);return t&&h.search&&Ne(h.search)&&i.append("index",""),h.search="?"+i,{path:p(h),submission:d}}function ae(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function se(e,t,n,r,i,o,a,s,c,u,d,h,f,p,m,g){let v=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,y=e.createURL(t.location),w=e.createURL(i),S=g?Object.keys(g)[0]:void 0,k=ae(n,S).filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return!!i.loader.hydrate||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let c=t.matches[n],u=e;return ce(e,l({currentUrl:y,currentParams:c.params,nextUrl:w,nextParams:u.params},r,{actionResult:v,defaultShouldRevalidate:a||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||le(c,u)}))})),_=[];return d.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||u.has(i))return;let s=b(f,e.path,p);if(!s)return void _.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let d=t.fetchers.get(i),m=Ae(s,e.path),g=!1;g=!h.has(i)&&(!!c.includes(i)||(d&&"idle"!==d.state&&void 0===d.data?a:ce(m,l({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:a})))),g&&_.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:m,controller:new AbortController})})),[k,_]}function le(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ce(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function ue(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];u(i,"No route found in manifest");let o={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;d(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||y.has(a)||(o[a]=r[a])}Object.assign(i,o),Object.assign(i,l({},t(i),{lazy:void 0}))}async function de(e,t,n,r,i,o,a,s,l){let c,d,h;void 0===l&&(l={});let f=e=>{let r,i=new Promise(((e,t)=>r=t));return h=()=>r(),t.signal.addEventListener("abort",h),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([f(r).catch((t=>{e=t})),ue(n.route,o,i)]);if(e)throw e;d=t[0]}else{if(await ue(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw be(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:v.data,data:void 0}}d=await f(r)}else{if(!r){let e=new URL(t.url);throw be(404,{pathname:e.pathname+e.search})}d=await f(r)}u(void 0!==d,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(g){c=v.error,d=g}finally{h&&t.signal.removeEventListener("abort",h)}if(xe(d)){let e,i=d.status;if(Q.has(i)){let e=d.headers.get("Location");if(u(e,"Redirects returned/thrown from loaders/actions must have a Location header"),ee.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=O(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=ie(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e,s);if(l.isStaticRequest)throw d.headers.set("Location",e),d;return{type:v.redirect,status:i,location:e,revalidate:null!==d.headers.get("X-Remix-Revalidate"),reloadDocument:null!==d.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:c===v.error?v.error:v.data,response:d}}try{let t=d.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==d.body?null:await d.json():await d.text()}catch(g){return{type:v.error,error:g}}return c===v.error?{type:c,error:new q(i,d.statusText,e),headers:d.headers}:{type:v.data,data:e,statusCode:d.status,headers:d.headers}}return c===v.error?{type:c,error:d}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(d)?{type:v.deferred,deferredData:d,statusCode:null==(p=d.init)?void 0:p.status,headers:(null==(m=d.init)?void 0:m.headers)&&new Headers(d.init.headers)}:{type:v.data,data:d};var p,m}function he(e,t,n,r){let i=e.createURL(ke(t)).toString(),o={signal:n};if(r&&Ce(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=fe(r.formData):o.body=r.formData}return new Request(i,o)}function fe(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function pe(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function me(e,t,n,r,i){let o,a={},s=null,l=!1,c={};return n.forEach(((n,d)=>{let h=t[d].route.id;if(u(!Ie(n),"Cannot handle redirect results in processLoaderData"),Ee(n)){let t=ye(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[h]=void 0,l||(l=!0,o=Y(n.error)?n.error.status:500),n.headers&&(c[h]=n.headers)}else _e(n)?(i.set(h,n.deferredData),a[h]=n.deferredData.data):a[h]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[h]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function ge(e,t,n,r,i,o,a,s){let{loaderData:c,errors:d}=me(t,n,r,i,s);for(let h=0;h<o.length;h++){let{key:t,match:n,controller:r}=o[h];u(void 0!==a&&void 0!==a[h],"Did not find corresponding fetcher result");let i=a[h];if(!r||!r.signal.aborted)if(Ee(i)){let r=ye(e.matches,null==n?void 0:n.route.id);d&&d[r.route.id]||(d=l({},d,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(Ie(i))u(!1,"Unhandled fetcher revalidation redirect");else if(_e(i))u(!1,"Unhandled fetcher deferred data");else{let n=Le(i.data);e.fetchers.set(t,n)}}return{loaderData:c,errors:d}}function ve(e,t,n,r){let i=l({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function ye(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function we(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function be(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new q(e||500,a,new Error(s),!0)}function Se(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ie(n))return{result:n,idx:t}}}function ke(e){return p(l({},"string"===typeof e?m(e):e,{hash:""}))}function _e(e){return e.type===v.deferred}function Ee(e){return e.type===v.error}function Ie(e){return(e&&e.type)===v.redirect}function xe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Te(e){return G.has(e.toLowerCase())}function Ce(e){return H.has(e.toLowerCase())}async function De(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),d=null!=c&&!le(c,l)&&void 0!==(o&&o[l.route.id]);if(_e(s)&&(i||d)){let e=r[a];u(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Pe(s,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function Pe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:v.data,data:e.deferredData.unwrappedData}}catch(r){return{type:v.error,error:r}}return{type:v.data,data:e.deferredData.data}}}function Ne(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ae(e,t){let n="string"===typeof t?m(t).search:t.search;if(e[e.length-1].route.index&&Ne(n||""))return e[e.length-1];let r=L(e);return r[r.length-1]}function Me(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function Oe(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Re(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Le(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}const je=r.createContext(null);const Be=r.createContext(null);const Ue=r.createContext(null);const Ve=r.createContext(null);const ze=r.createContext({outlet:null,matches:[],isDataRoute:!1});const qe=r.createContext(null);function Ye(){return null!=r.useContext(Ve)}function We(){return Ye()||u(!1),r.useContext(Ve).location}function He(e){r.useContext(Ue).static||r.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=r.useContext(ze);return e?function(){let{router:e}=rt(tt.UseNavigateStable),t=ot(nt.UseNavigateStable),n=r.useRef(!1);He((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Fe({fromRouteId:t},i)))}),[e,t]);return i}():function(){Ye()||u(!1);let e=r.useContext(je),{basename:t,future:n,navigator:i}=r.useContext(Ue),{matches:o}=r.useContext(ze),{pathname:a}=We(),s=JSON.stringify(F(o,n.v7_relativeSplatPath)),l=r.useRef(!1);return He((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=j(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,s,a,e])}()}function Ge(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(Ue),{matches:o}=r.useContext(ze),{pathname:a}=We(),s=JSON.stringify(F(o,i.v7_relativeSplatPath));return r.useMemo((()=>j(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function Qe(e,n,i,o){Ye()||u(!1);let{navigator:a}=r.useContext(Ue),{matches:s}=r.useContext(ze),l=s[s.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=We();if(n){var p;let e="string"===typeof n?m(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=et(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:B([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i,o);return n&&w?r.createElement(Ve.Provider,{value:{location:Fe({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},w):w}function Xe(){let e=function(){var e;let t=r.useContext(qe),n=it(nt.UseRouteError),i=ot(nt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=Y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const Je=r.createElement(Xe,null);class $e extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(ze.Provider,{value:this.props.routeContext},r.createElement(qe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ze(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(je);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ze.Provider,{value:t},i)}function et(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||u(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,u=!1,h=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||Je,c&&(d<0&&0===o?(p="route-fallback",!1||at[p]||(at[p]=!0),u=!0,f=null):d===o&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ze,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement($e,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var tt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tt||{}),nt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nt||{});function rt(e){let t=r.useContext(je);return t||u(!1),t}function it(e){let t=r.useContext(Be);return t||u(!1),t}function ot(e){let t=function(e){let t=r.useContext(ze);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const at={};i.startTransition;function st(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:l=!1,future:c}=e;Ye()&&u(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:s,static:l,future:Fe({v7_relativeSplatPath:!1},c)})),[d,c,s,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,w=r.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[d,f,p,g,v,y,a]);return null==w?null:r.createElement(Ue.Provider,{value:h},r.createElement(Ve.Provider,{children:i,value:w}))}new Promise((()=>{}));r.Component;function lt(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:r.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:r.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function ut(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const dt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Vx){}function ht(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ct({},t,{errors:ft(t.errors)})),t}function ft(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new q(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(Vx){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const pt=r.createContext({isTransitioning:!1});const mt=r.createContext(new Map);const gt=i.startTransition,vt=s.flushSync;i.useId;function yt(e){vt?vt(e):e()}class wt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function bt(e){let{fallbackElement:t,router:n,future:i}=e,[o,a]=r.useState(n.state),[s,l]=r.useState(),[c,u]=r.useState({isTransitioning:!1}),[d,h]=r.useState(),[f,p]=r.useState(),[m,g]=r.useState(),v=r.useRef(new Map),{v7_startTransition:y}=i||{},w=r.useCallback((e=>{y?function(e){gt?gt(e):e()}(e):e()}),[y]),b=r.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;r.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let s=null==n.window||"function"!==typeof n.window.document.startViewTransition;if(o&&!s){if(i){yt((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=n.window.document.startViewTransition((()=>{yt((()=>a(e)))}));return t.finished.finally((()=>{yt((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void yt((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?yt((()=>a(e))):w((()=>a(e)))}),[n.window,f,d,v,w]);r.useLayoutEffect((()=>n.subscribe(b)),[n,b]),r.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new wt)}),[c]),r.useEffect((()=>{if(d&&s&&n.window){let e=s,t=d.promise,r=n.window.document.startViewTransition((async()=>{w((()=>a(e))),await t}));r.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(r)}}),[w,s,d,n.window]),r.useEffect((()=>{d&&s&&o.location.key===s.location.key&&d.resolve()}),[d,f,o.location,s]),r.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),r.useEffect((()=>{}),[]);let S=r.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),k=n.basename||"/",_=r.useMemo((()=>({router:n,navigator:S,static:!1,basename:k})),[n,S,k]);return r.createElement(r.Fragment,null,r.createElement(je.Provider,{value:_},r.createElement(Be.Provider,{value:o},r.createElement(mt.Provider,{value:v.current},r.createElement(pt.Provider,{value:c},r.createElement(st,{basename:k,location:o.location,navigationType:o.historyAction,navigator:S,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?r.createElement(St,{routes:n.routes,future:n.future,state:o}):t))))),null)}function St(e){let{routes:t,future:n,state:r}=e;return Qe(t,void 0,r,n)}const kt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:h,unstable_viewTransition:f}=e,m=ut(e,dt),{basename:g}=r.useContext(Ue),v=!1;if("string"===typeof d&&_t.test(d)&&(n=d,kt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Vx){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Ye()||u(!1);let{basename:i,navigator:o}=r.useContext(Ue),{hash:a,pathname:s,search:l}=Ge(e,{relative:n}),c=s;return"/"!==i&&(c="/"===s?i:B([i,s])),o.createHref({pathname:c,search:l,hash:a})}(d,{relative:o}),w=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l}=void 0===t?{}:t,c=Ke(),u=We(),d=Ge(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l})}}),[u,c,d,i,o,n,e,a,s,l])}(d,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,unstable_viewTransition:f});return r.createElement("a",ct({},m,{href:n||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));var It,xt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(It||(It={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(xt||(xt={}));const Tt=n.p+"static/media/Logo2.7e99b1e4abeb4594b60f.png";var Ct=n(579);const Dt=function(){return(0,Ct.jsxs)("div",{className:"Navbar",children:[(0,Ct.jsx)("img",{src:Tt,id:"MainLogo",alt:"Logo"}),(0,Ct.jsx)(Et,{to:"/",id:"CrimsonRoyale",children:"Crimson Royale"}),(0,Ct.jsx)(Et,{to:"/",id:"Home",children:"Home"}),(0,Ct.jsx)(Et,{to:"/Menu",className:"NavButtons",children:"Browse Our Menu"}),(0,Ct.jsx)(Et,{to:"/DownloadApp",className:"NavButtons",children:"Download Our App"}),(0,Ct.jsx)(Et,{to:"/LoginPage",className:"NavButtons",children:"Account"})]})},Pt=n.p+"static/media/Img1.f7680fc565b780bd4c60.jpeg",Nt=n.p+"static/media/Img2.9082c368dcf7d31e81ae.jpeg",At=n.p+"static/media/Img3.8ee71abb5146b5da5d69.jpeg";var Mt=n(5895),Ot=n.n(Mt);const Rt=function(){const e=[{url:Pt},{url:Nt},{url:At}];return(0,Ct.jsx)("div",{className:"HomepageImages",children:(0,Ct.jsx)("div",{id:"Slider",children:(0,Ct.jsx)(Ot(),{width:1e3,height:800,images:e,showNavs:!1,autoPlay:!0,autoPlayDelay:3})})})},Lt=()=>(0,Ct.jsxs)("div",{className:"HomepageContent",children:[(0,Ct.jsx)("p",{id:"ContentTitle",children:"The Most Luxurious Restaurant In All of Mumbai"}),(0,Ct.jsx)("p",{id:"Content",children:"Welcome to Crimson Royale, where Indian culinary heritage meets global sophistication. Prepare to embark on a gastronomic journey that tantalizes your taste buds and enthralls your senses. Step into an ambiance that exudes elegance and whispers of royalty, crafted to pamper you from the moment you arrive."}),(0,Ct.jsx)("p",{id:"Content",children:"More than just a meal, Crimson Royale is a promise of an unforgettable evening. It's a celebration of good food, great company, and the finer things in life. Come, discover your own royal dining experience."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Et,{to:"/BookATable",id:"BookATable",children:"Book a Table"})]}),Ft=()=>(0,Ct.jsx)("footer",{id:"FooterId",children:"\xa9 2024 Copyright: CrimsonRoyale.com"}),jt=n.p+"static/media/Menu1.a23f80b579ca79d1b6c7.jpeg",Bt=n.p+"static/media/Menu2.3140f5c6bebedde46387.jpeg",Ut=n.p+"static/media/Menu3.c2441e6d089ed2bcb708.jpeg",Vt=n.p+"static/media/Menu4.584ea315cf7b90df36f1.jpeg",zt=n.p+"static/media/CrimsonRoyaleMenu.e1b549cf9c1009dba1c0.pdf";const qt=function(){const e=[{url:jt},{url:Bt},{url:Ut},{url:Vt}];return(0,Ct.jsxs)("div",{className:"DiscoverMenu",children:[(0,Ct.jsx)("h2",{id:"MenuTitle",children:"Discover our menu"}),(0,Ct.jsx)("p",{id:"MenuDescription",children:"Venture beyond the borders of India with our International Specials menu. Savor the delicate dance of spices in our Thai Green Curry, or delight in the rustic charm of our Italian Spaghetti Carbonara. We offer a taste of international culinary hotspots, ensuring that every palate finds its perfect match."}),(0,Ct.jsx)("a",{href:zt,download:"CrimsonRoyaleMenu",target:"_blank",rel:"noreferrer",children:(0,Ct.jsx)("button",{id:"MenuButton",children:"Restaurant Menu"})}),(0,Ct.jsx)("div",{id:"Slider2",children:(0,Ct.jsx)(Ot(),{width:400,height:400,images:e,showNavs:!1,autoPlay:!0,autoPlayDelay:3})})]})};const Yt=function(){return(0,Ct.jsxs)("div",{className:"Privileges",children:[(0,Ct.jsx)("button",{id:"GetPremium",children:"Become A Premium Member"}),(0,Ct.jsx)("h2",{id:"BenefitsTitle",children:"Become a Privileged Guest:"}),(0,Ct.jsx)("p",{id:"BenefitsDescription",children:"Unlock exclusive benefits with our Premium Membership program. Enjoy priority reservations, discounted dining experiences, and access to special events, all designed to elevate your dining experience to new heights. Download our App to Explore our Premium Memberships."}),(0,Ct.jsx)("img",{src:Tt,alt:"Crimson Royale Logo",id:"PremiumLogo"})]})};const Wt=function(e){return(0,Ct.jsx)("div",{className:"Chefs",children:(0,Ct.jsxs)("a",{href:"/OurChefs",children:[(0,Ct.jsx)("img",{src:e.img,alt:"",id:"ChefImage"}),(0,Ct.jsxs)("p",{id:"ChefName",children:["Chef ",e.name]}),(0,Ct.jsx)("p",{className:"ChefDescription",children:e.des})]})})},Ht=n.p+"static/media/Chef1.35414bcda6759b9f468e.jpeg",Kt=n.p+"static/media/Chef2.b4957cc04212f9454404.jpeg",Gt=n.p+"static/media/Chef3.bc4c683ef66acc269b10.jpeg";const Qt=function(){return(0,Ct.jsxs)("div",{id:"thirdMusk",children:[(0,Ct.jsx)("h2",{id:"ContactUs",children:"Need Some Help?"}),(0,Ct.jsx)("hr",{}),(0,Ct.jsx)("p",{className:"Creators1",children:"Prerna Samtani - 2203143"}),(0,Ct.jsx)("p",{className:"Creators1",children:"Suryansh Saxena - 2203146"}),(0,Ct.jsx)("p",{className:"Creators1",children:"Zeeshan Hyder - 2203147"}),(0,Ct.jsx)("hr",{}),(0,Ct.jsx)("p",{id:"RegisterAComplaint",children:"Register A Complaint"}),(0,Ct.jsx)(Et,{to:"/ComplaintPage",children:(0,Ct.jsx)("button",{id:"ContactUsButton",children:"Contact Us"})})]})};const Xt=function(){return(0,Ct.jsxs)("div",{className:"threeMusketeers",children:[(0,Ct.jsxs)("div",{id:"firstMusk",children:[(0,Ct.jsx)("h2",{id:"meetChefs",children:"Meet Our Chefs"}),(0,Ct.jsx)("hr",{}),(0,Ct.jsx)(Wt,{img:Ht,name:"Phil Dunphy",des:"Your fun-loving guide to global eats. Mexican & Thai flavors with a smile."}),(0,Ct.jsx)(Wt,{img:Kt,name:"Jay Pritchett",des:"Crafting Indian culinary marvels, his dishes transport taste buds to the vibrant streets of the subcontinent."}),(0,Ct.jsx)(Wt,{img:Gt,name:"Lily Tucker",des:"A culinary artist weaving the flavors of Vietnam and Southeast Asia into delightful creations that tantalize taste buds."})]}),(0,Ct.jsxs)("div",{id:"secondMusk",children:[(0,Ct.jsx)("h2",{id:"Locations",children:"Locations"}),(0,Ct.jsx)("hr",{}),(0,Ct.jsx)("iframe",{title:"Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3770.9833477465!2d72.83328527597956!3d19.06446975233291!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be7c91130392c07%3A0x3c47bf391c8de931!2sThadomal%20Shahani%20Engineering%20College!5e0!3m2!1sen!2sin!4v1709401881419!5m2!1sen!2sin",id:"GoogleFrame"})]}),(0,Ct.jsx)(Qt,{})]})};const Jt=function(){return(0,r.useEffect)((()=>{const e=document.createElement("script");e.src="https://cdn.botpress.cloud/webchat/v1/inject.js",e.async=!0,document.body.appendChild(e),e.onload=()=>{window.botpressWebChat.init({stylesheet:"https://webchat-styler-css.botpress.app/prod/ca078bd3-dede-41eb-af55-eb3937676467/v90902/style.css",composerPlaceholder:"Chat with the Crimson Royale Virtual Concierge",botConversationDescription:"Here to help you with anything Crimson Royale!",botId:"4fce8fd0-6f37-4715-975c-bf6744cc607a",hostUrl:"https://cdn.botpress.cloud/webchat/v1",messagingUrl:"https://messaging.botpress.cloud",clientId:"4fce8fd0-6f37-4715-975c-bf6744cc607a",avatarUrl:"https://i.postimg.cc/gcZK0m93/Chatbot-Profile.png",webhookId:"42f7afa4-44ed-4b30-ac44-1a22e3aa419f",enablePersistHistory:"false",enableConversationDeletion:"true",lazySocket:!0,themeName:"prism",botName:"Crimson Royale Virtual Concierge",frontendVersion:"v1",theme:"prism",themeColor:"#2563eb"})}}),[]),(0,Ct.jsx)("div",{id:"webchat"})};const $t=function(){return(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Dt,{}),(0,Ct.jsx)(Rt,{}),(0,Ct.jsx)(Lt,{}),(0,Ct.jsx)(qt,{}),(0,Ct.jsx)(Yt,{}),(0,Ct.jsx)(Xt,{}),(0,Ct.jsx)(Ft,{}),(0,Ct.jsx)(Jt,{})]})},Zt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new tn;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nn=function(e){return function(e){const t=Zt(e);return en.encodeByteArray(t,!0)}(e).replace(/\./g,"")},rn=function(e){try{return en.decodeString(e,!0)}catch(Vx){console.error("base64Decode failed: ",Vx)}return null};function on(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=on(e[n],t[n]));return e}const an=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,sn=()=>{try{return an()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/CrimsonRoyale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Vx){return}const t=e&&rn(e[1]);return t&&JSON.parse(t)})()}catch(Vx){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Vx))}},ln=()=>{var e;return null===(e=sn())||void 0===e?void 0:e.config};class cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function un(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dn(){var e;const t=null===(e=sn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Vx){return!1}}function hn(){return"object"===typeof self&&self.self===self}function fn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function pn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mn(){const e=un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gn(){return!dn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vn(){try{return"object"===typeof indexedDB}catch(Vx){return!1}}class yn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}}class wn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yn(n,o,t)}}const bn=/\{\$([^}]+)}/g;function Sn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_n(n)&&_n(o)){if(!kn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _n(e){return null!==e&&"object"===typeof e}function En(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function In(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function xn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tn(e,t){const n=new Cn(e,t);return n.subscribe.bind(n)}class Cn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Dn),void 0===r.error&&(r.error=Dn),void 0===r.complete&&(r.complete=Dn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Vx){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Vx){"undefined"!==typeof console&&console.error&&console.error(Vx)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Dn(){}function Pn(e){return e&&e._delegate?e._delegate:e}class Nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const An="[DEFAULT]";class Mn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new cn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Vx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Vx){if(r)return null;throw Vx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:An})}catch(Vx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Vx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===An?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;return this.component?this.component.multipleInstances?e:An:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class On{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rn=[];var Ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ln||(Ln={}));const Fn={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},jn=Ln.INFO,Bn={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},Un=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Bn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Vn{constructor(e){this.name=e,this._logLevel=jn,this._logHandler=Un,this._userLogHandler=null,Rn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Fn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...t),this._logHandler(this,Ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...t),this._logHandler(this,Ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...t),this._logHandler(this,Ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...t),this._logHandler(this,Ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...t),this._logHandler(this,Ln.ERROR,...t)}}const zn=(e,t)=>t.some((t=>e instanceof t));let qn,Yn;const Wn=new WeakMap,Hn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Qn=new WeakMap;let Xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Jn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yn||(Yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(er(this),n),Zn(Wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zn(e.apply(er(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(er(this),t,...r);return Kn.set(o,t.sort?t.sort():[t]),Zn(o)}}function $n(e){return"function"===typeof e?Jn(e):(e instanceof IDBTransaction&&function(e){if(Hn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Hn.set(e,t)}(e),zn(e,qn||(qn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xn):e)}function Zn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Zn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Wn.set(t,e)})).catch((()=>{})),Qn.set(t,e),t}(e);if(Gn.has(e))return Gn.get(e);const t=$n(e);return t!==e&&(Gn.set(e,t),Qn.set(t,e)),t}const er=e=>Qn.get(e);const tr=["get","getKey","getAll","getAllKeys","count"],nr=["put","add","delete","clear"],rr=new Map;function ir(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(rr.get(t))return rr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return rr.set(t,o),o}Xn=(e=>({...e,get:(t,n,r)=>ir(t,n)||e.get(t,n,r),has:(t,n)=>!!ir(t,n)||e.has(t,n)}))(Xn);class or{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ar="@firebase/app",sr="0.10.1",lr=new Vn("@firebase/app"),cr="[DEFAULT]",ur={[ar]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dr=new Map,hr=new Map,fr=new Map;function pr(e,t){try{e.container.addComponent(t)}catch(Vx){lr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Vx)}}function mr(e,t){e.container.addOrOverwriteComponent(t)}function gr(e){const t=e.name;if(fr.has(t))return lr.debug("There were multiple attempts to register component ".concat(t,".")),!1;fr.set(t,e);for(const n of dr.values())pr(n,e);for(const n of hr.values())pr(n,e);return!0}function vr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr;vr(e,t).clearInstance(n)}function wr(e){return void 0!==e.options}function br(e){return void 0!==e.settings}function Sr(){fr.clear()}const kr=new wn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _r{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}class Er extends _r{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Nr(ar,sr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Pr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw kr.create("server-app-deleted")}}const Ir="10.11.0";function xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:cr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=ln()),!n)throw kr.create("no-options");const o=dr.get(i);if(o){if(kn(n,o.options)&&kn(r,o.config))return o;throw kr.create("duplicate-app",{appName:i})}const a=new On(i);for(const l of fr.values())a.addComponent(l);const s=new _r(n,r,a);return dr.set(i,s),s}function Tr(e,t){if(hn())throw kr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=wr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw kr.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const a=hr.get(i);if(a)return a.incRefCount(t.releaseOnDeref),a;const s=new On(i);for(const c of fr.values())s.addComponent(c);const l=new Er(n,t,i,s);return hr.set(i,l),l}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr;const t=dr.get(e);if(!t&&e===cr&&ln())return xr();if(!t)throw kr.create("no-app",{appName:e});return t}function Dr(){return Array.from(dr.values())}async function Pr(e){let t=!1;const n=e.name;if(dr.has(n))t=!0,dr.delete(n);else if(hr.has(n)){e.decRefCount()<=0&&(hr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Nr(e,t,n){var r;let i=null!==(r=ur[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lr.warn(e.join(" "))}gr(new Nn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Ar(e,t){if(null!==e&&"function"!==typeof e)throw kr.create("invalid-log-argument");!function(e,t){for(const n of Rn){let r=null;t&&t.level&&(r=Fn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Ln[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function Mr(e){var t;t=e,Rn.forEach((e=>{e.setLogLevel(t)}))}const Or="firebase-heartbeat-database",Rr=1,Lr="firebase-heartbeat-store";let Fr=null;function jr(){return Fr||(Fr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Zn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Zn(a.result),e.oldVersion,e.newVersion,Zn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Or,Rr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Lr)}catch(Vx){console.warn(Vx)}}}).catch((e=>{throw kr.create("idb-open",{originalErrorMessage:e.message})}))),Fr}async function Br(e,t){try{const n=(await jr()).transaction(Lr,"readwrite"),r=n.objectStore(Lr);await r.put(t,Ur(e)),await n.done}catch(Vx){if(Vx instanceof yn)lr.warn(Vx.message);else{const t=kr.create("idb-set",{originalErrorMessage:null===Vx||void 0===Vx?void 0:Vx.message});lr.warn(t.message)}}}function Ur(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Yr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=nn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zr(){return(new Date).toISOString().substring(0,10)}class qr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!vn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await jr()).transaction(Lr),n=await t.objectStore(Lr).get(Ur(e));return await t.done,n}catch(Vx){if(Vx instanceof yn)lr.warn(Vx.message);else{const t=kr.create("idb-get",{originalErrorMessage:null===Vx||void 0===Vx?void 0:Vx.message});lr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Br(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Br(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yr(e){return nn(JSON.stringify({version:2,heartbeats:e})).length}var Wr;Wr="",gr(new Nn("platform-logger",(e=>new or(e)),"PRIVATE")),gr(new Nn("heartbeat",(e=>new Vr(e)),"PRIVATE")),Nr(ar,sr,Wr),Nr(ar,sr,"esm2017"),Nr("fire-js","");class Hr{constructor(e,t){this._delegate=e,this.firebase=t,pr(e,new Nn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Pr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){pr(this._delegate,e)}_addOrOverwriteComponent(e){mr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Kr=new wn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Gr=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=xr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Sn(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Nr,setLogLevel:Mr,onLog:Ar,apps:null,SDK_VERSION:Ir,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(gr(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Kr.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&on(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Sn(n,e=e||cr))throw Kr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Hr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){on(n,e)},createSubscribe:Tn,ErrorFactory:wn,deepExtend:on}),n}(),Qr=new Vn("@firebase/app-compat");if(hn()&&void 0!==self.firebase){Qr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Qr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xr=Gr;!function(e){Nr("@firebase/app-compat","0.2.31",e)}();Xr.registerVersion("firebase","10.11.0","app-compat");function Jr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const $r={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Zr="EMAIL_SIGNIN",ei="PASSWORD_RESET",ti="RECOVER_EMAIL",ni="REVERT_SECOND_FACTOR_ADDITION",ri="VERIFY_AND_CHANGE_EMAIL",ii="VERIFY_EMAIL";function oi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ai=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},si=oi,li=new wn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ci=new Vn("@firebase/auth");function ui(e){if(ci.logLevel<=Ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ci.error("Auth (".concat(Ir,"): ").concat(e),...n)}}function di(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gi(e,...n)}function hi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gi(e,...n)}function fi(e,t,n){const r=Object.assign(Object.assign({},si()),{[t]:n});return new wn("auth","Firebase",r).create(t,{appName:e.name})}function pi(e){return fi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&di(e,"argument-error"),fi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return li.create(e,...n)}function vi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gi(t,...r)}}function yi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ui(t),new Error(t)}function wi(e,t){e||yi(t)}function bi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Si(){return"http:"===ki()||"https:"===ki()}function ki(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _i{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())||pn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Si()||fn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ei(e,t){wi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ii{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ti=new _i(3e4,6e4);function Ci(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Di(e,t,n,r){return Pi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=En(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Ii.fetch()(Ai(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Pi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xi),t);try{const t=new Oi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ri(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ri(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Ri(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Ri(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw fi(e,s,a);di(e,s)}}catch(Vx){if(Vx instanceof yn)throw Vx;di(e,"network-request-failed",{message:String(Vx)})}}async function Ni(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Di(e,t,n,r,i);return"mfaPendingCredential"in o&&di(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Ai(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ei(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Mi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Oi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(hi(this.auth,"network-request-failed"))),Ti.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ri(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hi(e,t,r);return i.customData._tokenResponse=n,i}function Li(e){return void 0!==e&&void 0!==e.getResponse}function Fi(e){return void 0!==e&&void 0!==e.enterprise}class ji{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Bi(e,t){return Di(e,"GET","/v2/recaptchaConfig",Ci(e,t))}async function Ui(e,t){return Di(e,"POST","/v1/accounts:lookup",t)}function Vi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Vx){}}function zi(e){return 1e3*Number(e)}function qi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ui("JWT malformed, contained fewer than 3 sections"),null;try{const e=rn(n);return e?JSON.parse(e):(ui("Failed to decode base64 JWT payload"),null)}catch(Vx){return ui("Caught error parsing JWT payload as JSON",null===Vx||void 0===Vx?void 0:Vx.toString()),null}}function Yi(e){const t=qi(e);return vi(t,"internal-error"),vi("undefined"!==typeof t.exp,"internal-error"),vi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Vx){throw Vx instanceof yn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Vx)&&e.auth.currentUser===e&&await e.auth.signOut(),Vx}}class Hi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Vx){return void((null===Vx||void 0===Vx?void 0:Vx.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ki{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wi(e,Ui(n,{idToken:r}));vi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Qi(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ki(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Qi(e){return e.map((e=>{var{providerId:t}=e,n=Jr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vi(e.idToken,"internal-error"),vi("undefined"!==typeof e.idToken,"internal-error"),vi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Yi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vi(0!==e.length,"internal-error");const t=Yi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(vi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Pi(e,{},(async()=>{const n=En({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Ai(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ii.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Xi;return n&&(vi("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(vi("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(vi("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return yi("not implemented")}}function Ji(e,t){vi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class $i{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Jr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ki(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wi(this,this.stsTokenManager.getToken(this.auth,e));return vi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Pn(e),r=await n.getIdToken(t),i=qi(r);vi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vi(zi(i.auth_time)),issuedAtTime:Vi(zi(i.iat)),expirationTime:Vi(zi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Pn(e);await Gi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Gi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Wi(this,async function(e,t){return Di(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:S,stsTokenManager:k}=t;vi(y&&k,e,"internal-error");const _=Xi.fromJSON(this.name,k);vi("string"===typeof y,e,"internal-error"),Ji(u,e.name),Ji(d,e.name),vi("boolean"===typeof w,e,"internal-error"),vi("boolean"===typeof b,e,"internal-error"),Ji(h,e.name),Ji(f,e.name),Ji(p,e.name),Ji(m,e.name),Ji(g,e.name),Ji(v,e.name);const E=new $i({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(E.providerData=S.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xi;r.updateFromServerResponse(t);const i=new $i({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Gi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];vi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Qi(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Xi;a.updateFromIdToken(n);const s=new $i({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ki(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Zi=new Map;function eo(e){wi(e instanceof Function,"Expected a class definition");let t=Zi.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zi.set(e,t),t)}class to{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}to.type="NONE";const no=to;function ro(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class io{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ro(this.userKey,r.apiKey,i),this.fullPersistenceKey=ro("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$i._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new io(eo(no),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||eo(no);const o=ro(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=$i._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new io(i,e,n)):new io(i,e,n)}}function oo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(co(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ao(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ho(t))return"Blackberry";if(fo(t))return"Webos";if(so(t))return"Safari";if((t.includes("chrome/")||lo(t))&&!t.includes("edge/"))return"Chrome";if(uo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/firefox\//i.test(e)}function so(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:un()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/crios\//i.test(e)}function co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/iemobile/i.test(e)}function uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/android/i.test(e)}function ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/blackberry/i.test(e)}function fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/webos/i.test(e)}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return po(e)||uo(e)||fo(e)||ho(e)||/windows phone/i.test(e)||co(e)}function go(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oo(un());break;case"Worker":t="".concat(oo(un()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ir,"/").concat(r)}class vo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Vx){r(Vx)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Vx){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Vx||void 0===Vx?void 0:Vx.message})}}}class yo{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class wo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new So(this),this.idTokenSubscription=new So(this),this.beforeStateQueue=new vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=li,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Vx){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ui(this,{idToken:e}),n=await $i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(br(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Vx){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Vx)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Vx){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gi(e)}catch(Vx){if((null===Vx||void 0===Vx?void 0:Vx.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(pi(this));const t=e?Pn(e):null;return t&&vi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&vi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return br(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(pi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(eo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Di(e,"GET","/v2/passwordPolicy",Ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new yo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Di(e,"POST","/v2/accounts:revokeToken",Ci(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&eo(e)||this._popupRedirectResolver;vi(t,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vi(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ci.logLevel<=Ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ci.warn("Auth (".concat(Ir,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function bo(e){return Pn(e)}class So{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tn((e=>this.observer=e))}get next(){return vi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ko={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _o(e){return ko.loadJS(e)}function Eo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Io{constructor(e){this.type="recaptcha-enterprise",this.auth=bo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Fi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Bi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ji(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Fi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ko.recaptchaEnterpriseScript;0!==t.length&&(t+=i),_o(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function xo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Io(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function To(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Co(e,t,n){const r=bo(e);vi(r._canInitEmulator,r,"emulator-config-failed"),vi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Do(t),{host:a,port:s}=function(e){const t=Do(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Po(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Po(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Do(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Po(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class No{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function Ao(e,t){return Di(e,"POST","/v1/accounts:resetPassword",Ci(e,t))}async function Mo(e,t){return Di(e,"POST","/v1/accounts:signUp",t)}async function Oo(e,t){return Ni(e,"POST","/v1/accounts:signInWithPassword",Ci(e,t))}async function Ro(e,t){return Di(e,"POST","/v1/accounts:sendOobCode",Ci(e,t))}async function Lo(e,t){return Ro(e,t)}async function Fo(e,t){return Ro(e,t)}class jo extends No{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jo(e,t,"password")}static _fromEmailAndCode(e,t){return new jo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return To(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oo);case"emailLink":return async function(e,t){return Ni(e,"POST","/v1/accounts:signInWithEmailLink",Ci(e,t))}(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return To(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mo);case"emailLink":return async function(e,t){return Ni(e,"POST","/v1/accounts:signInWithEmailLink",Ci(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bo(e,t){return Ni(e,"POST","/v1/accounts:signInWithIdp",Ci(e,t))}class Uo extends No{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Jr(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Uo(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Bo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=En(t)}return e}}const Vo={USER_NOT_FOUND:"user-not-found"};class zo extends No{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ni(e,"POST","/v1/accounts:signInWithPhoneNumber",Ci(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ni(e,"POST","/v1/accounts:signInWithPhoneNumber",Ci(e,t));if(n.temporaryProof)throw Ri(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ni(e,"POST","/v1/accounts:signInWithPhoneNumber",Ci(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Vo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new zo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class qo{constructor(e){var t,n,r,i,o,a;const s=In(xn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);vi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=In(xn(e)).link,n=t?In(xn(t)).deep_link_id:null,r=In(xn(e)).deep_link_id;return(r?In(xn(r)).link:null)||r||n||t||e}(e);try{return new qo(t)}catch(n){return null}}}class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return jo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qo.parseLink(t);return vi(n,"argument-error"),jo._fromEmailAndCode(e,n.code,n.tenantId)}}Yo.PROVIDER_ID="password",Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ho extends Wo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ko extends Ho{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return vi("providerId"in t&&"signInMethod"in t,"argument-error"),Uo._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return vi(e.idToken||e.accessToken,"argument-error"),Uo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ko.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ko.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new Ko(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(Vx){return null}}}class Go extends Ho{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Go.credential(t.oauthAccessToken)}catch(n){return null}}}Go.FACEBOOK_SIGN_IN_METHOD="facebook.com",Go.PROVIDER_ID="facebook.com";class Qo extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Uo._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qo.credential(n,r)}catch(i){return null}}}Qo.GOOGLE_SIGN_IN_METHOD="google.com",Qo.PROVIDER_ID="google.com";class Xo extends Ho{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xo.credential(t.oauthAccessToken)}catch(n){return null}}}Xo.GITHUB_SIGN_IN_METHOD="github.com",Xo.PROVIDER_ID="github.com";class Jo extends No{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Bo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Jo(n,i):null}static _create(e,t){return new Jo(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $o extends Wo{constructor(e){vi(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return $o.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return $o.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Jo.fromJSON(e);return vi(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Jo._create(r,n)}catch(Vx){return null}}}class Zo extends Ho{constructor(){super("twitter.com")}static credential(e,t){return Uo._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zo.credential(n,r)}catch(i){return null}}}async function ea(e,t){return Ni(e,"POST","/v1/accounts:signUp",Ci(e,t))}Zo.TWITTER_SIGN_IN_METHOD="twitter.com",Zo.PROVIDER_ID="twitter.com";class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $i._fromIdTokenResponse(e,n,r),o=na(n);return new ta({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=na(n);return new ta({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function na(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ra extends yn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ra.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ra(e,t,n,r)}}function ia(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ra._fromErrorAndOperation(e,n,t,r);throw n}))}function oa(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function aa(e,t){const n=Pn(e);await la(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Di(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=oa(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ta._forOperation(e,"link",r)}async function la(e,t,n){await Gi(t);const r=!1===e?"provider-already-linked":"no-such-provider";vi(oa(t.providerData).has(n)===e,t.auth,r)}async function ca(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(br(r.app))return Promise.reject(pi(r));const i="reauthenticate";try{const o=await Wi(e,ia(r,i,t,e),n);vi(o.idToken,r,"internal-error");const a=qi(o.idToken);vi(a,r,"internal-error");const{sub:s}=a;return vi(e.uid===s,r,"user-mismatch"),ta._forOperation(e,i,o)}catch(Vx){throw(null===Vx||void 0===Vx?void 0:Vx.code)==="auth/".concat("user-not-found")&&di(r,"user-mismatch"),Vx}}async function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(br(e.app))return Promise.reject(pi(e));const r="signIn",i=await ia(e,r,t),o=await ta._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function da(e,t){return ua(bo(e),t)}async function ha(e,t){const n=Pn(e);return await la(!1,n,t.providerId),sa(n,t)}async function fa(e,t){return ca(Pn(e),t)}async function pa(e,t){if(br(e.app))return Promise.reject(pi(e));const n=bo(e),r=await async function(e,t){return Ni(e,"POST","/v1/accounts:signInWithCustomToken",Ci(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ta._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ma{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ga._fromServerResponse(e,t):"totpInfo"in t?va._fromServerResponse(e,t):di(e,"internal-error")}}class ga extends ma{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ga(t)}}class va extends ma{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new va(t)}}function ya(e,t,n){var r;vi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),vi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(vi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(vi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function wa(e){const t=bo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ba(e,t){await async function(e,t){return Di(e,"POST","/v1/accounts:update",Ci(e,t))}(Pn(e),{oobCode:t})}async function Sa(e,t){const n=Pn(e),r=await Ao(n,{oobCode:t}),i=r.requestType;switch(vi(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":vi(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":vi(r.mfaInfo,n,"internal-error");default:vi(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=ma._fromServerResponse(bo(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function ka(e,t){const n={identifier:t,continueUri:Si()?bi():"http://localhost"},{signinMethods:r}=await async function(e,t){return Di(e,"POST","/v1/accounts:createAuthUri",Ci(e,t))}(Pn(e),n);return r||[]}async function _a(e,t){const n=Pn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ya(n.auth,r,t);const{email:i}=await async function(e,t){return Ro(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ea(e,t,n){const r=Pn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ya(r.auth,i,n);const{email:o}=await async function(e,t){return Ro(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ia(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Pn(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Wi(i,async function(e,t){return Di(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function xa(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Wi(e,async function(e,t){return Di(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Ta{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ca extends Ta{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Da extends Ta{constructor(e,t){super(e,"facebook.com",t)}}class Pa extends Ca{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Na extends Ta{constructor(e,t){super(e,"google.com",t)}}class Aa extends Ca{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ma(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=qi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ta(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Da(o,i);case"github.com":return new Pa(o,i);case"google.com":return new Na(o,i);case"twitter.com":return new Aa(o,i,e.screenName||null);case"custom":case"anonymous":return new Ta(o,null);default:return new Ta(o,r,i)}}(n)}class Oa{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Oa("enroll",e,t)}static _fromMfaPendingCredential(e){return new Oa("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Oa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Oa._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ra{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=bo(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ma._fromServerResponse(n,e)));vi(r.mfaPendingCredential,n,"internal-error");const o=Oa._fromMfaPendingCredential(r.mfaPendingCredential);return new Ra(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ta._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return vi(t.user,n,"internal-error"),ta._forOperation(t.user,t.operationType,a);default:di(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class La{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ma._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new La(e)}async getSession(){return Oa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Wi(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Wi(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Di(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Ci(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(Vx){throw Vx}var r,i}}const Fa=new WeakMap;const ja="__sak";class Ba{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ua extends Ba{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=un();return so(e)||po(e)}()&&function(){try{return!(!window||window===window.top)}catch(Vx){return!1}}(),this.fallbackToPolling=mo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);mn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ua.type="LOCAL";const Va=Ua;class za extends Ba{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}za.type="SESSION";const qa=za;class Ya{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ya(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ya.receivers=[];class Ha{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Wa("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ka(){return window}function Ga(){return"undefined"!==typeof Ka().WorkerGlobalScope&&"function"===typeof Ka().importScripts}const Qa="firebaseLocalStorageDb",Xa="firebaseLocalStorage",Ja="fbase_key";class $a{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Za(e,t){return e.transaction([Xa],t?"readwrite":"readonly").objectStore(Xa)}function es(){const e=indexedDB.open(Qa,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Xa,{keyPath:Ja})}catch(Vx){n(Vx)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Xa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Qa);return new $a(e).toPromise()}(),t(await es()))}))}))}async function ts(e,t,n){const r=Za(e,!0).put({[Ja]:t,value:n});return new $a(r).toPromise()}function ns(e,t){const n=Za(e,!0).delete(t);return new $a(n).toPromise()}class rs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await es()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Vx){if(t++>3)throw Vx;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ga()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ya._getInstance(Ga()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ha(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await es();return await ts(e,ja,"1"),await ns(e,ja),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ts(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Za(e,!1).get(t),r=await new $a(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ns(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Za(e,!1).getAll();return new $a(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rs.type="LOCAL";const is=rs;const os=1e12;class as{constructor(e){this.auth=e,this.counter=os,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ss(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||os;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||os;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||os;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ss{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;vi(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(Vx){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(Vx){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ls=Eo("rcb"),cs=new _i(3e4,6e4);class us{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ka().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return vi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Li(Ka().grecaptcha)?Promise.resolve(Ka().grecaptcha):new Promise(((n,r)=>{const i=Ka().setTimeout((()=>{r(hi(e,"network-request-failed"))}),cs.get());Ka()[ls]=()=>{Ka().clearTimeout(i),delete Ka()[ls];const o=Ka().grecaptcha;if(!o||!Li(o))return void r(hi(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};_o("".concat(ko.recaptchaV2Script,"?").concat(En({onload:ls,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(hi(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ka().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ds{async load(e){return new as(e)}clearedOneInstance(){}}const hs="recaptcha",fs={theme:"light",type:"image"};class ps{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},fs);this.parameters=n,this.type=hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bo(e),this.isInvisible="invisible"===this.parameters.size,vi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;vi(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ds:new us,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(Vx){return Promise.reject(Vx)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){vi(!this.parameters.sitekey,this.auth,"argument-error"),vi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),vi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ka()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){vi(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){vi(Si()&&!Ga(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Di(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);vi(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return vi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ms{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=zo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function gs(e,t,n){var r;const i=await n.verify();try{let o;if(vi("string"===typeof i,e,"argument-error"),vi(n.type===hs,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){vi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Di(e,"POST","/v2/accounts/mfaEnrollment:start",Ci(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{vi("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;vi(n,e,"missing-multi-factor-info");const a=await function(e,t){return Di(e,"POST","/v2/accounts/mfaSignIn:start",Ci(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Di(e,"POST","/v1/accounts:sendVerificationCode",Ci(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class vs{constructor(e){this.providerId=vs.PROVIDER_ID,this.auth=bo(e)}verifyPhoneNumber(e,t){return gs(this.auth,e,Pn(t))}static credential(e,t){return zo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return vs.credentialFromTaggedObject(t)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?zo._fromTokenResponse(n,r):null}}function ys(e,t){return t?eo(t):(vi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vs.PROVIDER_ID="phone",vs.PHONE_SIGN_IN_METHOD="phone";class ws extends No{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bs(e){return ua(e.auth,new ws(e),e.bypassAuthState)}function Ss(e){const{auth:t,user:n}=e;return vi(n,t,"internal-error"),ca(n,new ws(e),e.bypassAuthState)}async function ks(e){const{auth:t,user:n}=e;return vi(n,t,"internal-error"),sa(n,new ws(e),e.bypassAuthState)}class _s{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Vx){this.reject(Vx)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(Vx){this.reject(Vx)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bs;case"linkViaPopup":case"linkViaRedirect":return ks;case"reauthViaPopup":case"reauthViaRedirect":return Ss;default:di(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Es=new _i(2e3,1e4);class Is extends _s{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vi(e,this.auth,"internal-error"),e}async onExecution(){wi(1===this.filter.length,"Popup operations only handle one event");const e=Wa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(hi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Es.get())};e()}}Is.currentPopupAction=null;const xs="pendingRedirect",Ts=new Map;class Cs extends _s{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ts.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=As(t),r=Ns(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Vx){e=()=>Promise.reject(Vx)}Ts.set(this.auth._key(),e)}return this.bypassAuthState||Ts.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ds(e,t){return Ns(e)._set(As(t),"true")}function Ps(e,t){Ts.set(e._key(),t)}function Ns(e){return eo(e._redirectPersistence)}function As(e){return ro(xs,e.config.apiKey,e.name)}function Ms(e,t,n){return async function(e,t,n){if(br(e.app))return Promise.reject(pi(e));const r=bo(e);mi(e,t,Wo),await r._initializationPromise;const i=ys(r,n);return await Ds(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Os(e,t,n){return async function(e,t,n){const r=Pn(e);if(mi(r.auth,t,Wo),br(r.auth.app))return Promise.reject(pi(r.auth));await r.auth._initializationPromise;const i=ys(r.auth,n);await Ds(i,r.auth);const o=await Fs(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Rs(e,t,n){return async function(e,t,n){const r=Pn(e);mi(r.auth,t,Wo),await r.auth._initializationPromise;const i=ys(r.auth,n);await la(!1,r,t.providerId),await Ds(i,r.auth);const o=await Fs(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Ls(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(br(e.app))return Promise.reject(pi(e));const r=bo(e),i=ys(r,t),o=new Cs(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Fs(e){const t=Wa("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class js{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Us(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Us(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(e))}saveEventToCache(e){this.cachedEventUids.add(Bs(e)),this.lastProcessedEventTime=Date.now()}}function Bs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Us(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Vs(e){return Di(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const zs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qs=/^https?/;function Ys(e){const t=bi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qs.test(n))return!1;if(zs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ws=new _i(3e4,6e4);function Hs(){const e=Ka().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ks(e){return new Promise(((t,n)=>{var r,i,o;function a(){Hs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hs(),n(hi(e,"network-request-failed"))},timeout:Ws.get()})}if(null===(i=null===(r=Ka().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ka().gapi)||void 0===o?void 0:o.load)){const t=Eo("iframefcb");return Ka()[t]=()=>{gapi.load?a():n(hi(e,"network-request-failed"))},_o("".concat(ko.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Gs=null,e}))}let Gs=null;const Qs=new _i(5e3,15e3),Xs="__/auth/iframe",Js="emulator/auth/iframe",$s={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function el(e){const t=e.config;vi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ei(t,Js):"https://".concat(e.config.authDomain,"/").concat(Xs),r={apiKey:t.apiKey,appName:e.name,v:Ir},i=Zs.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(En(r).slice(1))}async function tl(e){const t=await function(e){return Gs=Gs||Ks(e),Gs}(e),n=Ka().gapi;return vi(n,e,"internal-error"),t.open({where:document.body,url:el(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$s,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=hi(e,"network-request-failed"),o=Ka().setTimeout((()=>{r(i)}),Qs.get());function a(){Ka().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Vx){}}}function il(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},nl),{width:r.toString(),height:i.toString(),top:o,left:a}),c=un().toLowerCase();n&&(s=lo(c)?"_blank":n),ao(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return po(arguments.length>0&&void 0!==arguments[0]?arguments[0]:un())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new rl(null);const d=window.open(t||"",s,u);vi(d,e,"popup-blocked");try{d.focus()}catch(Vx){}return new rl(d)}const ol="__/auth/handler",al="emulator/auth/handler",sl=encodeURIComponent("fac");async function ll(e,t,n,r,i,o){vi(e.config.authDomain,e,"auth-domain-config-required"),vi(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ir,eventId:i};if(t instanceof Wo){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Ho){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(sl,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ol);return Ei(t,al)}(e),"?").concat(En(s).slice(1)).concat(c)}const cl="webStorageSupport";const ul=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qa,this._completeRedirectFn=Ls,this._overrideRedirectResult=Ps}async _openPopup(e,t,n,r){var i;wi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return il(e,await ll(e,t,n,bi(),r),Wa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ka().location.href=e}(await ll(e,t,n,bi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await tl(e),n=new js(e);return t.register("authEvent",(t=>{vi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cl,{type:cl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[cl];void 0!==i&&t(!!i),di(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Vs(e);for(const r of t)try{if(Ys(r))return}catch(n){}di(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mo()||so()||po()}};class dl{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yi("unexpected MultiFactorSessionType")}}}class hl extends dl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new hl(e)}_finalizeEnroll(e,t,n){return function(e,t){return Di(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ci(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Di(e,"POST","/v2/accounts/mfaSignIn:finalize",Ci(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class fl{constructor(){}static assertion(e){return hl._fromCredential(e)}}fl.FACTOR_ID="phone";var pl="@firebase/auth",ml="1.7.1";class gl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=sn())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var vl;function yl(){return window}!function(e){ko=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=hi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),vl="Browser",gr(new Nn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;vi(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:vl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:go(vl)},c=new wo(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(eo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),gr(new Nn("auth-internal",(e=>(e=>new gl(e))(bo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(pl,ml,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(vl)),Nr(pl,ml,"esm2017");async function wl(e,t,n){var r;const{BuildInfo:i}=yl();wi(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(wi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return po()?a.ibi=i.packageName:uo()?a.apn=i.packageName:di(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,ll(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function bl(e){const{cordova:t}=yl();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Sl=20;class kl extends js{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function _l(e){const t=await xl()._get(Tl(e));return t&&await xl()._remove(Tl(e)),t}function El(e,t){var n,r;const i=function(e){const t=Cl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Cl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Cl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Cl(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(Vx){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?hi(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Il(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Sl;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function xl(){return eo(Va)}function Tl(e){return ro("authEvent",e.config.apiKey,e.name)}function Cl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return In(n.join("?"))}const Dl=class{constructor(){this._redirectPersistence=qa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ls,this._overrideRedirectResult=Ps}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new kl(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){di(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,l,c,u;const d=yl();vi("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),vi("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),vi("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vi("function"===typeof(null===(l=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),vi("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ts.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Il(),postBody:null,tenantId:e.tenantId,error:hi(e,"no-auth-event")}}(e,n,r);await function(e,t){return xl()._set(Tl(e),t)}(e,o);const a=await wl(e,o,t);return async function(e,t,n){const{cordova:r}=yl();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(hi(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),uo()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await bl(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=yl(),n={};po()?n.iosBundleId=t.packageName:uo()?n.androidPackageName=t.packageName:di(e,"operation-not-supported-in-this-environment"),await Vs(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=yl(),o=setTimeout((async()=>{await _l(e),t.onEvent(Pl())}),500),a=async n=>{clearTimeout(o);const r=await _l(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=El(r,n.url)),t.onEvent(i||Pl())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,l="".concat(i.packageName.toLowerCase(),"://");yl().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof s)try{s(e)}catch(Vx){console.error(Vx)}}}};function Pl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hi("no-auth-event")}}function Nl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return!("file:"!==Nl()&&"ionic:"!==Nl()&&"capacitor:"!==Nl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return mn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/Edge\/\d+/.test(e)}(e)}function Ol(){try{const e=self.localStorage,t=Wa();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ml()||vn()}catch(Vx){return Rl()&&vn()}return!1}function Rl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ll(){return("http:"===Nl()||"https:"===Nl()||fn()||Al())&&!(pn()||dn())&&Ol()&&!Rl()}function Fl(){return Al()&&"undefined"!==typeof document}const jl={LOCAL:"local",NONE:"none",SESSION:"session"},Bl=vi,Ul="persistence";async function Vl(e){await e._initializationPromise;const t=zl(),n=ro(Ul,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function zl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Vx){return null}}const ql=vi;class Yl{constructor(){this.browserResolver=eo(ul),this.cordovaResolver=eo(Dl),this.underlyingResolver=null,this._redirectPersistence=qa,this._completeRedirectFn=Ls,this._overrideRedirectResult=Ps}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Fl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ql(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Fl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Wl(e){return e.unwrap()}function Hl(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Xl(e,function(e,t){var n;const r=Pn(e),i=t;return vi(t.customData.operationType,r,"argument-error"),vi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ra._fromError(r,i)}(e,t))}else if(r){const e=Kl(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Kl(e){const{_tokenResponse:t}=e instanceof yn?e.customData:e;if(!t)return null;if(!(e instanceof yn)&&"temporaryProof"in t&&"phoneNumber"in t)return vs.credentialFromResult(e);const n=t.providerId;if(!n||n===$r.PASSWORD)return null;let r;switch(n){case $r.GOOGLE:r=Qo;break;case $r.FACEBOOK:r=Go;break;case $r.GITHUB:r=Xo;break;case $r.TWITTER:r=Zo;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?Jo._create(n,a):Uo._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Ko(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof yn?r.credentialFromError(e):r.credentialFromResult(e)}function Gl(e,t){return t.catch((t=>{throw t instanceof yn&&Hl(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Kl(r)),additionalUserInfo:Ma(e),user:Jl.getOrCreate(n)};var r}))}async function Ql(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Gl(e,n.confirm(t))}}class Xl{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gl(Wl(this.auth),this.resolver.resolveSignIn(e))}}class Jl{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Pn(e);return Fa.has(t)||Fa.set(t,La._fromUser(t)),Fa.get(t)}(e)}static getOrCreate(e){return Jl.USER_MAP.has(e)||Jl.USER_MAP.set(e,new Jl(e)),Jl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Gl(this.auth,ha(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ql(this.auth,async function(e,t,n){const r=Pn(e);await la(!1,r,"phone");const i=await gs(r.auth,t,Pn(n));return new ms(i,(e=>ha(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Gl(this.auth,async function(e,t,n){const r=Pn(e);mi(r.auth,t,Wo);const i=ys(r.auth,n);return new Is(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Yl))}async linkWithRedirect(e){return await Vl(bo(this.auth)),Rs(this._delegate,e,Yl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Gl(this.auth,fa(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ql(this.auth,async function(e,t,n){const r=Pn(e);if(br(r.auth.app))return Promise.reject(pi(r.auth));const i=await gs(r.auth,t,Pn(n));return new ms(i,(e=>fa(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Gl(this.auth,async function(e,t,n){const r=Pn(e);if(br(r.auth.app))return Promise.reject(hi(r.auth,"operation-not-supported-in-this-environment"));mi(r.auth,t,Wo);const i=ys(r.auth,n);return new Is(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Yl))}async reauthenticateWithRedirect(e){return await Vl(bo(this.auth)),Os(this._delegate,e,Yl)}sendEmailVerification(e){return _a(this._delegate,e)}async unlink(e){return await aa(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Pn(e);return br(n.auth.app)?Promise.reject(pi(n.auth)):xa(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return xa(Pn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Pn(e);if(br(n.auth.app))return Promise.reject(pi(n.auth));await sa(n,t)}(this._delegate,e)}updateProfile(e){return Ia(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ea(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jl.USER_MAP=new WeakMap;const $l=vi;class Zl{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;$l(n,"invalid-api-key",{appName:e.name}),$l(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Yl:void 0;this._delegate=t.initialize({options:{persistence:tc(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(ai),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Co(this._delegate,e,t)}applyActionCode(e){return ba(this._delegate,e)}checkActionCode(e){return Sa(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ao(Pn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&wa(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Gl(this._delegate,async function(e,t,n){if(br(e.app))return Promise.reject(pi(e));const r=bo(e),i=To(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ea),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&wa(e),t})),a=await ta._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ka(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=qo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){$l(Ll(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await bo(e)._initializationPromise,Ls(e,t,!1)}(this._delegate,Yl);return e?Gl(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){bo(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ec(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ec(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=bo(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){vi(t.handleCodeInApp,r,"argument-error"),t&&ya(r,e,t)}(i,n),await To(r,i,"getOobCode",Fo)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=bo(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ya(r,i,n),await To(r,i,"getOobCode",Lo)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Bl(Object.values(jl).includes(t),e,"invalid-persistence-type"),pn()?Bl(t!==jl.SESSION,e,"unsupported-persistence-type"):dn()?Bl(t===jl.NONE,e,"unsupported-persistence-type"):Rl()?Bl(t===jl.NONE||t===jl.LOCAL&&vn(),e,"unsupported-persistence-type"):Bl(t===jl.NONE||Ol(),e,"unsupported-persistence-type")}(this._delegate,e),e){case jl.SESSION:t=qa;break;case jl.LOCAL:t=await eo(is)._isAvailable()?is:Va;break;case jl.NONE:t=no;break;default:return di("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gl(this._delegate,async function(e){var t;if(br(e.app))return Promise.reject(pi(e));const n=bo(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ta({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ea(n,{returnSecureToken:!0}),i=await ta._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Gl(this._delegate,da(this._delegate,e))}signInWithCustomToken(e){return Gl(this._delegate,pa(this._delegate,e))}signInWithEmailAndPassword(e,t){return Gl(this._delegate,function(e,t,n){return br(e.app)?Promise.reject(pi(e)):da(Pn(e),Yo.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&wa(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Gl(this._delegate,async function(e,t,n){if(br(e.app))return Promise.reject(pi(e));const r=Pn(e),i=Yo.credentialWithLink(t,n||bi());return vi(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),da(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ql(this._delegate,async function(e,t,n){if(br(e.app))return Promise.reject(pi(e));const r=bo(e),i=await gs(r,t,Pn(n));return new ms(i,(e=>da(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return $l(Ll(),this._delegate,"operation-not-supported-in-this-environment"),Gl(this._delegate,async function(e,t,n){if(br(e.app))return Promise.reject(hi(e,"operation-not-supported-in-this-environment"));const r=bo(e);mi(e,t,Wo);const i=ys(r,n);return new Is(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Yl))}async signInWithRedirect(e){return $l(Ll(),this._delegate,"operation-not-supported-in-this-environment"),await Vl(this._delegate),Ms(this._delegate,e,Yl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Sa(Pn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ec(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Jl.getOrCreate(e)),error:t,complete:n}}function tc(e,t){const n=function(e,t){const n=zl();if(!n)return[];const r=ro(Ul,e,t);switch(n.getItem(r)){case jl.NONE:return[no];case jl.LOCAL:return[is,qa];case jl.SESSION:return[qa];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(is)||n.push(is),"undefined"!==typeof window)for(const r of[Va,qa])n.includes(r)||n.push(r);return n.includes(no)||n.push(no),n}Zl.Persistence=jl;class nc{constructor(){this.providerId="phone",this._delegate=new vs(Wl(Xr.auth()))}static credential(e,t){return vs.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}nc.PHONE_SIGN_IN_METHOD=vs.PHONE_SIGN_IN_METHOD,nc.PROVIDER_ID=vs.PROVIDER_ID;const rc=vi;class ic{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr.app();var r;rc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ps(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var oc;(oc=Xr).INTERNAL.registerComponent(new Nn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Zl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zr,PASSWORD_RESET:ei,RECOVER_EMAIL:ti,REVERT_SECOND_FACTOR_ADDITION:ni,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:ii}},EmailAuthProvider:Yo,FacebookAuthProvider:Go,GithubAuthProvider:Xo,GoogleAuthProvider:Qo,OAuthProvider:Ko,SAMLAuthProvider:$o,PhoneAuthProvider:nc,PhoneMultiFactorGenerator:fl,RecaptchaVerifier:ic,TwitterAuthProvider:Zo,Auth:Zl,AuthCredential:No,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oc.registerVersion("@firebase/auth-compat","0.5.6");Xr.initializeApp({apiKey:"AIzaSyAhsGPnedTOxo9XAH_5c4a8S_xVih6xwgw",authDomain:"mprprojectsem4.firebaseapp.com",projectId:"mprprojectsem4",storageBucket:"mprprojectsem4.appspot.com",messagingSenderId:"722204704573",appId:"1:722204704573:web:c06f0ae763c773c9b1cf54"});const ac=Xr,sc=n.p+"static/media/Icon.99d6a4e653134ac357c6.png";const lc=function(){let[e,t]=(0,r.useState)("Show");const[n,i]=(0,r.useState)(!1),o=Ke(),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null);return(0,Ct.jsx)(Ct.Fragment,{children:(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("div",{className:"leftContainer",children:[(0,Ct.jsx)("i",{class:"gg-arrow-left"}),(0,Ct.jsx)(Et,{to:"/",id:"BackToHome",children:" Home"}),(0,Ct.jsx)("h1",{id:"loginText",children:"Login to Your Account"}),(0,Ct.jsx)("p",{id:"loginUsingSocial",children:"Login using social networks"}),(0,Ct.jsxs)("div",{id:"socialIcons",children:[(0,Ct.jsx)(Et,{to:"/",className:"fa fa-google"}),(0,Ct.jsx)(Et,{to:"/",className:"fa fa-facebook"})]}),(0,Ct.jsx)("p",{id:"loginUsingSocial",children:"OR"}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ac.auth().signInWithEmailAndPassword(a,l);console.log("User logged in:",e.user);const t=e.user.uid;alert(t),alert("User Logged in Successfully!"),o("/Receipt",{state:{id:t}})}catch(t){d(t.message)}},children:[(0,Ct.jsx)("div",{id:"usernameID",children:(0,Ct.jsx)("input",{type:"text",placeholder:"Email",value:a,onChange:e=>s(e.target.value),name:"username",required:!0,id:"usernameInput"})}),(0,Ct.jsxs)("div",{id:"passwordID",children:[(0,Ct.jsx)("input",{type:n?"text":"password",value:l,onChange:e=>c(e.target.value),maxLength:"16",placeholder:"Password",name:"password",required:!0,id:"passwordInput"}),(0,Ct.jsx)("button",{type:"button",className:"toggleButton",onClick:()=>{t(!0===n?"Show":"Hide"),i((e=>!e))},children:e})]}),(0,Ct.jsx)("button",{type:"submit",id:"submitButton",children:"Sign In"}),u&&(0,Ct.jsx)("p",{className:"error-message",children:u})]}),(0,Ct.jsx)("img",{src:sc,alt:"Admin Icon",id:"AdminIcon"}),(0,Ct.jsx)(Et,{to:"/AdminPage",id:"adminButton",children:"Admin Login"})]}),(0,Ct.jsxs)("div",{className:"rightContainer",children:[(0,Ct.jsx)("img",{src:Tt,id:"Logo",alt:"Logo"}),(0,Ct.jsx)("h1",{id:"newHere",children:"New Here?"}),(0,Ct.jsx)("p",{id:"SignUpText",children:"Sign Up to discover more from Crimson Royale!"}),(0,Ct.jsx)("p",{className:"offers",children:"-Save Your Favorite Dishes"}),(0,Ct.jsx)("p",{className:"offers",children:"-Get Recommendations, Offers"}),(0,Ct.jsx)("p",{className:"offers",children:"& Much More!"}),(0,Ct.jsx)(Et,{to:"/SignUpPage",children:(0,Ct.jsx)("button",{type:"submit",id:"signUpButton",children:"Sign Up"})})]})]})})},cc=n.p+"static/media/1.aa48a3c881bf213a6dcb.png",uc=n.p+"static/media/2.d751f8729eb822aa5945.png",dc=n.p+"static/media/3.1c2083489eaf00a6eb43.png";const hc=function(){return(0,Ct.jsxs)("div",{className:"ImageContainer",children:[(0,Ct.jsx)("i",{class:"gg-arrow-left"}),(0,Ct.jsx)("a",{href:"/",id:"BackToHome",children:" Home"}),(0,Ct.jsx)("img",{src:cc,alt:"Menu Page Number 1",className:"MenuPages"}),(0,Ct.jsx)("img",{src:uc,alt:"Menu Page Number 2",className:"MenuPages"}),(0,Ct.jsx)("img",{src:dc,alt:"Menu Page Number 3",className:"MenuPages"})]})},fc=n.p+"static/media/BreadOmlette-1.3140f5c6bebedde46387.jpeg",pc=n.p+"static/media/CassataIceCream-1.c0b9366a7c8b4987c24b.jpeg",mc=n.p+"static/media/ChanaMasala-1.c2441e6d089ed2bcb708.jpeg",gc=n.p+"static/media/KulfiFalooda-1.8b4ef13563f8f979ec7d.jpeg",vc=n.p+"static/media/ShahiPaneer-1.6a620344c01e8a3075b0.jpeg",yc=n.p+"static/media/FrenchToast-1.6cbb02e1f6b8cf88e89a.jpeg";const wc=function(e){return(0,Ct.jsxs)("div",{className:"MainChefs",children:[(0,Ct.jsx)("img",{src:e.img,alt:"",className:"ChefImages"}),(0,Ct.jsxs)("h1",{className:"ChefName",children:["Chef ",e.name]}),(0,Ct.jsx)("p",{className:"ChefDesc",children:e.desc}),(0,Ct.jsxs)("p",{className:"Specials",children:[e.name,"'s Specials"]}),(0,Ct.jsxs)("div",{className:"SpecialContainer",children:[(0,Ct.jsx)("img",{src:e.special1,alt:"",className:"SpecialImages"}),(0,Ct.jsx)("h2",{className:"SpecialTitle",children:e.title1}),(0,Ct.jsx)("p",{className:"SpecialDesc",children:e.desc1})]}),(0,Ct.jsxs)("div",{className:"SpecialContainer",children:[(0,Ct.jsx)("img",{src:e.special2,alt:"",className:"SpecialImages"}),(0,Ct.jsx)("h2",{className:"SpecialTitle",children:e.title2}),(0,Ct.jsx)("p",{className:"SpecialDesc",children:e.desc2})]}),(0,Ct.jsx)("br",{})]})};const bc=function(){return(0,Ct.jsxs)("div",{className:"Container",children:[(0,Ct.jsx)("a",{href:"/",id:"BackToHome1",children:"< Home"}),(0,Ct.jsx)("h1",{id:"MeetOurChefs",children:"Meet Our Chefs"}),(0,Ct.jsx)(wc,{img:Ht,special1:fc,title1:"Bread Omlette",desc1:"In the elegant ambiance of our premium restaurant, we present the timeless classic: Bread Omelette elevated to new heights of sophistication. Handcrafted using artisanal bread, delicately folded around a velvety omelette infused with the finest herbs and spices, this dish is a symphony of texture and flavor. Served alongside a medley of roasted vegetables and drizzled with a savory reduction, each bite is a journey through culinary excellence, designed to delight the most discerning palate. Experience the epitome of indulgence with our interpretation of Bread Omelette, a culinary masterpiece crafted for the connoisseur in you.",special2:pc,title2:"Cassata Ice Cream",desc2:"Indulge in the epitome of frozen decadence with our exquisite Cassata Ice Cream, meticulously crafted for discerning palates in our premium restaurant setting. Layers of creamy vanilla, chocolate, and strawberry ice cream are interspersed with luscious candied fruits and nuts, creating a symphony of textures and flavors that dance across your taste buds. Encased in a delicate shell of rich dark chocolate, each spoonful reveals a harmony of sweetness and sophistication. Served with a garnish of fresh berries and a drizzle of artisanal fruit coulis, this opulent dessert is a celebration of elegance and indulgence, promising a sensory experience like no other.",name:"Phil Dunphy",desc:"Phil Dunphy isn't your average chef. Forget stuffy kitchens and pretentious plates. Phil brings a smile to your face and a party to your palate. While he may not be a classically trained chef, Phil's passion lies in the fun and flavor of international cuisines. This self-proclaimed ambassador of deliciousness specializes in the crowd-pleasing cuisines of Mexico and Thailand. Imagine sizzling fajitas bursting with fresh flavors, followed by fragrant curries that tickle your taste buds. Phil's dishes are an explosion of textures and spices, guaranteed to leave you wanting more."}),(0,Ct.jsx)(wc,{img:Kt,special1:mc,title1:"Chana Masala",desc1:"Tender chickpeas, simmered to perfection in a rich and aromatic blend of spices, create the foundation of this dish. Each bite bursts with the flavors of cumin, coriander, and garam masala, intricately balanced to perfection. Served in an elegant bowl atop a bed of fragrant basmati rice, our Chana Masala is accompanied by freshly baked naan, warm and pillowy, ready to soak up every last drop of the flavorful sauce. Garnished with a sprinkle of fresh cilantro and a dollop of creamy yogurt, this dish embodies the essence of Indian cuisine in a luxurious and refined presentation.",special2:gc,title2:"Kulfi Falooda",desc2:"Indulge in a regal dessert experience with our signature Kulfi Falooda, reimagined for the discerning palate in our premium restaurant setting. This opulent creation begins with artisanal Kulfi, handcrafted using traditional methods and infused with the essence of saffron, cardamom, and rosewater. Each creamy bite is a tribute to the rich heritage of Indian sweets. Accompanying the Kulfi is a delicate nest of falooda, crafted from fine vermicelli soaked in fragrant rose syrup and adorned with tender basil seeds for a burst of texture. As you delve deeper into this culinary marvel, you'll discover layers of freshly chopped nuts and vibrant fruit, adding complexity and nuance to each spoonful.",name:"Jay Pritchett",desc:"Jay Pritchett is a culinary maestro renowned for his mastery in the art of Indian cuisine. With a passion for flavor and a deep understanding of traditional Indian cooking techniques, Chef Jay brings a unique and authentic touch to every dish he creates. Drawing inspiration from the rich and diverse culinary heritage of India, Chef Jay expertly blends spices, herbs, and fresh ingredients to craft dishes that tantalize the taste buds and evoke a sense of cultural richness. His dedication to preserving the authenticity of Indian cuisine while infusing it with his own creative twists sets him apart as a true culinary innovator."}),(0,Ct.jsx)(wc,{img:Gt,special1:vc,title1:"Shahi Paneer",desc1:"Tender cubes of paneer, marinated in a luscious blend of yogurt, cream, and exotic spices, are cooked to perfection in a velvety tomato-based gravy infused with saffron, cardamom, and fenugreek. Each spoonful of Shahi Paneer offers a symphony of flavors, with the richness of the paneer complemented by the subtle sweetness of the tomatoes and the warm notes of the spices. Presented in an exquisite serving dish, garnished with a drizzle of golden saffron-infused cream and a sprinkle of crushed nuts, this dish exudes elegance and sophistication.",special2:yc,title2:"French Toast",desc2:"Crafted with artisanal brioche bread, soaked in a rich custard infused with Madagascar vanilla and hints of cinnamon, each golden slice is a symphony of flavor and texture. Indulge your senses as the French Toast graces your palate, offering a delicate crunch on the outside and a luxuriously soft interior. Accompanied by a medley of fresh seasonal fruits, a dollop of whipped cream, and a drizzle of pure maple syrup sourced from the finest groves, this dish transcends mere breakfast fare to become an experience of pure indulgence.",name:"Lily Tucker",desc:"Lily, a culinary virtuoso, wields her expertise to curate a delectable journey through the flavors of Vietnam and beyond. With a deft hand, she expertly blends the fragrant herbs and spices of Vietnamese cuisine, while also drawing inspiration from the diverse culinary landscapes of Thailand, Laos, and Cambodia. Each dish she crafts is a harmonious fusion of tradition and innovation, inviting diners to savor the vibrant colors and bold flavors of Southeast Asia. From aromatic pho to zesty papaya salad, Chef Lily's creations captivate the palate and ignite a passion for culinary exploration across borders."}),(0,Ct.jsx)("br",{})]})};var Sc,kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_c={},Ec=Ec||{},Ic=kc||self;function xc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cc="closure_uid_"+(1e9*Math.random()>>>0),Dc=0;function Pc(e,t,n){return e.call.apply(e.bind,arguments)}function Nc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ac(e,t,n){return(Ac=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pc:Nc).apply(null,arguments)}function Mc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Oc(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Rc(){this.s=this.s,this.o=this.o}Rc.prototype.s=!1,Rc.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Cc)&&e[Cc]||(e[Cc]=++Dc))},Rc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Fc(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function jc(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(xc(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Bc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bc.prototype.h=function(){this.defaultPrevented=!0};var Uc=function(){if(!Ic.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Ic.addEventListener("test",e,t),Ic.removeEventListener("test",e,t)}catch(n){}return e}();function Vc(e){return/^[\s\xa0]*$/.test(e)}function zc(){var e=Ic.navigator;return e&&(e=e.userAgent)?e:""}function qc(e){return-1!=zc().indexOf(e)}function Yc(e){return Yc[" "](e),e}Yc[" "]=function(){};var Wc,Hc,Kc=qc("Opera"),Gc=qc("Trident")||qc("MSIE"),Qc=qc("Edge"),Xc=Qc||Gc,Jc=qc("Gecko")&&!(-1!=zc().toLowerCase().indexOf("webkit")&&!qc("Edge"))&&!(qc("Trident")||qc("MSIE"))&&!qc("Edge"),$c=-1!=zc().toLowerCase().indexOf("webkit")&&!qc("Edge");function Zc(){var e=Ic.document;return e?e.documentMode:void 0}e:{var eu="",tu=function(){var e=zc();return Jc?/rv:([^\);]+)(\)|;)/.exec(e):Qc?/Edge\/([\d\.]+)/.exec(e):Gc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$c?/WebKit\/(\S+)/.exec(e):Kc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tu&&(eu=tu?tu[1]:""),Gc){var nu=Zc();if(null!=nu&&nu>parseFloat(eu)){Wc=String(nu);break e}}Wc=eu}if(Ic.document&&Gc){var ru=Zc();Hc=ru||(parseInt(Wc,10)||void 0)}else Hc=void 0;var iu=Hc;function ou(e,t){if(Bc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jc){e:{try{Yc(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:au[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ou.$.h.call(this)}}Oc(ou,Bc);var au={2:"touch",3:"pen",4:"mouse"};ou.prototype.h=function(){ou.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var su="closure_listenable_"+(1e6*Math.random()|0),lu=0;function cu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++lu,this.fa=this.ia=!1}function uu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function du(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function hu(e){const t={};for(const n in e)t[n]=e[n];return t}const fu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pu(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<fu.length;t++)n=fu[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function mu(e){this.src=e,this.g={},this.h=0}function gu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Lc(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(uu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vu(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}mu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=vu(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new cu(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var yu="closure_lm_"+(1e6*Math.random()|0),wu={};function bu(e,t,n,r,i){if(r&&r.once)return ku(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)bu(e,t[o],n,r,i);return null}return n=Du(n),e&&e[su]?e.O(t,n,Tc(r)?!!r.capture:!!r,i):Su(e,t,n,!1,r,i)}function Su(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Tc(i)?!!i.capture:!!i,s=Tu(e);if(s||(e[yu]=s=new mu(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=xu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Uc||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Iu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ku(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ku(e,t[o],n,r,i);return null}return n=Du(n),e&&e[su]?e.P(t,n,Tc(r)?!!r.capture:!!r,i):Su(e,t,n,!0,r,i)}function _u(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_u(e,t[o],n,r,i);else r=Tc(r)?!!r.capture:!!r,n=Du(n),e&&e[su]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vu(o=e.g[t],n,r,i))&&(uu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Tu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vu(t,n,r,i)),(n=-1<e?t[e]:null)&&Eu(n))}function Eu(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[su])gu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Iu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tu(t))?(gu(n,e),0==n.h&&(n.src=null,t[yu]=null)):uu(e)}}}function Iu(e){return e in wu?wu[e]:wu[e]="on"+e}function xu(e,t){if(e.fa)e=!0;else{t=new ou(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Eu(e),e=n.call(r,t)}return e}function Tu(e){return(e=e[yu])instanceof mu?e:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(e){return"function"===typeof e?e:(e[Cu]||(e[Cu]=function(t){return e.handleEvent(t)}),e[Cu])}function Pu(){Rc.call(this),this.i=new mu(this),this.S=this,this.J=null}function Nu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Bc(t,e);else if(t instanceof Bc)t.target=t.target||e;else{var i=t;pu(t=new Bc(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Au(a,r,!0,t)&&i}if(i=Au(a=t.g=e,r,!0,t)&&i,i=Au(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Au(a=t.g=n[o],r,!1,t)&&i}function Au(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&gu(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}Oc(Pu,Rc),Pu.prototype[su]=!0,Pu.prototype.removeEventListener=function(e,t,n,r){_u(this,e,t,n,r)},Pu.prototype.N=function(){if(Pu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uu(n[r]);delete t.g[e],t.h--}}this.J=null},Pu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Pu.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Mu=Ic.JSON.stringify;function Ou(){var e=Vu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ru=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Lu),(e=>e.reset()));class Lu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fu(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ju(e){Ic.setTimeout((()=>{throw e}),0)}let Bu,Uu=!1,Vu=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ru.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},zu=()=>{const e=Ic.Promise.resolve(void 0);Bu=()=>{e.then(qu)}};var qu=()=>{for(var e;e=Ou();){try{e.h.call(e.g)}catch(n){ju(n)}var t=Ru;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Uu=!1};function Yu(e,t){Pu.call(this),this.h=e||1,this.g=t||Ic,this.j=Ac(this.qb,this),this.l=Date.now()}function Wu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Hu(e,t,n){if("function"===typeof e)n&&(e=Ac(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ac(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ic.setTimeout(e,t||0)}function Ku(e){e.g=Hu((()=>{e.g=null,e.i&&(e.i=!1,Ku(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Oc(Yu,Pu),(Sc=Yu.prototype).ga=!1,Sc.T=null,Sc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nu(this,"tick"),this.ga&&(Wu(this),this.start()))}},Sc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sc.N=function(){Yu.$.N.call(this),Wu(this),delete this.g};class Gu extends Rc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ku(this)}N(){super.N(),this.g&&(Ic.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qu(e){Rc.call(this),this.h=e,this.g={}}Oc(Qu,Rc);var Xu=[];function Ju(e,t,n,r){Array.isArray(n)||(n&&(Xu[0]=n.toString()),n=Xu);for(var i=0;i<n.length;i++){var o=bu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function $u(e){du(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Eu(e)}),e),e.g={}}function Zu(){this.g=!0}function ed(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Mu(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Qu.prototype.N=function(){Qu.$.N.call(this),$u(this)},Qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zu.prototype.Ea=function(){this.g=!1},Zu.prototype.info=function(){};var td={},nd=null;function rd(){return nd=nd||new Pu}function id(e){Bc.call(this,td.Ta,e)}function od(e){const t=rd();Nu(t,new id(t))}function ad(e,t){Bc.call(this,td.STAT_EVENT,e),this.stat=t}function sd(e){const t=rd();Nu(t,new ad(t,e))}function ld(e,t){Bc.call(this,td.Ua,e),this.size=t}function cd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ic.setTimeout((function(){e()}),t)}td.Ta="serverreachability",Oc(id,Bc),td.STAT_EVENT="statevent",Oc(ad,Bc),td.Ua="timingevent",Oc(ld,Bc);var ud={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hd(){}function fd(e){return e.h||(e.h=e.i())}function pd(){}hd.prototype.h=null;var md,gd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vd(){Bc.call(this,"d")}function yd(){Bc.call(this,"c")}function wd(){}function bd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Qu(this),this.P=kd,e=Xc?125:void 0,this.V=new Yu(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sd}function Sd(){this.i=null,this.g="",this.h=!1}Oc(vd,Bc),Oc(yd,Bc),Oc(wd,hd),wd.prototype.g=function(){return new XMLHttpRequest},wd.prototype.i=function(){return{}},md=new wd;var kd=45e3,_d={},Ed={};function Id(e,t,n){e.L=1,e.A=Yd(Bd(t)),e.u=n,e.S=!0,xd(e,null)}function xd(e,t){e.G=Date.now(),Pd(e),e.B=Bd(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),rh(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Sd,e.g=of(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Gu(Ac(e.Pa,e,e.g),e.O)),Ju(e.U,e.g,"readystatechange",e.nb),t=e.I?hu(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),od(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Td(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Cd(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Dd(e,n),r==Ed){4==t&&(e.s=4,sd(14),i=!1),ed(e.j,e.m,null,"[Incomplete Response]");break}if(r==_d){e.s=4,sd(15),ed(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ed(e.j,e.m,r,null),Rd(e,r)}Td(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,sd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xh(t),t.M=!0,sd(11))):(ed(e.j,e.m,n,"[Invalid Chunked Response]"),Od(e),Md(e))}function Dd(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ed:(n=Number(t.substring(n,r)),isNaN(n)?_d:(r+=1)+n>t.length?Ed:(t=t.slice(r,r+n),e.o=r+n,t))}function Pd(e){e.Y=Date.now()+e.P,Nd(e,e.P)}function Nd(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=cd(Ac(e.lb,e),t)}function Ad(e){e.C&&(Ic.clearTimeout(e.C),e.C=null)}function Md(e){0==e.l.H||e.J||Zh(e.l,e)}function Od(e){Ad(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Wu(e.V),$u(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Rd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||uh(n.i,e)))if(!e.K&&uh(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;$h(n),zh(n)}Qh(n),sd(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=cd(Ac(n.ib,n),6e3));if(1>=ch(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else tf(n,11)}else if((e.K||n.g==e)&&$h(n),!Vc(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dh(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,qd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=rf(r,r.J?r.pa:null,r.Y),a.K){hh(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.C&&(Ad(s),Pd(s)),r.g=a}else Gh(r);0<n.j.length&&Yh(n)}else"stop"!=c[0]&&"close"!=c[0]||tf(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tf(n,7):Vh(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}od()}catch(c){}}function Ld(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Sc=bd.prototype).setTimeout=function(e){this.P=e},Sc.nb=function(e){e=e.target;const t=this.M;t&&3==Rh(e)?t.l():this.Pa(e)},Sc.Pa=function(e){try{if(e==this.g)e:{const u=Rh(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Xc||this.g&&(this.h.h||this.g.ja()||Lh(this.g)))){this.J||4!=u||7==t||od(),Ad(this);var n=this.g.da();this.ca=n;t:if(Td(this)){var r=Lh(this.g);e="";var i=r.length,o=4==Rh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Od(this),Md(this);var a="";break t}this.h.i=new Ic.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vc(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,sd(12),Od(this),Md(this);break e}ed(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rd(this,n)}this.S?(Cd(this,u,a),Xc&&this.i&&3==u&&(Ju(this.U,this.V,"tick",this.mb),this.V.start())):(ed(this.j,this.m,a,null),Rd(this,a)),4==u&&Od(this),this.i&&!this.J&&(4==u?Zh(this.l,this):(this.i=!1,Pd(this)))}else(function(e){const t={};e=(e.g&&2<=Rh(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Vc(e[r]))continue;var n=Fu(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,sd(12)):(this.s=0,sd(13)),Od(this),Md(this)}}}catch(u){}},Sc.mb=function(){if(this.g){var e=Rh(this.g),t=this.g.ja();this.o<t.length&&(Ad(this),Cd(this,e,t),this.i&&4!=e&&Pd(this))}},Sc.cancel=function(){this.J=!0,Od(this)},Sc.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(od(),sd(17)),Od(this),this.s=2,Md(this)):Nd(this,this.Y-e)};var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jd){this.h=e.h,Ud(this,e.j),this.s=e.s,this.g=e.g,Vd(this,e.m),this.l=e.l;var t=e.i,n=new Zd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zd(this,n),this.o=e.o}else e&&(t=String(e).match(Fd))?(this.h=!1,Ud(this,t[1]||"",!0),this.s=Wd(t[2]||""),this.g=Wd(t[3]||"",!0),Vd(this,t[4]),this.l=Wd(t[5]||"",!0),zd(this,t[6]||"",!0),this.o=Wd(t[7]||"")):(this.h=!1,this.i=new Zd(null,this.h))}function Bd(e){return new jd(e)}function Ud(e,t,n){e.j=n?Wd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zd(e,t,n){t instanceof Zd?(e.i=t,function(e,t){t&&!e.j&&(eh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(th(this,t),rh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Hd(t,Jd)),e.i=new Zd(t,e.h))}function qd(e,t,n){e.i.set(t,n)}function Yd(e){return qd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hd(t,Gd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hd(t,Gd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hd(n,"/"==n.charAt(0)?Xd:Qd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hd(n,$d)),e.join("")};var Gd=/[#\/\?@]/g,Qd=/[#\?:]/g,Xd=/[#\?]/g,Jd=/[#\?@]/g,$d=/#/g;function Zd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function eh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function th(e,t){eh(e),t=ih(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nh(e,t){return eh(e),t=ih(e,t),e.g.has(t)}function rh(e,t,n){th(e,t),0<n.length&&(e.i=null,e.g.set(ih(e,t),Fc(n)),e.h+=n.length)}function ih(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Sc=Zd.prototype).add=function(e,t){eh(this),this.i=null,e=ih(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sc.forEach=function(e,t){eh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Sc.ta=function(){eh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Sc.Z=function(e){eh(this);let t=[];if("string"===typeof e)nh(this,e)&&(t=t.concat(this.g.get(ih(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Sc.set=function(e,t){return eh(this),this.i=null,nh(this,e=ih(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Sc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var oh=class{constructor(e,t){this.g=e,this.map=t}};function ah(e){this.l=e||sh,Ic.PerformanceNavigationTiming?e=0<(e=Ic.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ic.g&&Ic.g.Ka&&Ic.g.Ka()&&Ic.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sh=10;function lh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ch(e){return e.h?1:e.g?e.g.size:0}function uh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dh(e,t){e.g?e.g.add(t):e.h=t}function hh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fh(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Fc(e.i)}ah.prototype.cancel=function(){if(this.i=fh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ph,mh=class{stringify(e){return Ic.JSON.stringify(e,void 0)}parse(e){return Ic.JSON.parse(e,void 0)}};function gh(){this.g=new mh}function vh(e,t,n){const r=n||"";try{Ld(e,(function(e,n){let i=e;Tc(e)&&(i=Mu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Vx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Vx}}function yh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function wh(e){this.l=e.ec||null,this.j=e.ob||!1}function bh(e,t){Pu.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Sh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oc(wh,hd),wh.prototype.g=function(){return new bh(this.l,this.j)},wh.prototype.i=(ph={},function(){return ph}),Oc(bh,Pu);var Sh=0;function kh(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function _h(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Eh(e)}function Eh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Sc=bh.prototype).open=function(e,t){if(this.readyState!=Sh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Eh(this)},Sc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ic).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Sc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_h(this)),this.readyState=Sh},Sc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Eh(this)),this.g&&(this.readyState=3,Eh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ic.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kh(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Sc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_h(this):Eh(this),3==this.readyState&&kh(this)}},Sc.Za=function(e){this.g&&(this.response=this.responseText=e,_h(this))},Sc.Ya=function(e){this.g&&(this.response=e,_h(this))},Sc.ka=function(){this.g&&_h(this)},Sc.setRequestHeader=function(e,t){this.v.append(e,t)},Sc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ih=Ic.JSON.parse;function xh(e){Pu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Th,this.L=this.M=!1}Oc(xh,Pu);var Th="",Ch=/^https?$/i,Dh=["POST","PUT"];function Ph(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nh(e),Mh(e)}function Nh(e){e.F||(e.F=!0,Nu(e,"complete"),Nu(e,"error"))}function Ah(e){if(e.h&&"undefined"!=typeof Ec&&(!e.C[1]||4!=Rh(e)||2!=e.da()))if(e.v&&4==Rh(e))Hu(e.La,0,e);else if(Nu(e,"readystatechange"),4==Rh(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(Fd)[1]||null;!i&&Ic.self&&Ic.self.location&&(i=Ic.self.location.protocol.slice(0,-1)),r=!Ch.test(i?i.toLowerCase():"")}n=r}if(n)Nu(e,"complete"),Nu(e,"success");else{e.m=6;try{var o=2<Rh(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",Nh(e)}}finally{Mh(e)}}}function Mh(e,t){if(e.g){Oh(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Nu(e,"ready");try{n.onreadystatechange=r}catch(Vx){}}}function Oh(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ic.clearTimeout(e.A),e.A=null)}function Rh(e){return e.g?e.g.readyState:0}function Lh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Th:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Yf){return null}}function Fh(e){let t="";return du(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fh(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qd(e,t,n))}function Bh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uh(e){this.Ga=0,this.j=[],this.l=new Zu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bh("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bh("baseRetryDelayMs",5e3,e),this.hb=Bh("retryDelaySeedMs",1e4,e),this.eb=Bh("forwardChannelMaxRetries",2,e),this.xa=Bh("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ah(e&&e.concurrentRequestLimit),this.Ja=new gh,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Vh(e){if(qh(e),3==e.H){var t=e.W++,n=Bd(e.I);if(qd(n,"SID",e.K),qd(n,"RID",t),qd(n,"TYPE","terminate"),Hh(e,n),(t=new bd(e,e.l,t)).L=2,t.A=Yd(Bd(n)),n=!1,Ic.navigator&&Ic.navigator.sendBeacon)try{n=Ic.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Ic.Image&&((new Image).src=t.A,n=!0),n||(t.g=of(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Pd(t)}nf(e)}function zh(e){e.g&&(Xh(e),e.g.cancel(),e.g=null)}function qh(e){zh(e),e.u&&(Ic.clearTimeout(e.u),e.u=null),$h(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ic.clearTimeout(e.m),e.m=null)}function Yh(e){if(!lh(e.i)&&!e.m){e.m=!0;var t=e.Na;Bu||zu(),Uu||(Bu(),Uu=!0),Vu.add(t,e),e.C=0}}function Wh(e,t){var n;n=t?t.m:e.W++;const r=Bd(e.I);qd(r,"SID",e.K),qd(r,"RID",n),qd(r,"AID",e.V),Hh(e,r),e.o&&e.s&&jh(r,e.o,e.s),n=new bd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Kh(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),dh(e.i,n),Id(n,r,t)}function Hh(e,t){e.na&&du(e.na,(function(e,n){qd(t,n,e)})),e.h&&Ld({},(function(e,n){qd(t,n,e)}))}function Kh(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ac(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{vh(s,e,"req"+n+"_")}catch(am){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Gh(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Bu||zu(),Uu||(Bu(),Uu=!0),Vu.add(t,e),e.A=0}}function Qh(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=cd(Ac(e.Ma,e),ef(e,e.A)),e.A++,!0)}function Xh(e){null!=e.B&&(Ic.clearTimeout(e.B),e.B=null)}function Jh(e){e.g=new bd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bd(e.wa);qd(t,"RID","rpc"),qd(t,"SID",e.K),qd(t,"AID",e.V),qd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&qd(t,"TO",e.qa),qd(t,"TYPE","xmlhttp"),Hh(e,t),e.o&&e.s&&jh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Yd(Bd(t)),n.u=null,n.S=!0,xd(n,e)}function $h(e){null!=e.v&&(Ic.clearTimeout(e.v),e.v=null)}function Zh(e,t){var n=null;if(e.g==t){$h(e),Xh(e),e.g=null;var r=2}else{if(!uh(e.i,t))return;n=t.F,hh(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Nu(r=rd(),new ld(r,n)),Yh(e)}else Gh(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ch(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=cd(Ac(e.Na,e,t),ef(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tf(e,5);break;case 4:tf(e,10);break;case 3:tf(e,6);break;default:tf(e,2)}}function ef(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function tf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ac(e.pb,e);n||(n=new jd("//www.google.com/images/cleardot.gif"),Ic.location&&"http"==Ic.location.protocol||Ud(n,"https"),Yd(n)),function(e,t){const n=new Zu;if(Ic.Image){const r=new Image;r.onload=Mc(yh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mc(yh,n,r,"TestLoadImage: error",!1,t),r.onabort=Mc(yh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mc(yh,n,r,"TestLoadImage: timeout",!1,t),Ic.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sd(2);e.H=0,e.h&&e.h.za(t),nf(e),qh(e)}function nf(e){if(e.H=0,e.ma=[],e.h){const t=fh(e.i);0==t.length&&0==e.j.length||(jc(e.ma,t),jc(e.ma,e.j),e.i.i.length=0,Fc(e.j),e.j.length=0),e.h.ya()}}function rf(e,t,n){var r=n instanceof jd?Bd(n):new jd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Vd(r,r.m);else{var i=Ic.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new jd(null);r&&Ud(o,r),t&&(o.g=t),i&&Vd(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&qd(r,n,t),qd(r,"VER",e.ra),Hh(e,r),r}function of(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new xh(new wh({ob:n})):new xh(e.va)).Oa(e.J),t}function af(){}function sf(){if(Gc&&!(10<=Number(iu)))throw Error("Environmental error: no available transport.")}function lf(e,t){Pu.call(this),this.g=new Uh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Vc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new df(this)}function cf(e){vd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uf(){yd.call(this),this.status=1}function df(e){this.g=e}function hf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ff(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function pf(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Sc=xh.prototype).Oa=function(e){this.M=e},Sc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():md.g(),this.C=this.u?fd(this.u):fd(md),this.g.onreadystatechange=Ac(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Ph(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Ic.FormData&&e instanceof Ic.FormData,!(0<=Lc(Dh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Oh(this),0<this.B&&((this.L=function(e){return Gc&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ac(this.ua,this)):this.A=Hu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ph(this,o)}},Sc.ua=function(){"undefined"!=typeof Ec&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nu(this,"timeout"),this.abort(8))},Sc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nu(this,"complete"),Nu(this,"abort"),Mh(this))},Sc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mh(this,!0)),xh.$.N.call(this)},Sc.La=function(){this.s||(this.G||this.v||this.l?Ah(this):this.kb())},Sc.kb=function(){Ah(this)},Sc.isActive=function(){return!!this.g},Sc.da=function(){try{return 2<Rh(this)?this.g.status:-1}catch(ph){return-1}},Sc.ja=function(){try{return this.g?this.g.responseText:""}catch(ph){return""}},Sc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ih(t)}},Sc.Ia=function(){return this.m},Sc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Sc=Uh.prototype).ra=8,Sc.H=1,Sc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new bd(this,this.l,e);let o=this.s;if(this.U&&(o?(o=hu(o),pu(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kh(this,i,t),qd(n=Bd(this.I),"RID",e),qd(n,"CVER",22),this.F&&qd(n,"X-HTTP-Session-Id",this.F),Hh(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Fh(o)))+"&"+t:this.o&&jh(n,this.o,o)),dh(this.i,i),this.bb&&qd(n,"TYPE","init"),this.P?(qd(n,"$req",t),qd(n,"SID","null"),i.aa=!0,Id(i,n,null)):Id(i,n,t),this.H=2}}else 3==this.H&&(e?Wh(this,e):0==this.j.length||lh(this.i)||Wh(this))},Sc.Ma=function(){if(this.u=null,Jh(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=cd(Ac(this.jb,this),e)}},Sc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sd(10),zh(this),Jh(this))},Sc.ib=function(){null!=this.v&&(this.v=null,zh(this),Qh(this),sd(19))},Sc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),sd(2)):(this.l.info("Failed to ping google.com"),sd(1))},Sc.isActive=function(){return!!this.h&&this.h.isActive(this)},(Sc=af.prototype).Ba=function(){},Sc.Aa=function(){},Sc.za=function(){},Sc.ya=function(){},Sc.isActive=function(){return!0},Sc.Va=function(){},sf.prototype.g=function(e,t){return new lf(e,t)},Oc(lf,Pu),lf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;sd(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rf(e,null,e.Y),Yh(e)},lf.prototype.close=function(){Vh(this.g)},lf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Mu(e),e=n);t.j.push(new oh(t.fb++,e)),3==t.H&&Yh(t)},lf.prototype.N=function(){this.g.h=null,delete this.j,Vh(this.g),delete this.g,lf.$.N.call(this)},Oc(cf,vd),Oc(uf,yd),Oc(df,af),df.prototype.Ba=function(){Nu(this.g,"a")},df.prototype.Aa=function(e){Nu(this.g,new cf(e))},df.prototype.za=function(e){Nu(this.g,new uf)},df.prototype.ya=function(){Nu(this.g,"b")},Oc(hf,(function(){this.blockSize=-1})),hf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)ff(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){ff(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){ff(this,r),i=0;break}}this.h=i,this.i+=t},hf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var mf={};function gf(e){return-128<=e&&128>e?function(e,t){var n=mf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new pf([0|e],0>e?-1:0)})):new pf([0|e],0>e?-1:0)}function vf(e){if(isNaN(e)||!isFinite(e))return wf;if(0>e)return Ef(vf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=yf;return new pf(t,0)}var yf=4294967296,wf=gf(0),bf=gf(1),Sf=gf(16777216);function kf(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function _f(e){return-1==e.h}function Ef(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new pf(n,~e.h).add(bf)}function If(e,t){return e.add(Ef(t))}function xf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tf(e,t){this.g=e,this.h=t}function Cf(e,t){if(kf(t))throw Error("division by zero");if(kf(e))return new Tf(wf,wf);if(_f(e))return t=Cf(Ef(e),t),new Tf(Ef(t.g),Ef(t.h));if(_f(t))return t=Cf(e,Ef(t)),new Tf(Ef(t.g),t.h);if(30<e.g.length){if(_f(e)||_f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bf,r=t;0>=r.X(e);)n=Df(n),r=Df(r);var i=Pf(n,1),o=Pf(r,1);for(r=Pf(r,2),n=Pf(n,2);!kf(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Pf(r,1),n=Pf(n,1)}return t=If(e,i.R(t)),new Tf(i,t)}for(i=wf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=vf(n)).R(t);_f(a)||0<a.X(e);)a=(o=vf(n-=r)).R(t);kf(o)&&(o=bf),i=i.add(o),e=If(e,a)}return new Tf(i,e)}function Df(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new pf(n,e.h)}function Pf(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new pf(i,e.h)}(Sc=pf.prototype).ea=function(){if(_f(this))return-Ef(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:yf+r)*t,t*=yf}return e},Sc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(kf(this))return"0";if(_f(this))return"-"+Ef(this).toString(e);for(var t=vf(Math.pow(e,6)),n=this,r="";;){var i=Cf(n,t).g,o=((0<(n=If(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(kf(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Sc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Sc.X=function(e){return _f(e=If(this,e))?-1:kf(e)?0:1},Sc.abs=function(){return _f(this)?Ef(this):this},Sc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new pf(n,-2147483648&n[n.length-1]?-1:0)},Sc.R=function(e){if(kf(this)||kf(e))return wf;if(_f(this))return _f(e)?Ef(this).R(Ef(e)):Ef(Ef(this).R(e));if(_f(e))return Ef(this.R(Ef(e)));if(0>this.X(Sf)&&0>e.X(Sf))return vf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,xf(n,2*r+2*i),n[2*r+2*i+1]+=o*l,xf(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,xf(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,xf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new pf(n,0)},Sc.gb=function(e){return Cf(this,e).h},Sc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new pf(n,this.h&e.h)},Sc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new pf(n,this.h|e.h)},Sc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new pf(n,this.h^e.h)},sf.prototype.createWebChannel=sf.prototype.g,lf.prototype.send=lf.prototype.u,lf.prototype.open=lf.prototype.m,lf.prototype.close=lf.prototype.close,ud.NO_ERROR=0,ud.TIMEOUT=8,ud.HTTP_ERROR=6,dd.COMPLETE="complete",pd.EventType=gd,gd.OPEN="a",gd.CLOSE="b",gd.ERROR="c",gd.MESSAGE="d",Pu.prototype.listen=Pu.prototype.O,xh.prototype.listenOnce=xh.prototype.P,xh.prototype.getLastError=xh.prototype.Sa,xh.prototype.getLastErrorCode=xh.prototype.Ia,xh.prototype.getStatus=xh.prototype.da,xh.prototype.getResponseJson=xh.prototype.Wa,xh.prototype.getResponseText=xh.prototype.ja,xh.prototype.send=xh.prototype.ha,xh.prototype.setWithCredentials=xh.prototype.Oa,hf.prototype.digest=hf.prototype.l,hf.prototype.reset=hf.prototype.reset,hf.prototype.update=hf.prototype.j,pf.prototype.add=pf.prototype.add,pf.prototype.multiply=pf.prototype.R,pf.prototype.modulo=pf.prototype.gb,pf.prototype.compare=pf.prototype.X,pf.prototype.toNumber=pf.prototype.ea,pf.prototype.toString=pf.prototype.toString,pf.prototype.getBits=pf.prototype.D,pf.fromNumber=vf,pf.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ef(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=vf(Math.pow(n,8)),i=wf,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=vf(Math.pow(n,a)),i=i.R(a).add(vf(s))):i=(i=i.R(r)).add(vf(s))}return i};var Nf=_c.createWebChannelTransport=function(){return new sf},Af=_c.getStatEventTarget=function(){return rd()},Mf=_c.ErrorCode=ud,Of=_c.EventType=dd,Rf=_c.Event=td,Lf=_c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ff=(_c.FetchXmlHttpFactory=wh,_c.WebChannel=pd),jf=_c.XhrIo=xh,Bf=_c.Md5=hf,Uf=_c.Integer=pf;const Vf="@firebase/firestore";class zf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zf.UNAUTHENTICATED=new zf(null),zf.GOOGLE_CREDENTIALS=new zf("google-credentials-uid"),zf.FIRST_PARTY=new zf("first-party-uid"),zf.MOCK_USER=new zf("mock-user");let qf="10.11.0";const Yf=new Vn("@firebase/firestore");function Wf(){return Yf.logLevel}function Hf(e){if(Yf.logLevel<=Ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qf);Yf.debug("Firestore (".concat(qf,"): ").concat(e),...i)}}function Kf(e){if(Yf.logLevel<=Ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qf);Yf.error("Firestore (".concat(qf,"): ").concat(e),...i)}}function Gf(e){if(Yf.logLevel<=Ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qf);Yf.warn("Firestore (".concat(qf,"): ").concat(e),...i)}}function Qf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Xf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(qf,") INTERNAL ASSERTION FAILED: ")+e;throw Kf(t),new Error(t)}function Jf(e,t){e||Xf()}function $f(e,t){return e}const Zf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ep extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class tp{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class np{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class rp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zf.UNAUTHENTICATED)))}shutdown(){}}class ip{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class op{constructor(e){this.t=e,this.currentUser=zf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new tp;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tp,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Hf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Hf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tp)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Hf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Jf("string"==typeof t.accessToken),new np(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jf(null===e||"string"==typeof e),new zf(e)}}class ap{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=zf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sp{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ap(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(zf.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cp{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Hf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Hf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Hf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Hf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Jf("string"==typeof e.token),this.R=e.token,new lp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function up(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=up(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function hp(e,t){return e<t?-1:e>t?1:0}function fp(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function pp(e){return e+"\0"}class mp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ep(Zf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ep(Zf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ep(Zf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ep(Zf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mp.fromMillis(Date.now())}static fromDate(e){return mp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new mp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hp(this.nanoseconds,e.nanoseconds):hp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gp(e)}static min(){return new gp(new mp(0,0))}static max(){return new gp(new mp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Xf(),void 0===n?n=e.length-t:n>e.length-t&&Xf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yp extends vp{construct(e,t,n){return new yp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ep(Zf.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new yp(e)}static emptyPath(){return new yp([])}}const wp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bp extends vp{construct(e,t,n){return new bp(e,t,n)}static isValidIdentifier(e){return wp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ep(Zf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ep(Zf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ep(Zf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ep(Zf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bp(t)}static emptyPath(){return new bp([])}}class Sp{constructor(e){this.path=e}static fromPath(e){return new Sp(yp.fromString(e))}static fromName(e){return new Sp(yp.fromString(e).popFirst(5))}static empty(){return new Sp(yp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sp(new yp(e.slice()))}}class kp{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function _p(e){return e.fields.find((e=>2===e.kind))}function Ep(e){return e.fields.filter((e=>2!==e.kind))}kp.UNKNOWN_ID=-1;class Ip{constructor(e,t){this.fieldPath=e,this.kind=t}}class xp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xp(0,Dp.min())}}function Tp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gp.fromTimestamp(1e9===r?new mp(n+1,0):new mp(n,r));return new Dp(i,Sp.empty(),t)}function Cp(e){return new Dp(e.readTime,e.key,-1)}class Dp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Dp(gp.min(),Sp.empty(),-1)}static max(){return new Dp(gp.max(),Sp.empty(),-1)}}function Pp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Sp.comparator(e.documentKey,t.documentKey),0!==n?n:hp(e.largestBatchId,t.largestBatchId))}const Np="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ap{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Mp(e){if(e.code!==Zf.FAILED_PRECONDITION||e.message!==Np)throw e;Hf("LocalStore","Unexpectedly lost primary lease")}class Op{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Op(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Op?t:Op.resolve(t)}catch(e){return Op.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Op.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Op.reject(t)}static resolve(e){return new Op(((t,n)=>{t(e)}))}static reject(e){return new Op(((t,n)=>{n(e)}))}static waitFor(e){return new Op(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Op.resolve(!1);for(const n of e)t=t.next((e=>e?Op.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Op(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Op(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Rp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new tp,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new jp(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=qp(t.target.error);this.V.reject(new jp(e,n))}}static open(e,t,n,r){try{return new Rp(t,e.transaction(r,n))}catch(e){throw new jp(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Hf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Up(t)}}class Lp{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Lp.S(un())&&Kf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hf("SimpleDb","Removing database:",e),Vp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!vn())return!1;if(Lp.C())return!0;const e=un(),t=Lp.S(e),n=0<t&&t<10,r=Lp.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Hf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new jp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ep(Zf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ep(Zf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new jp(e,r))},r.onupgradeneeded=e=>{Hf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Hf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Rp.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Op.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Hf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Fp{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Vp(this.k.delete())}}class jp extends ep{constructor(e,t){super(Zf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Bp(e){return"IndexedDbTransactionError"===e.name}class Up{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vp(n)}add(e){return Hf("SimpleDb","ADD",this.store.name,e,e),Vp(this.store.add(e))}get(e){return Vp(this.store.get(e)).next((t=>(void 0===t&&(t=null),Hf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Hf("SimpleDb","DELETE",this.store.name,e),Vp(this.store.delete(e))}count(){return Hf("SimpleDb","COUNT",this.store.name),Vp(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Op(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Op(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Hf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Op(((n,r)=>{t.onerror=e=>{const t=qp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Op(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Fp(i),a=t(i.primaryKey,i.value,o);if(a instanceof Op){const e=a.catch((e=>(o.done(),Op.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Op.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vp(e){return new Op(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=qp(e.target.error);n(t)}}))}let zp=!1;function qp(e){const t=Lp.S(un());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ep("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zp||(zp=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Yp{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Hf("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Hf("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Bp(e)?Hf("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Mp(e)}await this.ee(6e4)}))}}class Wp{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Op.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Hf("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Hf("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Cp(t);Pp(r,n)>0&&(n=r)})),new Dp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Hp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Kp(e){return null==e}function Gp(e){return 0===e&&1/e==-1/0}function Qp(e){return"number"==typeof e&&Number.isInteger(e)&&!Gp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Xp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$p(t)),t=Jp(e.get(n),t);return $p(t)}function Jp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function $p(e){return e+"\x01\x01"}function Zp(e){const t=e.length;if(Jf(t>=2),2===t)return Jf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),yp.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Xf(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Xf()}o=t+2}return new yp(r)}Hp._e=-1;const em=["userId","batchId"];function tm(e,t){return[e,Xp(t)]}function nm(e,t,n){return[e,Xp(t),n]}const rm={},im=["prefixPath","collectionGroup","readTime","documentId"],om=["prefixPath","collectionGroup","documentId"],am=["collectionGroup","readTime","prefixPath","documentId"],sm=["canonicalId","targetId"],lm=["targetId","path"],cm=["path","targetId"],um=["collectionId","parent"],dm=["indexId","uid"],hm=["uid","sequenceNumber"],fm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pm=["indexId","uid","orderedDocumentKey"],mm=["userId","collectionPath","documentId"],gm=["userId","collectionPath","largestBatchId"],vm=["userId","collectionGroup","largestBatchId"],ym=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wm=[...ym,"documentOverlays"],bm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sm=bm,km=[...Sm,"indexConfiguration","indexState","indexEntries"],_m=km;class Em extends Ap{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Im(e,t){const n=$f(e);return Lp.M(n.ae,t)}function xm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Dm{constructor(e,t){this.comparator=e,this.root=t||Nm.EMPTY}insert(e,t){return new Dm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nm.BLACK,null,null))}remove(e){return new Dm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Nm.RED,this.left=null!=r?r:Nm.EMPTY,this.right=null!=i?i:Nm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Nm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xf();if(this.right.isRed())throw Xf();const e=this.left.check();if(e!==this.right.check())throw Xf();return e+(this.isRed()?0:1)}}Nm.EMPTY=null,Nm.RED=!0,Nm.BLACK=!1,Nm.EMPTY=new class{constructor(){this.size=0}get key(){throw Xf()}get value(){throw Xf()}get color(){throw Xf()}get left(){throw Xf()}get right(){throw Xf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Nm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Am{constructor(e){this.comparator=e,this.data=new Dm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mm(this.data.getIterator())}getIteratorFrom(e){return new Mm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Am))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Am(this.comparator);return t.data=e,t}}class Mm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Om(e){return e.hasNext()?e.getNext():void 0}class Rm{constructor(e){this.fields=e,e.sort(bp.comparator)}static empty(){return new Rm([])}unionWith(e){let t=new Am(bp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Rm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fp(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Lm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Lm("Invalid base64 string: "+e):e}}(e);return new Fm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fm.EMPTY_BYTE_STRING=new Fm("");const jm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bm(e){if(Jf(!!e),"string"==typeof e){let t=0;const n=jm.exec(e);if(Jf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Um(e.seconds),nanos:Um(e.nanos)}}function Um(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vm(e){return"string"==typeof e?Fm.fromBase64String(e):Fm.fromUint8Array(e)}function zm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qm(e){const t=e.mapValue.fields.__previous_value__;return zm(t)?qm(t):t}function Ym(e){const t=Bm(e.mapValue.fields.__local_write_time__.timestampValue);return new mp(t.seconds,t.nanos)}class Wm{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Hm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hm&&e.projectId===this.projectId&&e.database===this.database}}const Km={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gm={nullValue:"NULL_VALUE"};function Qm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zm(e)?4:cg(e)?9007199254740991:10:Xf()}function Xm(e,t){if(e===t)return!0;const n=Qm(e);if(n!==Qm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ym(e).isEqual(Ym(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Bm(e.timestampValue),r=Bm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vm(e.bytesValue).isEqual(Vm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Um(e.geoPointValue.latitude)===Um(t.geoPointValue.latitude)&&Um(e.geoPointValue.longitude)===Um(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Um(e.integerValue)===Um(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Um(e.doubleValue),r=Um(t.doubleValue);return n===r?Gp(n)===Gp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fp(e.arrayValue.values||[],t.arrayValue.values||[],Xm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xm(n)!==xm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xm(n[i],r[i])))return!1;return!0}(e,t);default:return Xf()}}function Jm(e,t){return void 0!==(e.values||[]).find((e=>Xm(e,t)))}function $m(e,t){if(e===t)return 0;const n=Qm(e),r=Qm(t);if(n!==r)return hp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Um(e.integerValue||e.doubleValue),r=Um(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zm(e.timestampValue,t.timestampValue);case 4:return Zm(Ym(e),Ym(t));case 5:return hp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vm(e),r=Vm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hp(n[i],r[i]);if(0!==e)return e}return hp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hp(Um(e.latitude),Um(t.latitude));return 0!==n?n:hp(Um(e.longitude),Um(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$m(n[i],r[i]);if(e)return e}return hp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Km.mapValue&&t===Km.mapValue)return 0;if(e===Km.mapValue)return 1;if(t===Km.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=hp(r[a],o[a]);if(0!==e)return e;const t=$m(n[r[a]],i[o[a]]);if(0!==t)return t}return hp(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Xf()}}function Zm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hp(e,t);const n=Bm(e),r=Bm(t),i=hp(n.seconds,r.seconds);return 0!==i?i:hp(n.nanos,r.nanos)}function eg(e){return tg(e)}function tg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Bm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Sp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=tg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(tg(e.fields[i]));return n+"}"}(e.mapValue):Xf()}function ng(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function rg(e){return!!e&&"integerValue"in e}function ig(e){return!!e&&"arrayValue"in e}function og(e){return!!e&&"nullValue"in e}function ag(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sg(e){return!!e&&"mapValue"in e}function lg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Tm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=lg(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ug(e){return"nullValue"in e?Gm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ng(Hm.empty(),Sp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xf()}function dg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ng(Hm.empty(),Sp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Km:Xf()}function hg(e,t){const n=$m(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function fg(e,t){const n=$m(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class pg{constructor(e){this.value=e}static empty(){return new pg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!sg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lg(t)}setAll(e){let t=bp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=lg(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());sg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];sg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Tm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new pg(lg(this.value))}}function mg(e){const t=[];return Tm(e.fields,((e,n)=>{const r=new bp([e]);if(sg(n)){const e=mg(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Rm(t)}class gg{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gg(e,0,gp.min(),gp.min(),gp.min(),pg.empty(),0)}static newFoundDocument(e,t,n,r){return new gg(e,1,t,gp.min(),n,r,0)}static newNoDocument(e,t){return new gg(e,2,t,gp.min(),gp.min(),pg.empty(),0)}static newUnknownDocument(e,t){return new gg(e,3,t,gp.min(),gp.min(),pg.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class vg{constructor(e,t){this.position=e,this.inclusive=t}}function yg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Sp.comparator(Sp.fromName(a.referenceValue),n.key):$m(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function wg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xm(e.position[n],t.position[n]))return!1;return!0}class bg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Sg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class kg{}class _g extends kg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Mg(e,t,n):"array-contains"===t?new Fg(e,n):"in"===t?new jg(e,n):"not-in"===t?new Bg(e,n):"array-contains-any"===t?new Ug(e,n):new _g(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Og(e,n):new Rg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($m(t,this.value)):null!==t&&Qm(this.value)===Qm(t)&&this.matchesComparison($m(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Eg extends kg{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Eg(e,t)}matches(e){return Ig(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ig(e){return"and"===e.op}function xg(e){return"or"===e.op}function Tg(e){return Cg(e)&&Ig(e)}function Cg(e){for(const t of e.filters)if(t instanceof Eg)return!1;return!0}function Dg(e){if(e instanceof _g)return e.field.canonicalString()+e.op.toString()+eg(e.value);if(Tg(e))return e.filters.map((e=>Dg(e))).join(",");{const t=e.filters.map((e=>Dg(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Pg(e,t){return e instanceof _g?function(e,t){return t instanceof _g&&e.op===t.op&&e.field.isEqual(t.field)&&Xm(e.value,t.value)}(e,t):e instanceof Eg?function(e,t){return t instanceof Eg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Pg(n,t.filters[r])),!0)}(e,t):void Xf()}function Ng(e,t){const n=e.filters.concat(t);return Eg.create(n,e.op)}function Ag(e){return e instanceof _g?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(eg(e.value))}(e):e instanceof Eg?function(e){return e.op.toString()+" {"+e.getFilters().map(Ag).join(" ,")+"}"}(e):"Filter"}class Mg extends _g{constructor(e,t,n){super(e,t,n),this.key=Sp.fromName(n.referenceValue)}matches(e){const t=Sp.comparator(e.key,this.key);return this.matchesComparison(t)}}class Og extends _g{constructor(e,t){super(e,"in",t),this.keys=Lg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Rg extends _g{constructor(e,t){super(e,"not-in",t),this.keys=Lg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Lg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Sp.fromName(e.referenceValue)))}class Fg extends _g{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&Jm(t.arrayValue,this.value)}}class jg extends _g{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jm(this.value.arrayValue,t)}}class Bg extends _g{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jm(this.value.arrayValue,t)}}class Ug extends _g{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Jm(this.value.arrayValue,e)))}}class Vg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function zg(e){return new Vg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qg(e){const t=$f(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Dg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Kp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>eg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>eg(e))).join(",")),t.ce=e}return t.ce}function Yg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Pg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wg(e.startAt,t.startAt)&&wg(e.endAt,t.endAt)}function Wg(e){return Sp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hg(e,t){return e.filters.filter((e=>e instanceof _g&&e.field.isEqual(t)))}function Kg(e,t,n){let r=Gm,i=!0;for(const o of Hg(e,t)){let e=Gm,t=!0;switch(o.op){case"<":case"<=":e=ug(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Gm}hg({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];hg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Gg(e,t,n){let r=Km,i=!0;for(const o of Hg(e,t)){let e=Km,t=!0;switch(o.op){case">=":case">":e=dg(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Km}fg({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];fg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Qg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Xg(e,t,n,r,i,o,a,s){return new Qg(e,t,n,r,i,o,a,s)}function Jg(e){return new Qg(e)}function $g(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zg(e){return null!==e.collectionGroup}function ev(e){const t=$f(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Am(bp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new bg(r,n))})),e.has(bp.keyField().canonicalString())||t.le.push(new bg(bp.keyField(),n))}return t.le}function tv(e){const t=$f(e);return t.he||(t.he=nv(t,ev(e))),t.he}function nv(e,t){if("F"===e.limitType)return zg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new bg(e.field,t)}));const n=e.endAt?new vg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vg(e.startAt.position,e.startAt.inclusive):null;return zg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function rv(e,t){const n=e.filters.concat([t]);return new Qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function iv(e,t,n){return new Qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ov(e,t){return Yg(tv(e),tv(t))&&e.limitType===t.limitType}function av(e){return"".concat(qg(tv(e)),"|lt:").concat(e.limitType)}function sv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ag(e))).join(", "),"]")),Kp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>eg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>eg(e))).join(",")),"Target(".concat(t,")")}(tv(e)),"; limitType=").concat(e.limitType,")")}function lv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ev(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=yg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ev(e),t))&&!(e.endAt&&!function(e,t,n){const r=yg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ev(e),t))}(e,t)}function cv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uv(e){return(t,n)=>{let r=!1;for(const i of ev(e)){const e=dv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function dv(e,t,n){const r=e.field.isKeyField()?Sp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$m(r,i):Xf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xf()}}class hv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Cm(this.inner)}size(){return this.innerSize}}const fv=new Dm(Sp.comparator);function pv(){return fv}const mv=new Dm(Sp.comparator);function gv(){let e=mv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function vv(e){let t=mv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function yv(){return bv()}function wv(){return bv()}function bv(){return new hv((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Sv=new Dm(Sp.comparator),kv=new Am(Sp.comparator);function _v(){let e=kv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ev=new Am(hp);function Iv(){return Ev}function xv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(t)?"-0":t}}function Tv(e){return{integerValue:""+e}}function Cv(e,t){return Qp(t)?Tv(t):xv(e,t)}class Dv{constructor(){this._=void 0}}function Pv(e,t,n){return e instanceof Mv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zm(t)&&(t=qm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ov?Rv(e,t):e instanceof Lv?Fv(e,t):function(e,t){const n=Av(e,t),r=Bv(n)+Bv(e.Ie);return rg(n)&&rg(e.Ie)?Tv(r):xv(e.serializer,r)}(e,t)}function Nv(e,t,n){return e instanceof Ov?Rv(e,t):e instanceof Lv?Fv(e,t):n}function Av(e,t){return e instanceof jv?function(e){return rg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Mv extends Dv{}class Ov extends Dv{constructor(e){super(),this.elements=e}}function Rv(e,t){const n=Uv(t);for(const r of e.elements)n.some((e=>Xm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Lv extends Dv{constructor(e){super(),this.elements=e}}function Fv(e,t){let n=Uv(t);for(const r of e.elements)n=n.filter((e=>!Xm(e,r)));return{arrayValue:{values:n}}}class jv extends Dv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Bv(e){return Um(e.integerValue||e.doubleValue)}function Uv(e){return ig(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Vv{constructor(e,t){this.field=e,this.transform=t}}class zv{constructor(e,t){this.version=e,this.transformResults=t}}class qv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qv}static exists(e){return new qv(void 0,e)}static updateTime(e){return new qv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wv{}function Hv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ny(e.key,qv.none()):new Jv(e.key,e.data,qv.none());{const n=e.data,r=pg.empty();let i=new Am(bp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $v(e.key,r,new Rm(i.toArray()),qv.none())}}function Kv(e,t,n){e instanceof Jv?function(e,t,n){const r=e.value.clone(),i=ey(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $v?function(e,t,n){if(!Yv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ey(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gv(e,t,n,r){return e instanceof Jv?function(e,t,n,r){if(!Yv(e.precondition,t))return n;const i=e.value.clone(),o=ty(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $v?function(e,t,n,r){if(!Yv(e.precondition,t))return n;const i=ty(e.fieldTransforms,r,t),o=t.data;return o.setAll(Zv(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Yv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Qv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Av(r.transform,e||null);null!=i&&(null===n&&(n=pg.empty()),n.set(r.field,i))}return n||null}function Xv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fp(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ov&&t instanceof Ov||e instanceof Lv&&t instanceof Lv?fp(e.elements,t.elements,Xm):e instanceof jv&&t instanceof jv?Xm(e.Ie,t.Ie):e instanceof Mv&&t instanceof Mv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Jv extends Wv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $v extends Wv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ey(e,t,n){const r=new Map;Jf(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Nv(a,s,n[i]))}return r}function ty(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Pv(e,o,t))}return r}class ny extends Wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ry extends Wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iy{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Kv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Gv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Gv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=wv();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Hv(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(gp.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_v())}isEqual(e){return this.batchId===e.batchId&&fp(this.mutations,e.mutations,((e,t)=>Xv(e,t)))&&fp(this.baseMutations,e.baseMutations,((e,t)=>Xv(e,t)))}}class oy{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Jf(e.mutations.length===n.length);let r=Sv;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new oy(e,t,n,r)}}class ay{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class sy{constructor(e,t){this.count=e,this.unchangedNames=t}}var ly,cy;function uy(e){switch(e){default:return Xf();case Zf.CANCELLED:case Zf.UNKNOWN:case Zf.DEADLINE_EXCEEDED:case Zf.RESOURCE_EXHAUSTED:case Zf.INTERNAL:case Zf.UNAVAILABLE:case Zf.UNAUTHENTICATED:return!1;case Zf.INVALID_ARGUMENT:case Zf.NOT_FOUND:case Zf.ALREADY_EXISTS:case Zf.PERMISSION_DENIED:case Zf.FAILED_PRECONDITION:case Zf.ABORTED:case Zf.OUT_OF_RANGE:case Zf.UNIMPLEMENTED:case Zf.DATA_LOSS:return!0}}function dy(e){if(void 0===e)return Kf("GRPC error has no .code"),Zf.UNKNOWN;switch(e){case ly.OK:return Zf.OK;case ly.CANCELLED:return Zf.CANCELLED;case ly.UNKNOWN:return Zf.UNKNOWN;case ly.DEADLINE_EXCEEDED:return Zf.DEADLINE_EXCEEDED;case ly.RESOURCE_EXHAUSTED:return Zf.RESOURCE_EXHAUSTED;case ly.INTERNAL:return Zf.INTERNAL;case ly.UNAVAILABLE:return Zf.UNAVAILABLE;case ly.UNAUTHENTICATED:return Zf.UNAUTHENTICATED;case ly.INVALID_ARGUMENT:return Zf.INVALID_ARGUMENT;case ly.NOT_FOUND:return Zf.NOT_FOUND;case ly.ALREADY_EXISTS:return Zf.ALREADY_EXISTS;case ly.PERMISSION_DENIED:return Zf.PERMISSION_DENIED;case ly.FAILED_PRECONDITION:return Zf.FAILED_PRECONDITION;case ly.ABORTED:return Zf.ABORTED;case ly.OUT_OF_RANGE:return Zf.OUT_OF_RANGE;case ly.UNIMPLEMENTED:return Zf.UNIMPLEMENTED;case ly.DATA_LOSS:return Zf.DATA_LOSS;default:return Xf()}}(cy=ly||(ly={}))[cy.OK=0]="OK",cy[cy.CANCELLED=1]="CANCELLED",cy[cy.UNKNOWN=2]="UNKNOWN",cy[cy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cy[cy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cy[cy.NOT_FOUND=5]="NOT_FOUND",cy[cy.ALREADY_EXISTS=6]="ALREADY_EXISTS",cy[cy.PERMISSION_DENIED=7]="PERMISSION_DENIED",cy[cy.UNAUTHENTICATED=16]="UNAUTHENTICATED",cy[cy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cy[cy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cy[cy.ABORTED=10]="ABORTED",cy[cy.OUT_OF_RANGE=11]="OUT_OF_RANGE",cy[cy.UNIMPLEMENTED=12]="UNIMPLEMENTED",cy[cy.INTERNAL=13]="INTERNAL",cy[cy.UNAVAILABLE=14]="UNAVAILABLE",cy[cy.DATA_LOSS=15]="DATA_LOSS";let hy=null;function fy(){return new TextEncoder}const py=new Uf([4294967295,4294967295],0);function my(e){const t=fy().encode(e),n=new Bf;return n.update(t),new Uint8Array(n.digest())}function gy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Uf([n,r],0),new Uf([i,o],0)]}class vy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yy("Invalid padding: ".concat(t));if(n<0)throw new yy("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new yy("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new yy("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Uf.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Uf.fromNumber(n)));return 1===r.compare(py)&&(r=new Uf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=my(e),[n,r]=gy(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vy(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=my(e),[n,r]=gy(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wy{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,by.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wy(gp.min(),r,new Dm(hp),pv(),_v())}}class by{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new by(n,t,_v(),_v(),_v())}}class Sy{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class ky{constructor(e,t){this.targetId=e,this.fe=t}}class _y{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ey{constructor(){this.ge=0,this.pe=Ty(),this.ye=Fm.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_v(),t=_v(),n=_v();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xf()}})),new by(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Ty()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Jf(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Iy{constructor(e){this.Be=e,this.ke=new Map,this.qe=pv(),this.Qe=xy(),this.Ke=new Dm(hp)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Xf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Wg(i))if(0===n){const e=new Sp(i.path);this.We(t,e,gg.newNoDocument(e,gp.min()))}else Jf(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==hy||hy.tt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Vm(n).toUint8Array()}catch(e){if(e instanceof Lm)return Gf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new vy(o,r,i)}catch(e){return Gf(e instanceof yy?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Wg(i.target)){const t=new Sp(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,gg.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=_v();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new wy(e,t,this.Ke,this.qe,n);return this.qe=pv(),this.Qe=xy(),this.Ke=new Dm(hp),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ey,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Am(hp),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Hf("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Ey),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function xy(){return new Dm(Sp.comparator)}function Ty(){return new Dm(Sp.comparator)}const Cy={asc:"ASCENDING",desc:"DESCENDING"},Dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Py={and:"AND",or:"OR"};class Ny{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ay(e,t){return e.useProto3Json||Kp(t)?t:{value:t}}function My(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Oy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ry(e,t){return My(e,t.toTimestamp())}function Ly(e){return Jf(!!e),gp.fromTimestamp(function(e){const t=Bm(e);return new mp(t.seconds,t.nanos)}(e))}function Fy(e,t){return jy(e,t).canonicalString()}function jy(e,t){const n=function(e){return new yp(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function By(e){const t=yp.fromString(e);return Jf(sw(t)),t}function Uy(e,t){return Fy(e.databaseId,t.path)}function Vy(e,t){const n=By(t);if(n.get(1)!==e.databaseId.projectId)throw new ep(Zf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ep(Zf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sp(Wy(n))}function zy(e,t){return Fy(e.databaseId,t)}function qy(e){const t=By(e);return 4===t.length?yp.emptyPath():Wy(t)}function Yy(e){return new yp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wy(e){return Jf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hy(e,t,n){return{name:Uy(e,t),fields:n.value.mapValue.fields}}function Ky(e,t,n){const r=Vy(e,t.name),i=Ly(t.updateTime),o=t.createTime?Ly(t.createTime):gp.min(),a=new pg({mapValue:{fields:t.fields}}),s=gg.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Gy(e,t){let n;if(t instanceof Jv)n={update:Hy(e,t.key,t.value)};else if(t instanceof ny)n={delete:Uy(e,t.key)};else if(t instanceof $v)n={update:Hy(e,t.key,t.data),updateMask:aw(t.fieldMask)};else{if(!(t instanceof ry))return Xf();n={verify:Uy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Mv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ov)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Xf()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ry(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xf()}(e,t.precondition)),n}function Qy(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?qv.updateTime(Ly(e.updateTime)):void 0!==e.exists?qv.exists(e.exists):qv.none()}(t.currentDocument):qv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Jf("REQUEST_TIME"===t.setToServerValue),n=new Mv;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ov(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Lv(e)}else"increment"in t?n=new jv(e,t.increment):Xf();const r=bp.fromServerFormat(t.fieldPath);return new Vv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Vy(e,t.update.name),o=new pg({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Rm(t.map((e=>bp.fromServerFormat(e))))}(t.updateMask);return new $v(i,o,e,n,r)}return new Jv(i,o,n,r)}if(t.delete){const r=Vy(e,t.delete);return new ny(r,n)}if(t.verify){const r=Vy(e,t.verify);return new ry(r,n)}return Xf()}function Xy(e,t){return{documents:[zy(e,t.path)]}}function Jy(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zy(e,i);const o=function(e){if(0!==e.length)return ow(Eg.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:rw(e.field),direction:ew(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Ay(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function $y(e){let t=qy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Zy(e);return t instanceof Eg&&Tg(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new bg(iw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Kp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vg(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vg(n,t)}(n.endAt)),Xg(t,i,a,o,s,"F",l,c)}function Zy(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=iw(e.unaryFilter.field);return _g.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=iw(e.unaryFilter.field);return _g.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iw(e.unaryFilter.field);return _g.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=iw(e.unaryFilter.field);return _g.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xf()}}(e):void 0!==e.fieldFilter?function(e){return _g.create(iw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Eg.create(e.compositeFilter.filters.map((e=>Zy(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xf()}}(e.compositeFilter.op))}(e):Xf()}function ew(e){return Cy[e]}function tw(e){return Dy[e]}function nw(e){return Py[e]}function rw(e){return{fieldPath:e.canonicalString()}}function iw(e){return bp.fromServerFormat(e.fieldPath)}function ow(e){return e instanceof _g?function(e){if("=="===e.op){if(ag(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NAN"}};if(og(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ag(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NOT_NAN"}};if(og(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rw(e.field),op:tw(e.op),value:e.value}}}(e):e instanceof Eg?function(e){const t=e.getFilters().map((e=>ow(e)));return 1===t.length?t[0]:{compositeFilter:{op:nw(e.op),filters:t}}}(e):Xf()}function aw(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function sw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class lw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gp.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fm.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new lw(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lw(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cw{constructor(e){this.ct=e}}function uw(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Uy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:My(e,t.version.toTimestamp()),createTime:My(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hw(t.version)};else{if(!t.isUnknownDocument())return Xf();r.unknownDocument={path:n.path.toArray(),version:hw(t.version)}}return r}function dw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hw(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fw(e){const t=new mp(e.seconds,e.nanoseconds);return gp.fromTimestamp(t)}function pw(e,t){const n=(t.baseMutations||[]).map((t=>Qy(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Qy(e.ct,t))),i=mp.fromMillis(t.localWriteTimeMs);return new iy(t.batchId,i,n,r)}function mw(e){const t=fw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?fw(e.lastLimboFreeSnapshotVersion):gp.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Jf(1===e.documents.length),tv(Jg(qy(e.documents[0])))}(e.query):function(e){return tv($y(e))}(e.query),new lw(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Fm.fromBase64String(e.resumeToken))}function gw(e,t){const n=hw(t.snapshotVersion),r=hw(t.lastLimboFreeSnapshotVersion);let i;i=Wg(t.target)?Xy(e.ct,t.target):Jy(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qg(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function vw(e){const t=$y({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iv(t,t.limit,"L"):t}function yw(e,t){return new ay(t.largestBatchId,Qy(e.ct,t.overlayMutation))}function ww(e,t){const n=t.path.lastSegment();return[e,Xp(t.path.popLast()),n]}function bw(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:hw(r.readTime),documentKey:Xp(r.documentKey.path),largestBatchId:r.largestBatchId}}class Sw{getBundleMetadata(e,t){return kw(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:fw(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return kw(e).put(function(e){return{bundleId:e.id,createTime:hw(Ly(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return _w(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:vw(e.bundledQuery),readTime:fw(e.readTime)}}(e)}))}saveNamedQuery(e,t){return _w(e).put(function(e){return{name:e.name,readTime:hw(Ly(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function kw(e){return Im(e,"bundles")}function _w(e){return Im(e,"namedQueries")}class Ew{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Ew(e,n)}getOverlay(e,t){return Iw(e).get(ww(this.userId,t)).next((e=>e?yw(this.serializer,e):null))}getOverlays(e,t){const n=yv();return Op.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new ay(t,i);r.push(this.ht(e,o))})),Op.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Xp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Iw(e).H("collectionPathOverlayIndex",r))})),Op.waitFor(i)}getOverlaysForCollection(e,t,n){const r=yv(),i=Xp(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Iw(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=yw(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=yv();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iw(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=yw(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Iw(e).put(function(e,t,n){const[r,i,o]=ww(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Gy(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Iw(e){return Im(e,"documentOverlays")}class xw{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Um(e.integerValue));else if("doubleValue"in e){const n=Um(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Gp(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Bm(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Vm(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?cg(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Xf()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Sp.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Tw(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Cw(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Tw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}xw.bt=new xw;class Dw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=Cw(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=Cw(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Pw{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Nw{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Aw{constructor(){this.Gt=new Dw,this.zt=new Pw(this.Gt),this.jt=new Nw(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Mw{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Mw(this.indexId,this.documentKey,this.arrayValue,n)}}function Ow(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Rw(e.arrayValue,t.arrayValue),0!==n?n:(n=Rw(e.directionalValue,t.directionalValue),0!==n?n:Sp.comparator(e.documentKey,t.documentKey)))}function Rw(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Lw{constructor(e){this.Yt=new Am(((e,t)=>bp.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Jf(e.collectionGroup===this.collectionId),this.en)return!1;const t=_p(e);if(void 0!==t&&!this.nn(t))return!1;const n=Ep(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new Am(bp.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ip(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ip(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ip(n.field,"asc"===n.dir?0:1)));return new kp(kp.UNKNOWN_ID,this.collectionId,t,xp.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Fw(e){var t,n;if(Jf(e instanceof _g||e instanceof Eg),e instanceof _g){if(e instanceof jg){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>_g.create(e.field,"==",t))))||[];return Eg.create(r,"or")}return e}const r=e.filters.map((e=>Fw(e)));return Eg.create(r,e.op)}function jw(e){if(0===e.getFilters().length)return[];const t=zw(Fw(e));return Jf(Vw(t)),Bw(t)||Uw(t)?[t]:t.getFilters()}function Bw(e){return e instanceof _g}function Uw(e){return e instanceof Eg&&Tg(e)}function Vw(e){return Bw(e)||Uw(e)||function(e){if(e instanceof Eg&&xg(e)){for(const t of e.getFilters())if(!Bw(t)&&!Uw(t))return!1;return!0}return!1}(e)}function zw(e){if(Jf(e instanceof _g||e instanceof Eg),e instanceof _g)return e;if(1===e.filters.length)return zw(e.filters[0]);const t=e.filters.map((e=>zw(e)));let n=Eg.create(t,e.op);return n=Ww(n),Vw(n)?n:(Jf(n instanceof Eg),Jf(Ig(n)),Jf(n.filters.length>1),n.filters.reduce(((e,t)=>qw(e,t))))}function qw(e,t){let n;return Jf(e instanceof _g||e instanceof Eg),Jf(t instanceof _g||t instanceof Eg),n=e instanceof _g?t instanceof _g?function(e,t){return Eg.create([e,t],"and")}(e,t):Yw(e,t):t instanceof _g?Yw(t,e):function(e,t){if(Jf(e.filters.length>0&&t.filters.length>0),Ig(e)&&Ig(t))return Ng(e,t.getFilters());const n=xg(e)?e:t,r=xg(e)?t:e,i=n.filters.map((e=>qw(e,r)));return Eg.create(i,"or")}(e,t),Ww(n)}function Yw(e,t){if(Ig(t))return Ng(t,e.getFilters());{const n=t.filters.map((t=>qw(e,t)));return Eg.create(n,"or")}}function Ww(e){if(Jf(e instanceof _g||e instanceof Eg),e instanceof _g)return e;const t=e.getFilters();if(1===t.length)return Ww(t[0]);if(Cg(e))return e;const n=t.map((e=>Ww(e))),r=[];return n.forEach((t=>{t instanceof _g?r.push(t):t instanceof Eg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Eg.create(r,e.op)}class Hw{constructor(){this._n=new Kw}addToCollectionParentIndex(e,t){return this._n.add(t),Op.resolve()}getCollectionParents(e,t){return Op.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Op.resolve()}deleteFieldIndex(e,t){return Op.resolve()}deleteAllFieldIndexes(e){return Op.resolve()}createTargetIndexes(e,t){return Op.resolve()}getDocumentsMatchingTarget(e,t){return Op.resolve(null)}getIndexType(e,t){return Op.resolve(0)}getFieldIndexes(e,t){return Op.resolve([])}getNextCollectionGroupToUpdate(e){return Op.resolve(null)}getMinOffset(e,t){return Op.resolve(Dp.min())}getMinOffsetFromCollectionGroup(e,t){return Op.resolve(Dp.min())}updateCollectionGroup(e,t,n){return Op.resolve()}updateIndexEntries(e,t){return Op.resolve()}}class Kw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Am(yp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Am(yp.comparator)).toArray()}}const Gw=new Uint8Array(0);class Qw{constructor(e,t){this.databaseId=t,this.an=new Kw,this.un=new hv((e=>qg(e)),((e,t)=>Yg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Xp(r)};return Xw(e).put(i)}return Op.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[pp(t),""],!1,!0);return Xw(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Zp(r.parent))}return n}))}addFieldIndex(e,t){const n=$w(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Zw(e);return i.next((e=>{n.put(bw(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=$w(e),r=Zw(e),i=Jw(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=$w(e),n=Jw(e),r=Zw(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Op.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Lw(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Jw(e);let r=!0;const i=new Map;return Op.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=_v();const r=[];return Op.forEach(i,((i,o)=>{Hf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(qg(t)));const a=function(e,t){const n=_p(t);if(void 0===n)return null;for(const r of Hg(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of Ep(t))for(const t of Hg(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Ep(t)){const t=0===i.kind?Kg(e,i.fieldPath,e.startAt):Gg(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new vg(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Ep(t)){const t=0===i.kind?Gg(e,i.fieldPath,e.endAt):Kg(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new vg(n,r)}(o,i),u=this.hn(i,o,l),d=this.hn(i,o,c),h=this.Pn(i,o,s),f=this.In(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return Op.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Sp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Op.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:jw(Eg.create(e.filters,"and")).map((t=>zg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.Tn(t[u/l]):Gw,d=this.En(e,s,n[u%l],r),h=this.dn(e,s,i[u%l],o),f=a.map((t=>this.En(e,s,t,!0)));c.push(...this.createRange(d,h,f))}return c}En(e,t,n,r){const i=new Mw(e,Sp.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Mw(e,Sp.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Lw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Op.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Am(bp.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Aw;for(const r of Ep(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);xw.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Aw;return xw.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Aw;return xw.bt.Pt(ng(this.databaseId,t),n.Ht(function(e){const t=Ep(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Aw);let i=0;for(const o of Ep(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&ig(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);xw.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Aw;n.seed(e.Wt()),xw.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof _g&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=$w(e),r=Zw(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Op.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new xp(t.sequenceNumber,new Dp(fw(t.readTime),new Sp(Zp(t.documentKey)),t.largestBatchId)):xp.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Ip(bp.fromServerFormat(t),n)}));return new kp(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:hp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=$w(e),i=Zw(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Op.forEach(t,(t=>i.put(bw(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Op.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Op.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Op.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Op.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Jw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Jw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Jw(e);let i=new Am(Ow);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Mw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Am(Ow);const r=this.An(t,e);if(null==r)return n;const i=_p(t);if(null!=i){const o=e.data.field(i.fieldPath);if(ig(o))for(const i of o.arrayValue.values||[])n=n.add(new Mw(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Mw(t.indexId,e.key,Gw,r));return n}wn(e,t,n,r,i){Hf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Om(o),l=Om(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=Om(a)):t?(i(s),s=Om(o)):(s=Om(o),l=Om(a))}}(r,i,Ow,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),Op.waitFor(o)}gn(e){let t=1;return Zw(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Ow(e,t))).filter(((e,t,n)=>!t||0!==Ow(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Ow(o,e),i=Ow(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Gw,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Gw,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Ow(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(eb)}getMinOffset(e,t){return Op.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Xf())))).next(eb)}}function Xw(e){return Im(e,"collectionParents")}function Jw(e){return Im(e,"indexEntries")}function $w(e){return Im(e,"indexConfiguration")}function Zw(e){return Im(e,"indexState")}function eb(e){Jf(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Pp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dp(t.readTime,t.documentKey,n)}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new nb(e,nb.DEFAULT_COLLECTION_PERCENTILE,nb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rb(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.Y({range:a},((e,t,n)=>(s++,n.delete())));o.push(l.next((()=>{Jf(1===s)})));const c=[];for(const u of n.mutations){const e=nm(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Op.waitFor(o).next((()=>c))}function ib(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xf();t=e.noDocument}return JSON.stringify(t).length}nb.DEFAULT_COLLECTION_PERCENTILE=10,nb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nb.DEFAULT=new nb(41943040,nb.DEFAULT_COLLECTION_PERCENTILE,nb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nb.DISABLED=new nb(-1,0,0);class ob{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Jf(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ob(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sb(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=lb(e),o=sb(e);return o.add({}).next((a=>{Jf("number"==typeof a);const s=new iy(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Gy(e.ct,t))),i=n.mutations.map((t=>Gy(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new Am(((e,t)=>hp(e.canonicalString(),t.canonicalString())));for(const e of r){const t=nm(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,rm))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=s.keys()})),Op.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return sb(e).get(t).next((e=>e?(Jf(e.userId===this.userId),pw(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Op.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return sb(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Jf(t.batchId>=n),i=pw(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return sb(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sb(e).W("userMutationsIndex",t).next((e=>e.map((e=>pw(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=tm(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return lb(e).Y({range:r},((n,r,o)=>{const[a,s,l]=n,c=Zp(s);if(a===this.userId&&t.path.isEqual(c))return sb(e).get(l).next((e=>{if(!e)throw Xf();Jf(e.userId===this.userId),i.push(pw(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Am(hp);const r=[];return t.forEach((t=>{const i=tm(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=lb(e).Y({range:o},((e,r,i)=>{const[o,a,s]=e,l=Zp(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()}));r.push(a)})),Op.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=tm(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new Am(hp);return lb(e).Y({range:o},((e,t,i)=>{const[o,s,l]=e,c=Zp(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(sb(e).get(t).next((e=>{if(null===e)throw Xf();Jf(e.userId===this.userId),n.push(pw(this.serializer,e))})))})),Op.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return rb(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Op.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Op.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return lb(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Zp(e[1]);r.push(t)}else n.done()})).next((()=>{Jf(0===r.length)}))}))}containsKey(e,t){return ab(e,this.userId,t)}xn(e){return cb(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ab(e,t,n){const r=tm(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return lb(e).Y({range:o,J:!0},((e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function sb(e){return Im(e,"mutations")}function lb(e){return Im(e,"documentMutations")}function cb(e){return Im(e,"mutationQueues")}class ub{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ub(0)}static Ln(){return new ub(-1)}}class db{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new ub(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>gp.fromTimestamp(new mp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>hb(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Jf(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return hb(e).Y(((o,a)=>{const s=mw(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>Op.waitFor(i))).next((()=>r))}forEachTarget(e,t){return hb(e).Y(((e,n)=>{const r=mw(n);t(r)}))}Bn(e){return fb(e).get("targetGlobalKey").next((e=>(Jf(null!==e),e)))}kn(e,t){return fb(e).put("targetGlobalKey",t)}qn(e,t){return hb(e).put(gw(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=qg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return hb(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=mw(n);Yg(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=pb(e);return t.forEach((t=>{const o=Xp(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Op.waitFor(r)}removeMatchingKeys(e,t,n){const r=pb(e);return Op.forEach(t,(t=>{const i=Xp(t.path);return Op.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=pb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pb(e);let i=_v();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Zp(e[1]),o=new Sp(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Xp(t.path),r=IDBKeyRange.bound([n],[pp(n)],!1,!0);let i=0;return pb(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return hb(e).get(t).next((e=>e?mw(e):null))}}function hb(e){return Im(e,"targets")}function fb(e){return Im(e,"targetGlobal")}function pb(e){return Im(e,"targetDocuments")}function mb(e,t){let[n,r]=e,[i,o]=t;const a=hp(n,i);return 0===a?hp(r,o):a}class gb{constructor(e){this.Kn=e,this.buffer=new Am(mb),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();mb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vb{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Hf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Bp(e)?Hf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Mp(e)}await this.zn(3e5)}))}}class yb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Op.resolve(Hp._e);const n=new gb(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hf("LruGarbageCollector","Garbage collection skipped; disabled"),Op.resolve(tb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Hf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),tb):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Hf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Wf()<=Ln.DEBUG&&Hf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function wb(e,t){return new yb(e,t)}class bb{constructor(e,t){this.db=e,this.garbageCollector=wb(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Sb(e,n)}removeReference(e,t,n){return Sb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Sb(e,t)}er(e,t){return function(e,t){let n=!1;return cb(e).Z((r=>ab(e,r,t).next((e=>(e&&(n=!0),Op.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,a)=>{if(a<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,gp.min()),pb(e).delete(function(e){return[0,Xp(e.path)]}(o)))))}));r.push(t)}})).next((()=>Op.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Sb(e,t)}Xn(e,t){const n=pb(e);let r,i=Hp._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:l}=n;0===o?(i!==Hp._e&&t(new Sp(Zp(r)),i),i=l,r=s):i=Hp._e})).next((()=>{i!==Hp._e&&t(new Sp(Zp(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sb(e,t){return pb(e).put(function(e,t){return{targetId:0,path:Xp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class kb{constructor(){this.changes=new hv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Op.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _b{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Tb(e).put(n)}removeEntry(e,t,n){return Tb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],dw(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=gg.newInvalidDocument(t);return Tb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Cb(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:gg.newInvalidDocument(t)};return Tb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Cb(t))},((e,r)=>{n={document:this.nr(t,r),size:ib(r)}})).next((()=>n))}getEntries(e,t){let n=pv();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=pv(),r=new Dm(Sp.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,ib(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Op.resolve();let r=new Am(Pb);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Cb(r.first()),Cb(r.last())),o=r.getIterator();let a=o.getNext();return Tb(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Sp.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Pb(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.U(Cb(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),dw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tb(e).W(IDBKeyRange.bound(a,s,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=pv();for(const i of e){const e=this.nr(Sp.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(lv(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=pv();const o=Db(t,n),a=Db(t,Dp.max());return Tb(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.nr(Sp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ib(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return xb(e).get("remoteDocumentGlobalKey").next((e=>(Jf(!!e),e)))}tr(e,t){return xb(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ky(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Sp.fromSegments(t.noDocument.path),r=fw(t.noDocument.readTime);n=gg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xf();{const e=Sp.fromSegments(t.unknownDocument.path),r=fw(t.unknownDocument.version);n=gg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new mp(e[0],e[1]);return gp.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(gp.min()))return e}return gg.newInvalidDocument(e)}}function Eb(e){return new _b(e)}class Ib extends kb{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new hv((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Am(((e,t)=>hp(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=uw(this.ar.serializer,o);r=r.add(i.path.popLast());const l=ib(s);n+=l-a.size,t.push(this.ar.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=uw(this.ar.serializer,o.convertToNoDocument(gp.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Op.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function xb(e){return Im(e,"remoteDocumentGlobal")}function Tb(e){return Im(e,"remoteDocumentsV14")}function Cb(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Db(e,t){const n=t.documentKey.path.toArray();return[e,dw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Pb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=hp(n[o],r[o]),i)return i;return i=hp(n.length,r.length),i||(i=hp(n[n.length-2],r[r.length-2]),i||hp(n[n.length-1],r[r.length-1]))}class Nb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ab{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Gv(n.mutation,e,Rm.empty(),mp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,_v()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_v();const r=yv();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=gv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=yv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,_v())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=pv();const o=bv(),a=bv();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof $v)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Gv(a.mutation,t,a.mutation.getFieldMask(),mp.now())):o.set(t.key,Rm.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Nb(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=bv();let r=new Dm(((e,t)=>e-t)),i=_v();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Rm.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||_v()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=wv();l.forEach((e=>{if(!i.has(e)){const r=Hv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Op.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Sp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Op.resolve(yv());let a=-1,s=i;return o.next((t=>Op.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Op.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,_v()))).next((e=>({batchId:a,changes:vv(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sp(t)).next((e=>{let t=gv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=gv();return this.indexManager.getCollectionParents(e,i).next((a=>Op.forEach(a,(a=>{const s=function(e,t){return new Qg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,gg.newInvalidDocument(r)))}));let n=gv();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Gv(o.mutation,r,Rm.empty(),mp.now()),lv(t,r)&&(n=n.insert(e,r))})),n}))}}class Mb{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Op.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ly(e.createTime)}}(t)),Op.resolve()}getNamedQuery(e,t){return Op.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:vw(e.bundledQuery),readTime:Ly(e.readTime)}}(t)),Op.resolve()}}class Ob{constructor(){this.overlays=new Dm(Sp.comparator),this.hr=new Map}getOverlay(e,t){return Op.resolve(this.overlays.get(t))}getOverlays(e,t){const n=yv();return Op.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Op.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Op.resolve()}getOverlaysForCollection(e,t,n){const r=yv(),i=t.length+1,o=new Sp(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Op.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Dm(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=yv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=yv(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Op.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ay(t,n));let i=this.hr.get(t);void 0===i&&(i=_v(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Rb{constructor(){this.Pr=new Am(Lb.Ir),this.Tr=new Am(Lb.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Lb(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Lb(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Sp(new yp([])),n=new Lb(t,e),r=new Lb(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Sp(new yp([])),n=new Lb(t,e),r=new Lb(t,e+1);let i=_v();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lb(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lb{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Sp.comparator(e.key,t.key)||hp(e.pr,t.pr)}static Er(e,t){return hp(e.pr,t.pr)||Sp.comparator(e.key,t.key)}}class Fb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Am(Lb.Ir)}checkEmpty(e){return Op.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iy(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new Lb(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Op.resolve(o)}lookupMutationBatch(e,t){return Op.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Op.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Op.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Op.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lb(t,0),r=new Lb(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Op.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Am(hp);return t.forEach((e=>{const t=new Lb(e,0),r=new Lb(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Op.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Sp.isDocumentKey(i)||(i=i.child(""));const o=new Lb(new Sp(i),0);let a=new Am(hp);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),o),Op.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Jf(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Op.forEach(t.mutations,(r=>{const i=new Lb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Lb(t,0),r=this.wr.firstAfterOrEqual(n);return Op.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Op.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jb{constructor(e){this.vr=e,this.docs=new Dm(Sp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Op.resolve(n?n.document.mutableCopy():gg.newInvalidDocument(t))}getEntries(e,t){let n=pv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gg.newInvalidDocument(e))})),Op.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=pv();const o=t.path,a=new Sp(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Pp(Cp(a),n)<=0||(r.has(a.key)||lv(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Op.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Xf()}Fr(e,t){return Op.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Bb(this)}getSize(e){return Op.resolve(this.size)}}class Bb extends kb{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Op.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Ub{constructor(e){this.persistence=e,this.Mr=new hv((e=>qg(e)),Yg),this.lastRemoteSnapshotVersion=gp.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Rb,this.targetCount=0,this.Lr=ub.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Op.resolve()}getLastRemoteSnapshotVersion(e){return Op.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Op.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Op.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Op.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new ub(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Op.resolve()}updateTargetData(e,t){return this.qn(t),Op.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Op.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Op.waitFor(i).next((()=>r))}getTargetCount(e){return Op.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Op.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Op.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Op.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Op.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Op.resolve(n)}containsKey(e,t){return Op.resolve(this.Nr.containsKey(t))}}class Vb{constructor(e,t){this.Br={},this.overlays={},this.kr=new Hp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ub(this),this.indexManager=new Hw,this.remoteDocumentCache=function(e){return new jb(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new cw(t),this.$r=new Mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ob,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Fb(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Hf("MemoryPersistence","Starting transaction:",e);const r=new zb(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Op.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class zb extends Ap{constructor(e){super(),this.currentSequenceNumber=e}}class qb{constructor(e){this.persistence=e,this.zr=new Rb,this.jr=null}static Hr(e){return new qb(e)}get Jr(){if(this.jr)return this.jr;throw Xf()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Op.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Op.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Op.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Op.forEach(this.Jr,(n=>{const r=Sp.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,gp.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Op.or([()=>Op.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Yb{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Rp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",em,{unique:!0}),e.createObjectStore("documentMutations")}(e),Wb(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Op.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Wb(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",em,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Op.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:mm});t.createIndex("collectionPathOverlayIndex",gm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",vm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:im});t.createIndex("documentKeyIndex",om),t.createIndex("collectionGroupIndex",am)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:dm}).createIndex("sequenceNumberIndex",hm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:fm}).createIndex("documentKeyIndex",pm,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=ib(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Op.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Op.forEach(n,(n=>{Jf(n.userId===t.userId);const r=pw(this.serializer,n);return rb(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new yp(n),a=function(e){return[0,Xp(e)]}(o);r.push(t.get(a).next((n=>n?Op.resolve():(n=>t.put({targetId:0,path:Xp(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Op.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:um});const n=t.store("collectionParents"),r=new Kw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Xp(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new yp(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const a=Zp(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=mw(n),i=gw(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Sp(yp.fromString(e.document.name).popFirst(5)):e.noDocument?Sp.fromSegments(e.noDocument.path):e.unknownDocument?Sp.fromSegments(e.unknownDocument.path):Xf()}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Op.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Eb(this.serializer),i=new Vb(qb.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:_v();pw(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Op.forEach(n,((e,n)=>{const o=new zf(n),a=Ew.lt(this.serializer,o),s=i.getIndexManager(o),l=ob.lt(o,this.serializer,s,i.referenceDelegate);return new Ab(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new Em(t,Hp._e),e).next()}))}))}}function Wb(e){e.createObjectStore("targetDocuments",{keyPath:lm}).createIndex("documentTargetsIndex",cm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sm,{unique:!0}),e.createObjectStore("targetGlobal")}const Hb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kb{constructor(e,t,n,r,i,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=a,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Kb.D())throw new ep(Zf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bb(this,r),this.Ti=t+"main",this.serializer=new cw(s),this.Ei=new Lp(this.Ti,this.ui,new Yb(this.serializer)),this.Qr=new db(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Eb(this.serializer),this.$r=new Sw,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Kf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ep(Zf.FAILED_PRECONDITION,Hb);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Hp(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Qb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Bp(e))return Hf("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Gb(e).get("owner").next((e=>Op.resolve(this.Si(e))))}bi(e){return Qb(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Im(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Op.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Op.resolve(!0):Gb(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ep(Zf.FAILED_PRECONDITION,Hb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qb(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Hf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Em(e,Hp._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Qb(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return ob.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qw(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ew.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Hf("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?_m:15===e?km:14===e?Sm:13===e?bm:12===e?wm:11===e?ym:void Xf()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new Em(r,this.kr?this.kr.next():Hp._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Kf("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new ep(Zf.FAILED_PRECONDITION,Np);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Gb(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ep(Zf.FAILED_PRECONDITION,Hb)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gb(e).put("owner",t)}static D(){return Lp.D()}yi(e){const t=Gb(e);return t.get("owner").next((e=>this.Si(e)?(Hf("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Op.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Kf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;gn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Hf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Kf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(Vx){Kf("Failed to set zombie client id.",Vx)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(Vx){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Gb(e){return Im(e,"owner")}function Qb(e){return Im(e,"clientMetadata")}function Xb(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Jb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=_v(),r=_v();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jb(e,t.fromCache,n,r)}}class $b{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zb{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=gn()?8:Lp.v(un())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new $b;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Wf()<=Ln.DEBUG&&Hf("QueryEngine","SDK will not create cache indexes for query:",sv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Op.resolve()):(Wf()<=Ln.DEBUG&&Hf("QueryEngine","Query:",sv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Wf()<=Ln.DEBUG&&Hf("QueryEngine","The SDK decides to create cache indexes for query:",sv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tv(t))):Op.resolve())}ji(e,t){if($g(t))return Op.resolve(null);let n=tv(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=iv(t,null,"F"),n=tv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=_v(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,iv(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return $g(t)||r.isEqual(gp.min())?Op.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Op.resolve(null):(Wf()<=Ln.DEBUG&&Hf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sv(t)),this.es(e,o,t,Tp(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Am(uv(e));return t.forEach(((t,r)=>{lv(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Wf()<=Ln.DEBUG&&Hf("QueryEngine","Using full collection scan to execute query:",sv(t)),this.zi.getDocumentsMatchingQuery(e,t,Dp.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class eS{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Dm(hp),this.rs=new hv((e=>qg(e)),Yg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ab(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function tS(e,t,n,r){return new eS(e,t,n,r)}async function nS(e,t){const n=$f(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=_v();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function rS(e){const t=$f(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function iS(e,t,n){let r=_v(),i=_v();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=pv();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(gp.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Hf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function oS(e,t){const n=$f(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function aS(e,t){const n=$f(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Op.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new lw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function sS(e,t,n){const r=$f(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Bp(e))throw e;Hf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function lS(e,t,n){const r=$f(e);let i=gp.min(),o=_v();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=$f(e),i=r.rs.get(n);return void 0!==i?Op.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,tv(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:gp.min(),n?o:_v()))).next((e=>(dS(r,cv(t),e),{documents:e,hs:o})))))}function cS(e,t){const n=$f(e),r=$f(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function uS(e,t){const n=$f(e),r=n.ss.get(t)||gp.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Tp(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(dS(n,t,e),e)))}function dS(e,t,n){let r=e.ss.get(t)||gp.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function hS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_v();const r=await aS(e,tv(vw(t.bundledQuery))),i=$f(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Ly(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(Fm.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function fS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function pS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class gS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ep(r.error.code,r.error.message))),o?new gS(e,t,r.state,i):(Kf("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ep(n.error.code,n.error.message))),i?new vS(e,n.state,r):(Kf("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Iv();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Qp(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new yS(e,i):(Kf("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class wS{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wS(t.clientId,t.onlineState):(Kf("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class bS{constructor(){this.activeTargetIds=Iv()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SS{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Dm(hp),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=fS(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new bS),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(fS(this.persistenceKey,n));if(e){const t=yS.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(mS(this.persistenceKey,e));if(n){const r=vS.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mS(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hf("SharedClientState","READ",e,t),t}setItem(e,t){Hf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Hf("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Kf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Hp._e;if(null!=e)try{const n=JSON.parse(e);Jf("number"==typeof n),t=n}catch(e){Kf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Hp._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new gS(this.currentUser,e,t,n),i=pS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=pS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=mS(this.persistenceKey,e),i=new vS(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return yS.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gS.Es(new zf(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return vS.Es(r,t)}xs(e){return wS.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Hf("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(o,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Iv();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class kS{constructor(){this.no=new bS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _S{io(e){}shutdown(){}}class ES{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Hf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Hf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let IS=null;function xS(){return null===IS?IS=268435456+Math.round(2147483648*Math.random()):IS++,"0x"+IS.toString(16)}const TS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CS{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const DS="WebChannelConnection";class PS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=xS(),a=this.bo(e,t.toUriEncodedString());Hf("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,a,s,n).then((t=>(Hf("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Gf("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=TS[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=xS();return new Promise(((o,a)=>{const s=new jf;s.setWithCredentials(!0),s.listenOnce(Of.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Mf.NO_ERROR:const t=s.getResponseJson();Hf(DS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Mf.TIMEOUT:Hf(DS,"RPC '".concat(e,"' ").concat(i," timed out")),a(new ep(Zf.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const n=s.getStatus();if(Hf(DS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zf).indexOf(t)>=0?t:Zf.UNKNOWN}(t.status);a(new ep(e,t.message))}else a(new ep(Zf.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new ep(Zf.UNAVAILABLE,"Connection failed."));break;default:Xf()}}finally{Hf(DS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Hf(DS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=xS(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nf(),a=Af(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Hf(DS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new CS({lo:t=>{h?Hf(DS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Hf(DS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Hf(DS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ff.EventType.OPEN,(()=>{h||Hf(DS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Ff.EventType.CLOSE,(()=>{h||(h=!0,Hf(DS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Ff.EventType.ERROR,(t=>{h||(h=!0,Gf(DS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new ep(Zf.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ff.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Jf(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Hf(DS,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=ly[e];if(void 0!==t)return dy(t)}(t),i=a.message;void 0===n&&(n=Zf.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Vo(new ep(n,i)),u.close()}else Hf(DS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Rf.STAT_EVENT,(t=>{t.stat===Lf.PROXY?Hf(DS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Lf.NOPROXY&&Hf(DS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function NS(){return"undefined"!=typeof window?window:null}function AS(){return"undefined"!=typeof document?document:null}function MS(e){return new Ny(e,!0)}class OS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Hf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class RS{constructor(e,t,n,r,i,o,a,s){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new OS(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Zf.RESOURCE_EXHAUSTED?(Kf(t.toString()),Kf("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Zf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new ep(Zf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Hf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Hf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LS extends RS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Jf(void 0===t||"string"==typeof t),Fm.fromBase64String(t||"")):(Jf(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Fm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Zf.UNKNOWN:dy(e.code);return new ep(t,e.message||"")}(a);n=new _y(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vy(e,r.document.name),o=Ly(r.document.updateTime),a=r.document.createTime?Ly(r.document.createTime):gp.min(),s=new pg({mapValue:{fields:r.document.fields}}),l=gg.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Sy(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vy(e,r.document),o=r.readTime?Ly(r.readTime):gp.min(),a=gg.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Sy([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vy(e,r.document),o=r.removedTargetIds||[];n=new Sy([],o,i,null)}else{if(!("filter"in t))return Xf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new sy(r,i),a=e.targetId;n=new ky(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return gp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gp.min():t.readTime?Ly(t.readTime):gp.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Yy(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Wg(r)?{documents:Xy(e,r)}:{query:Jy(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Oy(e,t.resumeToken);const r=Ay(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gp.min())>0){n.readTime=My(e,t.snapshotVersion.toTimestamp());const r=Ay(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Yy(this.serializer),t.removeTarget=e,this.t_(t)}}class FS extends RS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Jf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Jf(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ly(e.updateTime):Ly(t);return n.isEqual(gp.min())&&(n=Ly(t)),new zv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ly(e.commitTime);return this.listener.T_(n,t)}return Jf(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Yy(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Gy(this.serializer,e)))};this.t_(t)}}class jS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new ep(Zf.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.So(e,jy(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Zf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ep(Zf.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.vo(e,jy(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Zf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ep(Zf.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class BS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Kf(t),this.g_=!1):Hf("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class US{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{QS(this)&&(Hf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=$f(e);t.v_.add(4),await zS(t),t.x_.set("Unknown"),t.v_.delete(4),await VS(t)}(this))}))})),this.x_=new BS(n,r)}}async function VS(e){if(QS(e))for(const t of e.F_)await t(!0)}async function zS(e){for(const t of e.F_)await t(!1)}function qS(e,t){const n=$f(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),GS(n)?KS(n):fk(n).Jo()&&WS(n,t))}function YS(e,t){const n=$f(e),r=fk(n);n.C_.delete(t),r.Jo()&&HS(n,t),0===n.C_.size&&(r.Jo()?r.Xo():QS(n)&&n.x_.set("Unknown"))}function WS(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fk(e).c_(t)}function HS(e,t){e.O_.Oe(t),fk(e).l_(t)}function KS(e){e.O_=new Iy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),fk(e).start(),e.x_.p_()}function GS(e){return QS(e)&&!fk(e).Ho()&&e.C_.size>0}function QS(e){return 0===$f(e).v_.size}function XS(e){e.O_=void 0}async function JS(e){e.C_.forEach(((t,n)=>{WS(e,t)}))}async function $S(e,t){XS(e),GS(e)?(e.x_.S_(t),KS(e)):e.x_.set("Unknown")}async function ZS(e,t,n){if(e.x_.set("Online"),t instanceof _y&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Hf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ek(e,n)}else if(t instanceof Sy?e.O_.$e(t):t instanceof ky?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(gp.min()))try{const t=await rS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Fm.EMPTY_BYTE_STRING,r.snapshotVersion)),HS(e,t);const i=new lw(r.target,t,n,r.sequenceNumber);WS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hf("RemoteStore","Failed to raise snapshot:",t),await ek(e,t)}}async function ek(e,t,n){if(!Bp(t))throw t;e.v_.add(1),await zS(e),e.x_.set("Offline"),n||(n=()=>rS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Hf("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await VS(e)}))}function tk(e,t){return t().catch((n=>ek(e,n,t)))}async function nk(e){const t=$f(e),n=pk(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;rk(t);)try{const e=await oS(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,ik(t,e)}catch(e){await ek(t,e)}ok(t)&&ak(t)}function rk(e){return QS(e)&&e.D_.length<10}function ik(e,t){e.D_.push(t);const n=pk(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function ok(e){return QS(e)&&!pk(e).Ho()&&e.D_.length>0}function ak(e){pk(e).start()}async function sk(e){pk(e).d_()}async function lk(e){const t=pk(e);for(const n of e.D_)t.I_(n.mutations)}async function ck(e,t,n){const r=e.D_.shift(),i=oy.from(r,t,n);await tk(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await nk(e)}async function uk(e,t){t&&pk(e).P_&&await async function(e,t){if(function(e){return uy(e)&&e!==Zf.ABORTED}(t.code)){const n=e.D_.shift();pk(e).Zo(),await tk(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await nk(e)}}(e,t),ok(e)&&ak(e)}async function dk(e,t){const n=$f(e);n.asyncQueue.verifyOperationInProgress(),Hf("RemoteStore","RemoteStore received new credentials");const r=QS(n);n.v_.add(3),await zS(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await VS(n)}async function hk(e,t){const n=$f(e);t?(n.v_.delete(2),await VS(n)):t||(n.v_.add(2),await zS(n),n.x_.set("Unknown"))}function fk(e){return e.N_||(e.N_=function(e,t,n){const r=$f(e);return r.R_(),new LS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:JS.bind(null,e),To:$S.bind(null,e),u_:ZS.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),GS(e)?KS(e):e.x_.set("Unknown")):(await e.N_.stop(),XS(e))}))),e.N_}function pk(e){return e.L_||(e.L_=function(e,t,n){const r=$f(e);return r.R_(),new FS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:sk.bind(null,e),To:uk.bind(null,e),E_:lk.bind(null,e),T_:ck.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await nk(e)):(await e.L_.stop(),e.D_.length>0&&(Hf("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class mk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new mk(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ep(Zf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gk(e,t){if(Kf("AsyncQueue","".concat(t,": ").concat(e)),Bp(e))return new ep(Zf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class vk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sp.comparator(t.key,n.key):(e,t)=>Sp.comparator(e.key,t.key),this.keyedMap=gv(),this.sortedSet=new Dm(this.comparator)}static emptySet(e){return new vk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class yk{constructor(){this.B_=new Dm(Sp.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Xf():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class wk{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new wk(e,t,vk.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bk{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class Sk{constructor(){this.queries=new hv((e=>av(e)),ov),this.onlineState="Unknown",this.W_=new Set}}async function kk(e,t){const n=$f(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new bk,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=gk(e,"Initialization of query '".concat(sv(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&xk(n)}async function _k(e,t){const n=$f(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),0===o.Q_.length?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ek(e,t){const n=$f(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&xk(n)}function Ik(e,t,n){const r=$f(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function xk(e){e.W_.forEach((e=>{e.next()}))}var Tk,Ck;(Ck=Tk||(Tk={})).j_="default",Ck.Cache="cache";class Dk{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=wk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Tk.Cache}}class Pk{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class Nk{constructor(e){this.serializer=e}Ps(e){return Vy(this.serializer,e)}Is(e){return e.metadata.exists?Ky(this.serializer,e.document,!1):gg.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ly(e)}}class Ak{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mk(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=yp.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new Nk(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||_v()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=$f(e);let o=_v(),a=pv();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(o=o.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),a=a.insert(e,n)}const s=i.os.newChangeBuffer({trackRemovals:!0}),l=await aS(i,function(e){return tv(Jg(yp.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>iS(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new Nk(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await hS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function Mk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ok{constructor(e){this.key=e}}class Rk{constructor(e){this.key=e}}class Lk{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=_v(),this.mutatedKeys=_v(),this.ha=uv(e),this.Pa=new vk(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new yk,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=lv(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ha(u,s)>0||l&&this.ha(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:o,Ea:n,Xi:a,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xf()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const a=t&&!r?this.Ra():[],s=0===this.la.size&&this.current&&!r?1:0,l=s!==this.ca;return this.ca=s,0!==o.length||l?{snapshot:new wk(this.query,e.Pa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new yk,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=_v(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new Rk(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Ok(n))})),t}fa(e){this.ua=e.hs,this.la=_v();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return wk.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Fk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jk{constructor(e){this.key=e,this.pa=!1}}class Bk{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new hv((e=>av(e)),ov),this.Sa=new Map,this.ba=new Set,this.Da=new Dm(Sp.comparator),this.Ca=new Map,this.va=new Rb,this.Fa={},this.Ma=new Map,this.xa=ub.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function Uk(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=m_(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await zk(r,t,n,!0),i}async function Vk(e,t){const n=m_(e);await zk(n,t,!0,!1)}async function zk(e,t,n,r){const i=await aS(e.localStore,tv(t)),o=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await qk(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&qS(e.remoteStore,i),s}async function qk(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await lS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return t_(e,t.targetId,s.Va),s.snapshot}(e,t,n,r);const o=await lS(e.localStore,t,!0),a=new Lk(t,o.hs),s=a.Ta(o.documents),l=by.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);t_(e,n,c.Va);const u=new Fk(t,n,a);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function Yk(e,t,n){const r=$f(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter((e=>!ov(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sS(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&YS(r.remoteStore,i.targetId),Zk(r,i.targetId)})).catch(Mp)):(Zk(r,i.targetId),await sS(r.localStore,i.targetId,!0))}async function Wk(e,t){const n=$f(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),YS(n.remoteStore,r.targetId))}async function Hk(e,t){const n=$f(e);try{const e=await function(e,t){const n=$f(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Fm.EMPTY_BYTE_STRING,gp.min()).withLastLimboFreeSnapshotVersion(gp.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Qr.updateTargetData(e,c))}));let s=pv(),l=_v();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(iS(e,o,t.documentUpdates).next((e=>{s=e.cs,l=e.ls}))),!r.isEqual(gp.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Op.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(Jf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?Jf(r.pa):e.removedDocuments.size>0&&(Jf(r.pa),r.pa=!1))})),await i_(n,e,t)}catch(e){await Mp(e)}}function Kk(e,t,n){const r=$f(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=$f(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&xk(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gk(e,t,n){const r=$f(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let e=new Dm(Sp.comparator);e=e.insert(o,gg.newNoDocument(o,gp.min()));const n=_v().add(o),i=new wy(gp.min(),new Map,new Dm(hp),e,n);await Hk(r,i),r.Da=r.Da.remove(o),r.Ca.delete(t),r_(r)}else await sS(r.localStore,t,!1).then((()=>Zk(r,t,n))).catch(Mp)}async function Qk(e,t){const n=$f(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$f(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Op.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Jf(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_v();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);$k(n,r,null),Jk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await i_(n,e)}catch(e){await Mp(e)}}async function Xk(e,t,n){const r=$f(e);try{const e=await function(e,t){const n=$f(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Jf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);$k(r,t,n),Jk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await i_(r,e)}catch(n){await Mp(n)}}function Jk(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function $k(e,t,n){const r=$f(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Zk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||e_(e,t)}))}function e_(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(YS(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),r_(e))}function t_(e,t,n){for(const r of n)r instanceof Ok?(e.va.addReference(r.key,t),n_(e,r)):r instanceof Rk?(Hf("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||e_(e,r.key)):Xf()}function n_(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Hf("SyncEngine","New document in limbo: "+n),e.ba.add(r),r_(e))}function r_(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Sp(yp.fromString(t)),r=e.xa.next();e.Ca.set(r,new jk(n)),e.Da=e.Da.insert(n,r),qS(e.remoteStore,new lw(tv(Jg(n.path)),r,"TargetPurposeLimboResolution",Hp._e))}}async function i_(e,t,n){const r=$f(e),i=[],o=[],a=[];r.wa.isEmpty()||(r.wa.forEach(((e,s)=>{a.push(r.Na(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Jb.Ki(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.ya.u_(i),await async function(e,t){const n=$f(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Op.forEach(t,(t=>Op.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Op.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Bp(e))throw e;Hf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function o_(e,t){const n=$f(e);if(!n.currentUser.isEqual(t)){Hf("SyncEngine","User change. New user:",t.toKey());const e=await nS(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new ep(Zf.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await i_(n,e.us)}}function a_(e,t){const n=$f(e),r=n.Ca.get(t);if(r&&r.pa)return _v().add(r.key);{let e=_v();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function s_(e,t){const n=$f(e),r=await lS(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&t_(n,t.targetId,i.Va),i}async function l_(e,t){const n=$f(e);return uS(n.localStore,t).then((e=>i_(n,e)))}async function c_(e,t,n,r){const i=$f(e),o=await function(e,t){const n=$f(e),r=$f(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Op.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await nk(i.remoteStore):"acknowledged"===n||"rejected"===n?($k(i,t,r||null),Jk(i,t),function(e,t){$f($f(e).mutationQueue).Mn(t)}(i.localStore,t)):Xf(),await i_(i,o)):Hf("SyncEngine","Cannot apply mutation batch with id: "+t)}async function u_(e,t,n){const r=$f(e),i=[],o=[];for(const a of t){let e;const t=r.Sa.get(a);if(t&&0!==t.length){e=await aS(r.localStore,tv(t[0]));for(const e of t){const t=r.wa.get(e),n=await s_(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await cS(r.localStore,a);e=await aS(r.localStore,t),await qk(r,d_(t),a,!1,e.resumeToken)}i.push(e)}return r.ya.u_(o),i}function d_(e){return Xg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function h_(e){return function(e){return $f($f(e).persistence).Bi()}($f(e).localStore)}async function f_(e,t,n,r){const i=$f(e);if(i.Oa)return void Hf("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await uS(i.localStore,cv(o[0])),r=wy.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Fm.EMPTY_BYTE_STRING);await i_(i,e,r);break}case"rejected":await sS(i.localStore,t,!0),Zk(i,t,r);break;default:Xf()}}async function p_(e,t,n){const r=m_(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Hf("SyncEngine","Adding an already active target "+e);continue}const t=await cS(r.localStore,e),n=await aS(r.localStore,t);await qk(r,d_(t),n.targetId,!1,n.resumeToken),qS(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await sS(r.localStore,e,!1).then((()=>{YS(r.remoteStore,e),Zk(r,e)})).catch(Mp)}}function m_(e){const t=$f(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=a_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gk.bind(null,t),t.ya.u_=Ek.bind(null,t.eventManager),t.ya.La=Ik.bind(null,t.eventManager),t}function g_(e){const t=$f(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xk.bind(null,t),t}class v_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=MS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return tS(this.persistence,new Zb,e.initialUser,this.serializer)}createPersistence(e){return new Vb(qb.Hr,this.serializer)}createSharedClientState(e){return new kS}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class y_ extends v_{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await g_(this.ka.syncEngine),await nk(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return tS(this.persistence,new Zb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new vb(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Wp(t,this.persistence);return new Yp(e.asyncQueue,n)}createPersistence(e){const t=Xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nb.withCacheSize(this.cacheSizeBytes):nb.DEFAULT;return new Kb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NS(),AS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new kS}}class w_ extends y_{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof SS&&(this.sharedClientState.syncEngine={Zs:c_.bind(null,t),Xs:f_.bind(null,t),eo:p_.bind(null,t),Bi:h_.bind(null,t),Ys:l_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=$f(e);if(m_(n),g_(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await u_(n,e.toArray());n.Oa=!0,await hk(n.remoteStore,!0);for(const r of t)qS(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Zk(n,i),sS(n.localStore,i,!0)))),YS(n.remoteStore,i)})),await t,await u_(n,e),function(e){const t=$f(e);t.Ca.forEach(((e,n)=>{YS(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new Dm(Sp.comparator)}(n),n.Oa=!1,await hk(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=NS();if(!SS.D(t))throw new ep(Zf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class b_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Kk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=o_.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Sk}createDatastore(e){const t=MS(e.databaseInfo.databaseId),n=function(e){return new PS(e)}(e.databaseInfo);return function(e,t,n,r){return new jS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new US(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Kk(this.syncEngine,e,0)),ES.D()?new ES:new _S)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Bk(e,t,n,r,i,o);return a&&(s.Oa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=$f(e);Hf("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await zS(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function S_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class k_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Kf("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class __{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new tp,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new Pk(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class E_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ep(Zf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=$f(e),r={documents:t.map((e=>Uy(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,yp.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Jf(!!t.found),t.found.name,t.found.updateTime;const n=Vy(e,t.found.name),r=Ly(t.found.updateTime),i=t.found.createTime?Ly(t.found.createTime):gp.min(),o=new pg({mapValue:{fields:t.found.fields}});return gg.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Jf(!!t.missing),Jf(!!t.readTime);const n=Vy(e,t.missing),r=Ly(t.readTime);return gg.newNoDocument(n,r)}(e,t):Xf()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Jf(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ny(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Sp.fromPath(t);this.mutations.push(new ry(n,this.precondition(n)))})),await async function(e,t){const n=$f(e),r={writes:t.map((e=>Gy(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,yp.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xf();t=gp.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ep(Zf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gp.min())?qv.exists(!1):qv.updateTime(t):qv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gp.min()))throw new ep(Zf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qv.updateTime(t)}return qv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class I_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new OS(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new E_(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!Kp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uy(t)}return!1}}class x_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zf.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Hf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Hf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ep(Zf.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gk(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function T_(e,t){e.asyncQueue.verifyOperationInProgress(),Hf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function C_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await P_(e);Hf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>dk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>dk(t.remoteStore,n))),e._onlineComponents=t}function D_(e){return"FirebaseError"===e.name?e.code===Zf.FAILED_PRECONDITION||e.code===Zf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function P_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Hf("FirestoreClient","Using user provided OfflineComponentProvider");try{await T_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!D_(n))throw n;Gf("Error using user provided cache. Falling back to memory cache: "+n),await T_(e,new v_)}}else Hf("FirestoreClient","Using default OfflineComponentProvider"),await T_(e,new v_);return e._offlineComponents}async function N_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Hf("FirestoreClient","Using user provided OnlineComponentProvider"),await C_(e,e._uninitializedComponentsProvider._online)):(Hf("FirestoreClient","Using default OnlineComponentProvider"),await C_(e,new b_))),e._onlineComponents}function A_(e){return P_(e).then((e=>e.persistence))}function M_(e){return P_(e).then((e=>e.localStore))}function O_(e){return N_(e).then((e=>e.remoteStore))}function R_(e){return N_(e).then((e=>e.syncEngine))}function L_(e){return N_(e).then((e=>e.datastore))}async function F_(e){const t=await N_(e),n=t.eventManager;return n.onListen=Uk.bind(null,t.syncEngine),n.onUnlisten=Yk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Vk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Wk.bind(null,t.syncEngine),n}function j_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new k_({next:o=>{t.enqueueAndForget((()=>_k(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new ep(Zf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ep(Zf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Dk(Jg(n.path),o,{includeMetadataChanges:!0,ta:!0});return kk(e,a)}(await F_(e),e.asyncQueue,t,n,r))),r.promise}function B_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new k_({next:n=>{t.enqueueAndForget((()=>_k(e,a))),n.fromCache&&"server"===r.source?i.reject(new ep(Zf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Dk(n,o,{includeMetadataChanges:!0,ta:!0});return kk(e,a)}(await F_(e),e.asyncQueue,t,n,r))),r.promise}function U_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?fy().encode(e):e,function(e,t){return new __(e,t)}(function(e,t){if(e instanceof Uint8Array)return S_(e,t);if(e instanceof ArrayBuffer)return S_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,MS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=$f(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=$f(e),r=Ly(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Mk(r));const i=new Ak(r,e.localStore,t.serializer);let o=await t.Ba();for(;o;){const e=await i.sa(o);e&&n._updateProgress(e),o=await t.Ba()}const a=await i.complete();return await i_(e,a.aa,void 0),await function(e,t){const n=$f(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a._a)}catch(e){return Gf("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await R_(e),i,r)}))}function V_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const z_=new Map;function q_(e,t,n){if(!n)throw new ep(Zf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Y_(e,t,n,r){if(!0===t&&!0===r)throw new ep(Zf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function W_(e){if(!Sp.isDocumentKey(e))throw new ep(Zf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function H_(e){if(Sp.isDocumentKey(e))throw new ep(Zf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function K_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Xf()}function G_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ep(Zf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K_(e);throw new ep(Zf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Q_(e,t){if(t<=0)throw new ep(Zf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class X_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ep(Zf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ep(Zf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ep(Zf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ep(Zf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ep(Zf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ep(Zf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ep(Zf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rp;switch(e.type){case"firstParty":return new sp(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ep(Zf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=z_.get(e);t&&(Hf("ComponentProvider","Removing Datastore"),z_.delete(e),t.terminate())}(this),Promise.resolve()}}function $_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=G_(e,J_))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Gf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zf.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nn(JSON.stringify({alg:"none",type:"JWT"})),nn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ep(Zf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zf(o)}e._authCredentials=new ip(new np(t,n))}}class Z_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Z_(this.firestore,e,this._query)}}class eE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eE(this.firestore,e,this._key)}}class tE extends Z_{constructor(e,t,n){super(e,t,Jg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eE(this.firestore,null,new Sp(e))}withConverter(e){return new tE(this.firestore,e,this._path)}}function nE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pn(e),q_("collection","path",t),e instanceof J_){const n=yp.fromString(t,...r);return H_(n),new tE(e,null,n)}{if(!(e instanceof eE||e instanceof tE))throw new ep(Zf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yp.fromString(t,...r));return H_(n),new tE(e.firestore,null,n)}}function rE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pn(e),1===arguments.length&&(t=dp.newId()),q_("doc","path",t),e instanceof J_){const n=yp.fromString(t,...r);return W_(n),new eE(e,null,new Sp(n))}{if(!(e instanceof eE||e instanceof tE))throw new ep(Zf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yp.fromString(t,...r));return W_(n),new eE(e.firestore,e instanceof tE?e.converter:null,new Sp(n))}}function iE(e,t){return e=Pn(e),t=Pn(t),(e instanceof eE||e instanceof tE)&&(t instanceof eE||t instanceof tE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function oE(e,t){return e=Pn(e),t=Pn(t),e instanceof Z_&&t instanceof Z_&&e.firestore===t.firestore&&ov(e._query,t._query)&&e.converter===t.converter}class aE{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new OS(this,"async_queue_retry"),this.cu=()=>{const e=AS();e&&Hf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=AS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=AS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new tp;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(Vx){if(!Bp(Vx))throw Vx;Hf("AsyncQueue","Operation failed with retryable error: "+Vx)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Kf("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=mk.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Xf()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function sE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class lE{constructor(){this._progressObserver={},this._taskCompletionResolver=new tp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cE extends J_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new aE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dE(this),this._firestoreClient.terminate()}}function uE(e){return e._firestoreClient||dE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dE(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Wm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,V_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new x_(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function hE(e,t,n){const r=new tp;return e.asyncQueue.enqueue((async()=>{try{await T_(e,n),await C_(e,t),r.resolve()}catch(e){const n=e;if(!D_(n))throw n;Gf("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function fE(e){return function(e){const t=new tp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=$f(e);QS(n.remoteStore)||Hf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=$f(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=gk(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await R_(e),t))),t.promise}(uE(e=G_(e,cE)))}function pE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await A_(e),n=await O_(e);return t.setNetworkEnabled(!0),function(e){const t=$f(e);return t.v_.delete(0),VS(t)}(n)}))}(uE(e=G_(e,cE)))}function mE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await A_(e),n=await O_(e);return t.setNetworkEnabled(!1),async function(e){const t=$f(e);t.v_.add(0),await zS(t),t.x_.set("Offline")}(n)}))}(uE(e=G_(e,cE)))}function gE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=$f(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await M_(e),t)))}(uE(e=G_(e,cE)),t).then((t=>t?new Z_(e,null,t.query):null))}function vE(e){if(e._initialized||e._terminated)throw new ep(Zf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yE(Fm.fromBase64String(e))}catch(e){throw new ep(Zf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yE(Fm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ep(Zf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bp(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bE{constructor(e){this._methodName=e}}class SE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ep(Zf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ep(Zf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hp(this._lat,e._lat)||hp(this._long,e._long)}}const kE=/^__.*__$/;class _E{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $v(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jv(e,this.data,t,this.fieldTransforms)}}class EE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $v(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xf()}}class xE{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new xE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return HE(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(IE(this.Vu)&&kE.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class TE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||MS(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xE({Vu:e,methodName:t,Du:n,path:bp.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CE(e){const t=e._freezeSettings(),n=MS(e._databaseId);return new TE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DE(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);zE("Data must be an object, but it was:",a,r);const s=UE(r,a);let l,c;if(o.merge)l=new Rm(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=qE(t,r,n);if(!a.contains(i))throw new ep(Zf.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));KE(e,i)||e.push(i)}l=new Rm(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new _E(new pg(s),l,c)}class PE extends bE{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof PE}}function NE(e,t,n){return new xE({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class AE extends bE{_toFieldTransform(e){return new Vv(e.path,new Mv)}isEqual(e){return e instanceof AE}}class ME extends bE{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=NE(this,e,!0),n=this.vu.map((e=>BE(e,t))),r=new Ov(n);return new Vv(e.path,r)}isEqual(e){return e instanceof ME&&kn(this.vu,e.vu)}}class OE extends bE{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=NE(this,e,!0),n=this.vu.map((e=>BE(e,t))),r=new Lv(n);return new Vv(e.path,r)}isEqual(e){return e instanceof OE&&kn(this.vu,e.vu)}}class RE extends bE{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new jv(e.serializer,Cv(e.serializer,this.Fu));return new Vv(e.path,t)}isEqual(e){return e instanceof RE&&this.Fu===e.Fu}}function LE(e,t,n,r){const i=e.Cu(1,t,n);zE("Data must be an object, but it was:",i,r);const o=[],a=pg.empty();Tm(r,((e,r)=>{const s=WE(t,e,n);r=Pn(r);const l=i.yu(s);if(r instanceof PE)o.push(s);else{const e=BE(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Rm(o);return new EE(a,s,i.fieldTransforms)}function FE(e,t,n,r,i,o){const a=e.Cu(1,t,n),s=[qE(t,r,n)],l=[i];if(o.length%2!=0)throw new ep(Zf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(qE(t,o[h])),l.push(o[h+1]);const c=[],u=pg.empty();for(let h=s.length-1;h>=0;--h)if(!KE(c,s[h])){const e=s[h];let t=l[h];t=Pn(t);const n=a.yu(e);if(t instanceof PE)c.push(e);else{const r=BE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Rm(c);return new EE(u,d,a.fieldTransforms)}function jE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return BE(n,e.Cu(r?4:3,t))}function BE(e,t){if(VE(e=Pn(e)))return zE("Unsupported field value:",t,e),UE(e,t);if(e instanceof bE)return function(e,t){if(!IE(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=BE(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Pn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=mp.fromDate(e);return{timestampValue:My(t.serializer,n)}}if(e instanceof mp){const n=new mp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:My(t.serializer,n)}}if(e instanceof SE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yE)return{bytesValue:Oy(t.serializer,e._byteString)};if(e instanceof eE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Fy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(K_(e)))}(e,t)}function UE(e,t){const n={};return Cm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tm(e,((e,r)=>{const i=BE(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function VE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mp||e instanceof SE||e instanceof yE||e instanceof eE||e instanceof bE)}function zE(e,t,n){if(!VE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=K_(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function qE(e,t,n){if((t=Pn(t))instanceof wE)return t._internalPath;if("string"==typeof t)return WE(e,t);throw HE("Field path arguments must be of type string or ",e,!1,void 0,n)}const YE=new RegExp("[~\\*/\\[\\]]");function WE(e,t,n){if(t.search(YE)>=0)throw HE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new wE(...t.split("."))._internalPath}catch(Oc){throw HE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HE(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new ep(Zf.INVALID_ARGUMENT,s+e+l)}function KE(e,t){return e.some((e=>e.isEqual(t)))}class GE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new eE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QE extends GE{data(){return super.data()}}function XE(e,t){return"string"==typeof t?WE(e,t):t instanceof wE?t._internalPath:t._delegate._internalPath}function JE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ep(Zf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $E{}class ZE extends $E{}function eI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof $E&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof nI)).length,n=e.filter((e=>e instanceof tI)).length;if(t>1||t>0&&n>0)throw new ep(Zf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class tI extends ZE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new tI(e,t,n)}_apply(e){const t=this._parse(e);return uI(e._query,t),new Z_(e.firestore,e.converter,rv(e._query,t))}_parse(e){const t=CE(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ep(Zf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){cI(a,o);const t=[];for(const n of a)t.push(lI(r,e,n));s={arrayValue:{values:t}}}else s=lI(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cI(a,o),s=jE(n,t,a,"in"===o||"not-in"===o);return _g.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class nI extends $E{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nI(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Eg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)uI(n,i),n=rv(n,i)}(e._query,t),new Z_(e.firestore,e.converter,rv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rI extends ZE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bg(t,n)}(e._query,this._field,this._direction);return new Z_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Qg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class iI extends ZE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new iI(e,t,n)}_apply(e){return new Z_(e.firestore,e.converter,iv(e._query,this._limit,this._limitType))}}class oI extends ZE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new oI(e,t,n)}_apply(e){const t=sI(e,this.type,this._docOrFields,this._inclusive);return new Z_(e.firestore,e.converter,function(e,t){return new Qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class aI extends ZE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new aI(e,t,n)}_apply(e){const t=sI(e,this.type,this._docOrFields,this._inclusive);return new Z_(e.firestore,e.converter,function(e,t){return new Qg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function sI(e,t,n,r){if(n[0]=Pn(n[0]),n[0]instanceof GE)return function(e,t,n,r,i){if(!r)throw new ep(Zf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const a of ev(e))if(a.field.isKeyField())o.push(ng(t,r.key));else{const e=r.data.field(a.field);if(zm(e))throw new ep(Zf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new vg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=CE(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new ep(Zf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let l=0;l<i.length;l++){const o=i[l];if(a[l].field.isKeyField()){if("string"!=typeof o)throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Zg(e)&&-1!==o.indexOf("/"))throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(yp.fromString(o));if(!Sp.isDocumentKey(n))throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Sp(n);s.push(ng(t,i))}else{const e=jE(n,r,o);s.push(e)}}return new vg(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function lI(e,t,n){if("string"==typeof(n=Pn(n))){if(""===n)throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zg(t)&&-1!==n.indexOf("/"))throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(yp.fromString(n));if(!Sp.isDocumentKey(r))throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ng(e,new Sp(r))}if(n instanceof eE)return ng(e,n._key);throw new ep(Zf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(K_(n),"."))}function cI(e,t){if(!Array.isArray(e)||0===e.length)throw new ep(Zf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function uI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ep(Zf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ep(Zf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class dI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Um(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Tm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new SE(Um(e.latitude),Um(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=qm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ym(e));default:return null}}convertTimestamp(e){const t=Bm(e);return new mp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yp.fromString(e);Jf(sw(n));const r=new Hm(n.get(1),n.get(3)),i=new Sp(n.popFirst(5));return r.isEqual(t)||Kf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function hI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fI extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new yE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eE(this.firestore,null,t)}}class pI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mI extends GE{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new gI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(XE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class gI extends mI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new gI(this._firestore,this._userDataWriter,n.key,n,new pI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ep(Zf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new gI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new pI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new gI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:yI(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xf()}}function wI(e,t){return e instanceof mI&&t instanceof mI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vI&&t instanceof vI&&e._firestore===t._firestore&&oE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function bI(e){e=G_(e,eE);const t=G_(e.firestore,cE);return j_(uE(t),e._key).then((n=>DI(t,e,n)))}class SI extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new yE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eE(this.firestore,null,t)}}function kI(e){e=G_(e,eE);const t=G_(e.firestore,cE),n=uE(t),r=new SI(t);return function(e,t){const n=new tp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=$f(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ep(Zf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=gk(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await M_(e),t,n))),n.promise}(n,e._key).then((n=>new mI(t,r,e._key,n,new pI(null!==n&&n.hasLocalMutations,!0),e.converter)))}function _I(e){e=G_(e,Z_);const t=G_(e.firestore,cE),n=uE(t),r=new SI(t);return function(e,t){const n=new tp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await lS(e,t,!0),i=new Lk(t,r.hs),o=i.Ta(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=gk(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await M_(e),t,n))),n.promise}(n,e._query).then((n=>new vI(t,r,e,n)))}function EI(e,t,n){e=G_(e,eE);const r=G_(e.firestore,cE),i=hI(e.converter,t,n);return CI(r,[DE(CE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qv.none())])}function II(e,t,n){e=G_(e,eE);const r=G_(e.firestore,cE),i=CE(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=Pn(t))||t instanceof wE?FE(i,"updateDoc",e._key,t,n,s):LE(i,"updateDoc",e._key,t),CI(r,[o.toMutation(e._key,qv.exists(!0))])}function xI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Pn(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||sE(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sE(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof eE)d=G_(e.firestore,cE),h=Jg(e._key.path),u={next:t=>{n[l]&&n[l](DI(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=G_(e,Z_);d=G_(t.firestore,cE),h=t._query;const r=new SI(d);u={next:e=>{n[l]&&n[l](new vI(d,r,t,e))},error:n[l+1],complete:n[l+2]},JE(e._query)}return function(e,t,n,r){const i=new k_(r),o=new Dk(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>kk(await F_(e),o))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>_k(await F_(e),o)))}}(uE(d),h,c,u)}function TI(e,t){return function(e,t){const n=new k_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){$f(e).W_.add(t),t.next()}(await F_(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){$f(e).W_.delete(t)}(await F_(e),n)))}}(uE(e=G_(e,cE)),sE(t)?t:{next:t})}function CI(e,t){return function(e,t){const n=new tp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=g_(e);try{const e=await function(e,t){const n=$f(e),r=mp.now(),i=t.reduce(((e,t)=>e.add(t.key)),_v());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=pv(),l=_v();return n.os.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Qv(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new $v(e.key,t,mg(t.value.mapValue),qv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:vv(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Dm(hp)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await i_(r,e.changes),await nk(r.remoteStore)}catch(e){const t=gk(e,"Failed to persist write");n.reject(t)}}(await R_(e),t,n))),n.promise}(uE(e),t)}function DI(e,t,n){const r=n.docs.get(t._key),i=new SI(e);return new mI(e,i,t._key,r,new pI(n.hasPendingWrites,n.fromCache),t.converter)}const PI={maxAttempts:5};class NI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=CE(e)}set(e,t,n){this._verifyNotCommitted();const r=AI(e,this._firestore),i=hI(r.converter,t,n),o=DE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,qv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=AI(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=Pn(t))||t instanceof wE?FE(this._dataReader,"WriteBatch.update",r._key,t,n,a):LE(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,qv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=AI(e,this._firestore);return this._mutations=this._mutations.concat(new ny(t._key,qv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ep(Zf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function AI(e,t){if((e=Pn(e)).firestore!==t)throw new ep(Zf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class MI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=CE(e)}get(e){const t=AI(e,this._firestore),n=new fI(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Xf();const r=e[0];if(r.isFoundDocument())return new GE(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new GE(this._firestore,n,t._key,null,t.converter);throw Xf()}))}set(e,t,n){const r=AI(e,this._firestore),i=hI(r.converter,t,n),o=DE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=AI(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=Pn(t))||t instanceof wE?FE(this._dataReader,"Transaction.update",r._key,t,n,a):LE(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=AI(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=AI(e,this._firestore),n=new SI(this._firestore);return super.get(e).then((e=>new mI(this._firestore,n,t._key,e._document,new pI(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){qf=e}(Ir),gr(new Nn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new cE(new op(e.getProvider("auth-internal")),new cp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ep(Zf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hm(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Nr(Vf,"4.6.0",e),Nr(Vf,"4.6.0","esm2017")}();function OI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ep("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function RI(){if("undefined"===typeof Uint8Array)throw new ep("unimplemented","Uint8Arrays are not available in this environment.")}function LI(){if("undefined"==typeof atob)throw new ep("unimplemented","Blobs are unavailable in Firestore in this environment.")}class FI{constructor(e){this._delegate=e}static fromBase64String(e){return LI(),new FI(yE.fromBase64String(e))}static fromUint8Array(e){return RI(),new FI(yE.fromUint8Array(e))}toBase64(){return LI(),this._delegate.toBase64()}toUint8Array(){return RI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class BI{enableIndexedDbPersistence(e,t){return function(e,t){vE(e=G_(e,cE));const n=uE(e);if(n._uninitializedComponentsProvider)throw new ep(Zf.FAILED_PRECONDITION,"SDK cache is already specified.");Gf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new b_;return hE(n,i,new y_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){vE(e=G_(e,cE));const t=uE(e);if(t._uninitializedComponentsProvider)throw new ep(Zf.FAILED_PRECONDITION,"SDK cache is already specified.");Gf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new b_;return hE(t,r,new w_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ep(Zf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new tp;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Lp.D())return Promise.resolve();const t=e+"main";await Lp.delete(t)}(Xb(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class UI{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Gf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$_(this._delegate,e,t,n)}enableNetwork(){return pE(this._delegate)}disableNetwork(){return mE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Y_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return fE(this._delegate)}onSnapshotsInSync(e){return TI(this._delegate,e)}get app(){if(!this._appCompat)throw new ep("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ex(this,nE(this._delegate,e))}catch(Vx){throw HI(Vx,"collection()","Firestore.collection()")}}doc(e){try{return new WI(this,rE(this._delegate,e))}catch(Vx){throw HI(Vx,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new JI(this,function(e,t){if(e=G_(e,J_),q_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ep(Zf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Z_(e,null,function(e){return new Qg(yp.emptyPath(),e)}(t))}(this._delegate,e))}catch(Vx){throw HI(Vx,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=G_(e,cE);const r=Object.assign(Object.assign({},PI),n);return function(e){if(e.maxAttempts<1)throw new ep(Zf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new tp;return e.asyncQueue.enqueueAndForget((async()=>{const i=await L_(e);new I_(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(uE(e),(n=>t(new MI(e,n))),r)}(this._delegate,(t=>e(new zI(this,t))))}batch(){return uE(this._delegate),new qI(new NI(this._delegate,(e=>CI(this._delegate,e))))}loadBundle(e){return function(e,t){const n=uE(e=G_(e,cE)),r=new lE;return U_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return gE(this._delegate,e).then((e=>e?new JI(this,e):null))}}class VI extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new FI(new yE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return WI.forKey(t,this.firestore,null)}}class zI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}get(e){const t=tx(e);return this._delegate.get(t).then((e=>new QI(this._firestore,new mI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=tx(e);return n?(OI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=tx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=tx(e);return this._delegate.delete(t),this}}class qI{constructor(e){this._delegate=e}set(e,t,n){const r=tx(e);return n?(OI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=tx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=tx(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class YI{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new gI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XI(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=YI.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new YI(e,new VI(e),t),r.set(t,i)),i}}YI.INSTANCES=new WeakMap;class WI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ep("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new WI(t,new eE(t._delegate,n,new Sp(e)))}static forKey(e,t,n){return new WI(t,new eE(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new ex(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ex(this.firestore,nE(this._delegate,e))}catch(Vx){throw HI(Vx,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Pn(e))instanceof eE&&iE(this._delegate,e)}set(e,t){t=OI("DocumentReference.set",t);try{return t?EI(this._delegate,e,t):EI(this._delegate,e)}catch(Vx){throw HI(Vx,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?II(this._delegate,e):II(this._delegate,e,t,...r)}catch(Vx){throw HI(Vx,"updateDoc()","DocumentReference.update()")}}delete(){return CI(G_((e=this._delegate).firestore,cE),[new ny(e._key,qv.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=KI(t),i=GI(t,(e=>new QI(this.firestore,new mI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return xI(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?kI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G_(e,eE);const t=G_(e.firestore,cE);return j_(uE(t),e._key,{source:"server"}).then((n=>DI(t,e,n)))}(this._delegate):bI(this._delegate),t.then((e=>new QI(this.firestore,new mI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new WI(this.firestore,e?this._delegate.withConverter(YI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function HI(e,t,n){return e.message=e.message.replace(t,n),e}function KI(e){for(const t of e)if("object"===typeof t&&!jI(t))return t;return{}}function GI(e,t){var n,r;let i;return i=jI(e[0])?e[0]:jI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class QI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new WI(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wI(this._delegate,e._delegate)}}class XI extends QI{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Xf(),t}}class JI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}where(e,t,n){try{return new JI(this.firestore,eI(this._delegate,function(e,t,n){const r=t,i=XE("where",e);return tI._create(i,r,n)}(e,t,n)))}catch(Vx){throw HI(Vx,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new JI(this.firestore,eI(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=XE("orderBy",e);return rI._create(n,t)}(e,t)))}catch(Vx){throw HI(Vx,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new JI(this.firestore,eI(this._delegate,(Q_("limit",t=e),iI._create("limit",t,"F"))))}catch(t){throw HI(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new JI(this.firestore,eI(this._delegate,(Q_("limitToLast",t=e),iI._create("limitToLast",t,"L"))))}catch(t){throw HI(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new JI(this.firestore,eI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oI._create("startAt",t,!0)}(...arguments)))}catch(Vx){throw HI(Vx,"startAt()","Query.startAt()")}}startAfter(){try{return new JI(this.firestore,eI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oI._create("startAfter",t,!1)}(...arguments)))}catch(Vx){throw HI(Vx,"startAfter()","Query.startAfter()")}}endBefore(){try{return new JI(this.firestore,eI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aI._create("endBefore",t,!1)}(...arguments)))}catch(Vx){throw HI(Vx,"endBefore()","Query.endBefore()")}}endAt(){try{return new JI(this.firestore,eI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aI._create("endAt",t,!0)}(...arguments)))}catch(Vx){throw HI(Vx,"endAt()","Query.endAt()")}}isEqual(e){return oE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_I(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G_(e,Z_);const t=G_(e.firestore,cE),n=uE(t),r=new SI(t);return B_(n,e._query,{source:"server"}).then((n=>new vI(t,r,e,n)))}(this._delegate):function(e){e=G_(e,Z_);const t=G_(e.firestore,cE),n=uE(t),r=new SI(t);return JE(e._query),B_(n,e._query).then((n=>new vI(t,r,e,n)))}(this._delegate),t.then((e=>new ZI(this.firestore,new vI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=KI(t),i=GI(t,(e=>new ZI(this.firestore,new vI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return xI(this._delegate,r,i)}withConverter(e){return new JI(this.firestore,e?this._delegate.withConverter(YI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class $I{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new XI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new JI(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new XI(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new $I(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new XI(this._firestore,n))}))}isEqual(e){return wI(this._delegate,e._delegate)}}class ex extends JI{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new WI(this.firestore,e):null}doc(e){try{return new WI(this.firestore,void 0===e?rE(this._delegate):rE(this._delegate,e))}catch(Vx){throw HI(Vx,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=G_(e.firestore,cE),r=rE(e),i=hI(e.converter,t);return CI(n,[DE(CE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new WI(this.firestore,e)))}isEqual(e){return iE(this._delegate,e._delegate)}withConverter(e){return new ex(this.firestore,e?this._delegate.withConverter(YI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tx(e){return G_(e,eE)}class nx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new wE(...t)}static documentId(){return new nx(bp.keyField().canonicalString())}isEqual(e){return(e=Pn(e))instanceof wE&&this._delegate._internalPath.isEqual(e._internalPath)}}class rx{constructor(e){this._delegate=e}static serverTimestamp(){const e=new AE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new rx(e)}static delete(){const e=new PE("deleteField");return e._methodName="FieldValue.delete",new rx(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ME("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new rx(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OE("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new rx(e)}static increment(e){const t=new RE("increment",e);return t._methodName="FieldValue.increment",new rx(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ix={Firestore:UI,GeoPoint:SE,Timestamp:mp,Blob:FI,Transaction:zI,WriteBatch:qI,DocumentReference:WI,DocumentSnapshot:QI,Query:JI,QueryDocumentSnapshot:XI,QuerySnapshot:ZI,CollectionReference:ex,FieldPath:nx,FieldValue:rx,setLogLevel:function(e){var t;t=e,Yf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Nn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ix)))}(e,((e,t)=>new UI(e,t,new BI))),e.registerVersion("@firebase/firestore-compat","0.3.29")}(Xr);const ox=function(){let[e,t]=(0,r.useState)("Show");const[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),f=Ke();return(0,Ct.jsx)(Ct.Fragment,{children:(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("div",{className:"leftContainer2",children:[(0,Ct.jsx)("p",{id:"leftArrow2",children:"\u2190"}),(0,Ct.jsx)(Et,{to:"/",id:"BackToHome2",children:" Home"}),(0,Ct.jsx)("img",{src:Tt,id:"Logo2",alt:"Logo"}),(0,Ct.jsx)("h1",{id:"newHere2",children:"Already a Member?"}),(0,Ct.jsx)("p",{id:"SignUpText2",children:"Sign In to Crimson Royale!"}),(0,Ct.jsx)("p",{className:"offers2",children:"-Save Your Favorite Dishes"}),(0,Ct.jsx)("p",{className:"offers2",children:"-Get Recommendations, Offers"}),(0,Ct.jsx)("p",{className:"offers2",children:"& Much More!"}),(0,Ct.jsx)(Et,{to:"/LoginPage",children:(0,Ct.jsx)("button",{type:"submit",id:"signUpButton2",children:"Sign In"})})]}),(0,Ct.jsxs)("div",{className:"rightContainer2",children:[(0,Ct.jsx)("h1",{id:"loginText2",children:"Create Account"}),(0,Ct.jsx)("p",{id:"loginUsingSocial2",children:"Sign Up using social networks"}),(0,Ct.jsxs)("div",{id:"socialIcons2",children:[(0,Ct.jsx)("a",{href:"/",className:"fa fa-google",children:" "}),(0,Ct.jsx)("a",{href:"/",className:"fa fa-facebook",children:" "})]}),(0,Ct.jsx)("p",{id:"loginUsingSocial2",children:"OR"}),(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ac.auth().createUserWithEmailAndPassword(c,n);alert("Account Created Successfully!"),f("/");const t=e.user.uid;await ac.firestore().collection("Users").doc(t).set({name:s,email:c}),alert("Firebase!")}catch(t){h(t.message)}},children:[(0,Ct.jsx)("div",{id:"nameID2",children:(0,Ct.jsx)("input",{type:"text",placeholder:"Name",value:s,onChange:e=>l(e.target.value),name:"name",required:!0,id:"nameInput2"})}),(0,Ct.jsx)("div",{id:"usernameID",children:(0,Ct.jsx)("input",{type:"text",placeholder:"Email",value:c,onChange:e=>u(e.target.value),name:"username",required:!0,id:"usernameInput2"})}),(0,Ct.jsxs)("div",{id:"passwordID",children:[(0,Ct.jsx)("input",{type:o?"text":"password",placeholder:"Password",name:"password",required:!0,id:"passwordInput2",value:n,onChange:e=>i(e.target.value)}),(0,Ct.jsx)("button",{type:"button",className:"toggleButton",onClick:()=>{t(!0===o?"Show":"Hide"),a((e=>!e))},children:e})]}),(0,Ct.jsx)("button",{type:"submit",id:"submitButton2",children:"Sign Up"}),d&&(0,Ct.jsx)("p",{className:"error-message",children:d})]}),(0,Ct.jsx)("img",{src:sc,alt:"Admin Icon",id:"AdminIcon2"}),(0,Ct.jsx)(Et,{to:"/AdminPage",id:"adminButton2",children:"Admin Login"})]})]})})},ax=n.p+"static/media/AndroidStockImage.0695421c2a7e3862b904.png",sx=n.p+"static/media/CrimsonRoyaleQR.190297f03d00bc824882.png",lx=n.p+"static/media/muchMore.130d6aab603876c62964.png";const cx=function(){return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(Dt,{}),(0,Ct.jsxs)("div",{id:"AdContainerTop",children:[(0,Ct.jsx)("div",{id:"DownloadLeft",children:(0,Ct.jsx)("img",{src:ax,alt:"Android Stock",id:"AndroidImage"})}),(0,Ct.jsxs)("div",{id:"DownloadRight",children:[(0,Ct.jsx)("h1",{id:"DownloadTheApp",children:"Download Our App!"}),(0,Ct.jsx)("p",{className:"AppAd",children:"Easy to use: A breeze to navigate, even for first-timers."}),(0,Ct.jsx)("p",{className:"AppAd",children:"Fast & Flexible: Book a table in seconds, no matter the time or day."}),(0,Ct.jsx)("p",{className:"AppAd",children:"Your Dining Companion: Explore cuisines, find hidden gems, and discover new favorites - all in one place!"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{className:"AppAd",children:"Download the Crimson Royale App today and enjoy a stress-free dining experience!"}),(0,Ct.jsxs)("div",{id:"DownloadImages",children:[(0,Ct.jsx)("img",{src:sx,alt:"QR Code",id:"CrimsonRoyaleQR"}),(0,Ct.jsx)("a",{href:"https://drive.usercontent.google.com/u/0/uc?id=10ou1fGbqjmzQ6VsA0y2OPdXgtcZ4JSPM&export=download&authuser=0",target:"_blank",rel:"noreferrer",alt:"Drive Link",id:"DownloadButton",children:"Download The App"})]})]})]}),(0,Ct.jsxs)("div",{id:"AdContainerMid",children:[(0,Ct.jsxs)("div",{id:"DownloadLeft1",children:[(0,Ct.jsx)("h1",{id:"DownloadTheApp",children:"Exclusive Deals!"}),(0,Ct.jsx)("p",{className:"AppAd",children:"Enjoy App Only Discounts. \u2705"}),(0,Ct.jsx)("p",{className:"AppAd",children:"Skip the Waitlist: Reserve your table with ease and avoid the wait at popular spots. \u2705"}),(0,Ct.jsx)("p",{className:"AppAd",children:"Exclusive Perks: Be the first to know about upcoming promotions and special events. \u2705"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{id:"DiscountAd",children:"Enter the Following Code to Enjoy a 5% Discount on your First Booking!"}),(0,Ct.jsx)("p",{id:"DiscountButton",children:"5CRPR"})]}),(0,Ct.jsx)("div",{id:"DownloadRight1",children:(0,Ct.jsx)("h1",{id:"percentAge",children:"%"})})]}),(0,Ct.jsxs)("div",{id:"AdContainerBottom",children:[(0,Ct.jsx)("div",{id:"DownloadLeft2",children:(0,Ct.jsx)("img",{src:lx,alt:"Much More",id:"muchMore"})}),(0,Ct.jsxs)("div",{id:"DownloadRight2",children:[(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("h1",{id:"MuchMore",children:"& Much More!"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{className:"AppAd",children:"Chatbot for personal recommendations!"}),(0,Ct.jsx)("p",{className:"AppAd",children:"Push Notifications!"}),(0,Ct.jsx)("p",{className:"AppAd",children:"Personalized recommendations for your taste palette."}),(0,Ct.jsx)("br",{})]})]}),(0,Ct.jsx)(Ft,{})]})};var ux={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dx=r.createContext&&r.createContext(ux),hx=["attr","size","title"];function fx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},px.apply(this,arguments)}function mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mx(Object(n),!0).forEach((function(t){vx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yx(e){return e&&e.map(((e,t)=>r.createElement(e.tag,gx({key:t},e.attr),yx(e.child))))}function wx(e){return t=>r.createElement(bx,px({attr:gx({},e.attr)},t),yx(e.child))}function bx(e){var t=t=>{var n,{attr:i,size:o,title:a}=e,s=fx(e,hx),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",px({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:gx(gx({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==dx?r.createElement(dx.Consumer,null,(e=>t(e))):t(ux)}function Sx(e){return wx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function kx(e){return wx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(e)}Xr.initializeApp({apiKey:"AIzaSyAhsGPnedTOxo9XAH_5c4a8S_xVih6xwgw",authDomain:"mprprojectsem4.firebaseapp.com",projectId:"mprprojectsem4",storageBucket:"mprprojectsem4.appspot.com",messagingSenderId:"722204704573",appId:"1:722204704573:web:c06f0ae763c773c9b1cf54"});const _x=Xr.firestore();const Ex=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)("");var o;const a=Ke();return(async()=>{const e=rE(nE(_x,"Admin"),"Staff"),t=await bI(e);o=t.data(),t.exists?console.log("Admin Data Exists!"):console.log("Does not exist!")})(),(0,Ct.jsxs)("div",{id:"AdminContainer",children:[(0,Ct.jsx)("i",{className:"gg-arrow-left"}),(0,Ct.jsx)(Et,{to:"/",id:"AdminToHome",children:" Home"}),(0,Ct.jsx)("img",{src:Tt,alt:"Main Logo",id:"AdminLogo"}),(0,Ct.jsx)("div",{className:"wrapper",children:(0,Ct.jsxs)("form",{onSubmit:function(){var t=0;for(let r=0;r<o.adminID.length;r++)o.adminID[r]===Number(n)&&o.adminNames[r]===e&&(t=1);1===t?(alert("Logged In Successfully!"),a("/AdminBooking")):alert("Invalid Admin ID! Please try again.")},children:[(0,Ct.jsx)("h1",{children:"Admin Login"}),(0,Ct.jsxs)("div",{className:"input-box",children:[(0,Ct.jsx)("input",{type:"text",placeholder:"Enter Admin Username",required:!0,value:e,onChange:e=>t(e.target.value)}),(0,Ct.jsx)(kx,{className:"icon"})]}),(0,Ct.jsxs)("div",{className:"input-box",children:[(0,Ct.jsx)("input",{type:"password",placeholder:"Enter Admin ID",maxLength:"16",required:!0,value:n,onChange:e=>i(e.target.value)}),(0,Ct.jsx)(Sx,{className:"icon"})]}),(0,Ct.jsx)("button",{type:"submit",children:"Login"})]})})]})};var Ix=n(1899),xx=n.n(Ix);const Tx=n.p+"static/media/Layout.8cca54ba438ed3490cb4.png";const Cx=function(){const[e,t]=(0,r.useState)(new Date);var n;const i=async e=>{const t=rE(nE(_x,"Tables"),e),r=await bI(t),i=new Date;var o=100*i.getHours()+i.getMinutes(),a="AM";if(o>=1200&&(o-=1200,a="PM"),r.exists)if(void 0!==(n=r.data())){const e=document.getElementsByClassName("TwoSeat");for(let f=0;f<n.TwoSeatTime.length;f++){let t=n.TwoSeatTime[f];if("AVAILABLE"===t)e[f].style.backgroundColor="seagreen";else{var s=t.split(""),l=s[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11];l=Number(l),u=Number(u),c===d?a===c&&o>=l&&o<=u?(e[f].style.backgroundColor="red",e[f].disabled="true"):e[f].style.backgroundColor="seagreen":e[f].style.backgroundColor=a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen"}}const t=document.getElementsByClassName("ThreeSeat");for(let f=0;f<n.ThreeSeatTime.length;f++){let e=n.ThreeSeatTime[f];"AVAILABLE"===e?t[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),t[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}const r=document.getElementsByClassName("FourSeat");for(let f=0;f<n.FourSeatTime.length;f++){let e=n.FourSeatTime[f];"AVAILABLE"===e?r[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),r[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}const i=document.getElementsByClassName("FiveSeat");for(let f=0;f<n.FiveSeatTime.length;f++){let e=n.FiveSeatTime[f];"AVAILABLE"===e?i[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),i[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}const h=document.getElementsByClassName("EightSeat");for(let f=0;f<n.EightSeatTime.length;f++){let e=n.EightSeatTime[f];"AVAILABLE"===e?h[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),h[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}}else{const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="seagreen";const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="seagreen";const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="seagreen";const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="seagreen";const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="seagreen"}else console.log("Does not exist!")};function o(){alert("Clicked!")}const a=e.toString().split(" "),s=a[1]+a[2]+a[3];return i(s),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Dt,{}),(0,Ct.jsxs)("div",{id:"BookingContainer1",children:[(0,Ct.jsx)("div",{style:{marginLeft:"38%"},children:(0,Ct.jsxs)("p",{id:"BookingDatep",children:["Booking Date : ",(0,Ct.jsx)(xx(),{id:"DatePicker1",selected:e,onChange:e=>(async e=>{t(e);const r=e.toString().split(" "),o=r[1]+r[2]+r[3];i(o);const a=rE(nE(_x,"Tables"),o),s=await bI(a);n=s.data();const l=[],c=document.getElementsByClassName("TwoSeat"),u=[],d=document.getElementsByClassName("ThreeSeat"),h=[],f=document.getElementsByClassName("FourSeat"),p=[],m=document.getElementsByClassName("FiveSeat"),g=[],v=document.getElementsByClassName("EightSeat");if(void 0===n){for(let e=0;e<c.length;e++)l.push("AVAILABLE");for(let e=0;e<d.length;e++)u.push("AVAILABLE");for(let e=0;e<f.length;e++)h.push("AVAILABLE");for(let e=0;e<m.length;e++)p.push("AVAILABLE");for(let e=0;e<v.length;e++)g.push("AVAILABLE");try{await ac.firestore().collection("Tables").doc(o).set({TwoSeatTime:l,ThreeSeatTime:u,FourSeatTime:h,FiveSeatTime:p,EightSeatTime:g})}catch(y){alert(y.message)}}})(e)})]})}),(0,Ct.jsxs)("div",{id:"NumberOfPeople",children:[(0,Ct.jsx)("label",{id:"NoOfPeople",children:"Number of People : "}),(0,Ct.jsxs)("select",{id:"People",onChange:function(){var e=document.querySelector("#People").value;if("2"===e||"1"===e){const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="seagreen",e[o].disabled=!1;const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="gray",t[o].disabled=!0;const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="gray",n[o].disabled=!0;const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="gray",r[o].disabled=!0;const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="gray",i[o].disabled=!0}if("3"===e){const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="gray",e[o].disabled=!0;const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="seagreen",t[o].disabled=!1;const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="gray",n[o].disabled=!0;const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="gray",r[o].disabled=!0;const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="gray",i[o].disabled=!0}if("4"===e){const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="gray",e[o].disabled=!0;const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="gray",t[o].disabled=!0;const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="seagreen",n[o].disabled=!1;const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="gray",r[o].disabled=!0;const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="gray",i[o].disabled=!0}if("5"===e){const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="gray",e[o].disabled=!0;const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="gray",t[o].disabled=!0;const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="gray",n[o].disabled=!0;const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="seagreen",r[o].disabled=!1;const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="gray",i[o].disabled=!0}if("6"===e||"7"===e||"8"===e){const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="gray",e[o].disabled=!0;const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="gray",t[o].disabled=!0;const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="gray",n[o].disabled=!0;const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="gray",r[o].disabled=!0;const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="seagreen",i[o].disabled=!1}},children:[(0,Ct.jsx)("option",{value:"1",children:"1"}),(0,Ct.jsx)("option",{value:"2",children:"2"}),(0,Ct.jsx)("option",{value:"3",children:"3"}),(0,Ct.jsx)("option",{value:"4",children:"4"}),(0,Ct.jsx)("option",{value:"5",children:"5"}),(0,Ct.jsx)("option",{value:"6",children:"6"}),(0,Ct.jsx)("option",{value:"7",children:"7"}),(0,Ct.jsx)("option",{value:"8",children:"8"})]})]}),(0,Ct.jsxs)("div",{id:"BookingLayout",children:[(0,Ct.jsx)("img",{src:Tx,alt:"Restaurant Layout",id:"LayoutImage"}),(0,Ct.jsxs)(Et,{to:"/Receipt",children:[(0,Ct.jsx)("button",{className:"FourSeat",id:"FourSeat1",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FourSeat",id:"FourSeat2",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FourSeat",id:"FourSeat3",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FourSeat",id:"FourSeat4",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FourSeat",id:"FourSeat5",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FourSeat",id:"FourSeat6",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"TwoSeat",id:"TwoSeat1",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"TwoSeat",id:"TwoSeat2",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FiveSeat",id:"FiveSeat1",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"FiveSeat",id:"FiveSeat2",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"EightSeat",id:"EightSeat1",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"ThreeSeat",id:"ThreeSeat1",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"ThreeSeat",id:"ThreeSeat2",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"ThreeSeat",id:"ThreeSeat3",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"ThreeSeat",id:"ThreeSeat4",onClick:o,children:"\u200e"}),(0,Ct.jsx)("button",{className:"ThreeSeat",id:"ThreeSeat5",onClick:o,children:"\u200e"})]})]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{id:"FourTablePointer",children:"Four Seat(s) Table ---------"}),(0,Ct.jsx)("p",{id:"TwoTablePointer",children:"Two Seat(s) Table -------"}),(0,Ct.jsx)("p",{id:"TwoTablePointerLines",children:"----------------------"}),(0,Ct.jsx)("p",{id:"TwoTablePointerArrow",children:"^"}),(0,Ct.jsx)("p",{id:"BarPointer",children:"Bar -------"}),(0,Ct.jsx)("p",{id:"BarPointerLines",children:"-----------"}),(0,Ct.jsx)("p",{id:"FiveTablePointer",children:"----Five Seat(s) Table"}),(0,Ct.jsx)("p",{id:"FiveTablePointerLines",children:"-------------------"}),(0,Ct.jsx)("p",{id:"EightTablePointer",children:"----Eight Seat(s) Table"}),(0,Ct.jsx)("p",{id:"EightTablePointerLines",children:"-------------------"}),(0,Ct.jsx)("p",{id:"ThreeTablePointer",children:"----Three Seat(s) Table"}),(0,Ct.jsx)("p",{id:"ThreeTablePointerLines",children:"---"})]}),(0,Ct.jsx)(Ft,{})]})};const Dx=function(){const[e,t]=(0,r.useState)(new Date);var n;let i,o=0;const a=async e=>{const t=rE(nE(_x,"Tables"),e),r=await bI(t),i=new Date;var o=100*i.getHours()+i.getMinutes(),a="AM";if(o>=1200&&(o-=1200,a="PM"),r.exists)if(void 0!==(n=r.data())){const e=document.getElementsByClassName("TwoSeat");for(let f=0;f<n.TwoSeatTime.length;f++){let t=n.TwoSeatTime[f];if("AVAILABLE"===t)e[f].style.backgroundColor="seagreen";else{var s=t.split(""),l=s[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11];l=Number(l),u=Number(u),c===d?a===c&&o>=l&&o<=u?(console.log("red"),e[f].style.backgroundColor="red"):e[f].style.backgroundColor="seagreen":e[f].style.backgroundColor=a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen"}}const t=document.getElementsByClassName("ThreeSeat");for(let f=0;f<n.ThreeSeatTime.length;f++){let e=n.ThreeSeatTime[f];"AVAILABLE"===e?t[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),t[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}const r=document.getElementsByClassName("FourSeat");for(let f=0;f<n.FourSeatTime.length;f++){let e=n.FourSeatTime[f];"AVAILABLE"===e?r[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),r[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}const i=document.getElementsByClassName("FiveSeat");for(let f=0;f<n.FiveSeatTime.length;f++){let e=n.FiveSeatTime[f];"AVAILABLE"===e?i[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),i[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}const h=document.getElementsByClassName("EightSeat");for(let f=0;f<n.EightSeatTime.length;f++){let e=n.EightSeatTime[f];"AVAILABLE"===e?h[f].style.backgroundColor="seagreen":(l=(s=e.split(""))[0]+s[1]+s[2]+s[3],c=s[4]+s[5],u=s[6]+s[7]+s[8]+s[9],d=s[10]+s[11],l=Number(l),u=Number(u),h[f].style.backgroundColor=c===d?a===c&&o>=l&&o<=u?"red":"seagreen":a===c?o>=l?"red":"seagreen":o<=u?"red":"seagreen")}}else{const e=document.getElementsByClassName("TwoSeat");for(let o=0;o<e.length;o++)e[o].style.backgroundColor="seagreen";const t=document.getElementsByClassName("ThreeSeat");for(let o=0;o<t.length;o++)t[o].style.backgroundColor="seagreen";const n=document.getElementsByClassName("FourSeat");for(let o=0;o<n.length;o++)n[o].style.backgroundColor="seagreen";const r=document.getElementsByClassName("FiveSeat");for(let o=0;o<r.length;o++)r[o].style.backgroundColor="seagreen";const i=document.getElementsByClassName("EightSeat");for(let o=0;o<i.length;o++)i[o].style.backgroundColor="seagreen"}else console.log("Does not exist!")};function s(e){i=e.target.id;const t=document.getElementById("AdminTableSubmit"),n=document.getElementById("ReservedButton"),r=document.getElementById("AvailableButton"),o=document.getElementById("TimeSelectMenus");n.style.pointerEvents="all",n.style.backgroundColor="red",r.style.pointerEvents="all",r.style.backgroundColor="seagreen",t.style.pointerEvents="none",o.style.pointerEvents="all",o.style.boxShadow="0px 10px 30px seagreen";document.getElementById("mainDialog").showModal()}const l=e.toString().split(" "),c=l[1]+l[2]+l[3];function u(){document.getElementById("mainDialog").close()}return a(c),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Dt,{}),(0,Ct.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=e.toString().split(" "),s=r[1]+r[2]+r[3];alert(s);const l=document.getElementById(i);const c=document.querySelector("#HourSelect1").value+document.querySelector("#MinuteSelect1").value+document.querySelector("#AMPMSelect1").value+(document.querySelector("#HourSelect2").value+document.querySelector("#MinuteSelect2").value+document.querySelector("#AMPMSelect2").value),d=rE(nE(_x,"Tables"),s),h=await bI(d);n=h.data();const f=[],p=document.getElementsByClassName("TwoSeat"),m=[],g=document.getElementsByClassName("ThreeSeat"),v=[],y=document.getElementsByClassName("FourSeat"),w=[],b=document.getElementsByClassName("FiveSeat"),S=[],k=document.getElementsByClassName("EightSeat");if(void 0!==n){for(let e=0;e<p.length;e++)p[e]===l?1===o?f.push("AVAILABLE"):f.push(c):void 0!==n.TwoSeatTime[e]?f.push(n.TwoSeatTime[e]):f.push("AVAILABLE");for(let e=0;e<g.length;e++)g[e]===l?1===o?m.push("AVAILABLE"):m.push(c):void 0!==n.ThreeSeatTime[e]?m.push(n.ThreeSeatTime[e]):m("AVAILABLE");for(let e=0;e<y.length;e++)y[e]===l?1===o?v.push("AVAILABLE"):v.push(c):void 0!==n.FourSeatTime[e]?v.push(n.FourSeatTime[e]):v.push("AVAILABLE");for(let e=0;e<b.length;e++)b[e]===l?1===o?w.push("AVAILABLE"):w.push(c):void 0!==n.FiveSeatTime[e]?w.push(n.FiveSeatTime[e]):w.push("AVAILABLE");for(let e=0;e<k.length;e++)k[e]===l?1===o?S.push("AVAILABLE"):S.push(c):void 0!==n.EightSeatTime[e]?S.push(n.EightSeatTime[e]):S.push("AVAILABLE")}else alert("Database Error!");try{await ac.firestore().collection("Tables").doc(s).set({TwoSeatTime:f,ThreeSeatTime:m,FourSeatTime:v,FiveSeatTime:w,EightSeatTime:S}),alert("Data Saved Successfully!"),a(s),u()}catch(_){alert(_.message)}},children:[(0,Ct.jsxs)("div",{id:"BookingContainer",children:[(0,Ct.jsx)("br",{}),(0,Ct.jsx)("div",{style:{marginLeft:"37%"},children:(0,Ct.jsxs)("p",{id:"BookingDatep",children:["Booking Date : ",(0,Ct.jsx)(xx(),{id:"DatePicker1",selected:e,onChange:e=>(async e=>{t(e);const r=e.toString().split(" "),i=r[1]+r[2]+r[3];a(i);const o=rE(nE(_x,"Tables"),i),s=await bI(o);n=s.data();const l=[],c=document.getElementsByClassName("TwoSeat"),u=[],d=document.getElementsByClassName("ThreeSeat"),h=[],f=document.getElementsByClassName("FourSeat"),p=[],m=document.getElementsByClassName("FiveSeat"),g=[],v=document.getElementsByClassName("EightSeat");if(void 0===n){for(let e=0;e<c.length;e++)l.push("AVAILABLE");for(let e=0;e<d.length;e++)u.push("AVAILABLE");for(let e=0;e<f.length;e++)h.push("AVAILABLE");for(let e=0;e<m.length;e++)p.push("AVAILABLE");for(let e=0;e<v.length;e++)g.push("AVAILABLE");try{await ac.firestore().collection("Tables").doc(i).set({TwoSeatTime:l,ThreeSeatTime:u,FourSeatTime:h,FiveSeatTime:p,EightSeatTime:g}),alert("Data Initialized Successfully!")}catch(y){alert(y.message)}}})(e)})]})}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsxs)("div",{id:"BookingLayout",children:[(0,Ct.jsx)("img",{src:Tx,alt:"Restaurant Layout",id:"LayoutImage"}),(0,Ct.jsx)("button",{type:"button",className:"FourSeat",id:"FourSeat1",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FourSeat",id:"FourSeat2",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FourSeat",id:"FourSeat3",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FourSeat",id:"FourSeat4",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FourSeat",id:"FourSeat5",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FourSeat",id:"FourSeat6",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"TwoSeat",id:"TwoSeat1",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"TwoSeat",id:"TwoSeat2",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FiveSeat",id:"FiveSeat1",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"FiveSeat",id:"FiveSeat2",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"EightSeat",id:"EightSeat1",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"ThreeSeat",id:"ThreeSeat1",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"ThreeSeat",id:"ThreeSeat2",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"ThreeSeat",id:"ThreeSeat3",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"ThreeSeat",id:"ThreeSeat4",onClick:e=>s(e),children:"\u200e"}),(0,Ct.jsx)("button",{type:"button",className:"ThreeSeat",id:"ThreeSeat5",onClick:e=>s(e),children:"\u200e"})]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{id:"FourTablePointer",children:"Four Seat(s) Table ---------"}),(0,Ct.jsx)("p",{id:"TwoTablePointer",children:"Two Seat(s) Table -------"}),(0,Ct.jsx)("p",{id:"TwoTablePointerLines",children:"----------------------"}),(0,Ct.jsx)("p",{id:"TwoTablePointerArrow",children:"^"}),(0,Ct.jsx)("p",{id:"BarPointer",children:"Bar -------"}),(0,Ct.jsx)("p",{id:"BarPointerLines",children:"-----------"}),(0,Ct.jsx)("p",{id:"FiveTablePointer",children:"----Five Seat(s) Table"}),(0,Ct.jsx)("p",{id:"FiveTablePointerLines",children:"-------------------"}),(0,Ct.jsx)("p",{id:"EightTablePointer",children:"----Eight Seat(s) Table"}),(0,Ct.jsx)("p",{id:"EightTablePointerLines",children:"-------------------"}),(0,Ct.jsx)("p",{id:"ThreeTablePointer",children:"----Three Seat(s) Table"}),(0,Ct.jsx)("p",{id:"ThreeTablePointerLines",children:"---"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{})]}),(0,Ct.jsxs)("dialog",{id:"mainDialog",children:[(0,Ct.jsx)("br",{}),(0,Ct.jsx)("button",{type:"button",onClick:u,id:"DialogCloseButton",children:"Close"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("button",{type:"button",id:"AvailableButton",onClick:e=>function(e){const t=e.target.id,n=document.getElementById(t),r=document.getElementById("ReservedButton"),i=document.getElementById("TimeSelectMenus"),a=document.getElementById("AdminTableSubmit");"rgb(46, 139, 87)"===window.getComputedStyle(n).backgroundColor&&"rgb(218, 165, 32)"!==window.getComputedStyle(r).backgroundColor?(n.style.backgroundColor="goldenrod",n.style.color="black",i.style.pointerEvents="none",i.style.boxShadow="0px 10px 30px red",o=1,a.style.pointerEvents="all"):(n.style.backgroundColor="seagreen",n.style.color="#f4f2f3",i.style.pointerEvents="all",i.style.boxShadow="0px 10px 30px seagreen",o=0)}(e),children:"Available"}),(0,Ct.jsx)("button",{type:"button",id:"ReservedButton",onClick:e=>function(e){const t=e.target.id,n=document.getElementById(t),r=document.getElementById("AvailableButton"),i=document.getElementById("AdminTableSubmit");"rgb(255, 0, 0)"===window.getComputedStyle(n).backgroundColor&&"rgb(218, 165, 32)"!==window.getComputedStyle(r).backgroundColor?(n.style.backgroundColor="goldenrod",n.style.color="black",i.style.pointerEvents="all"):(n.style.backgroundColor="red",n.style.color="#f4f2f3",i.style.pointerEvents="none")}(e),children:"Reserved"}),(0,Ct.jsxs)("div",{id:"TimeSelectMenus",children:[(0,Ct.jsxs)("div",{id:"TimeStarting",children:[(0,Ct.jsxs)("select",{id:"HourSelect1",className:"allSelects",children:[(0,Ct.jsx)("option",{value:"01",children:"01"}),(0,Ct.jsx)("option",{value:"02",children:"02"}),(0,Ct.jsx)("option",{value:"03",children:"03"}),(0,Ct.jsx)("option",{value:"04",children:"04"}),(0,Ct.jsx)("option",{value:"05",children:"05"}),(0,Ct.jsx)("option",{value:"06",children:"06"}),(0,Ct.jsx)("option",{value:"07",children:"07"}),(0,Ct.jsx)("option",{value:"08",children:"08"}),(0,Ct.jsx)("option",{value:"09",children:"09"}),(0,Ct.jsx)("option",{value:"10",children:"10"}),(0,Ct.jsx)("option",{value:"11",children:"11"}),(0,Ct.jsx)("option",{value:"12",children:"12"})]}),(0,Ct.jsxs)("select",{id:"MinuteSelect1",className:"allSelects",children:[(0,Ct.jsx)("option",{value:"00",children:"00"}),(0,Ct.jsx)("option",{value:"15",children:"15"}),(0,Ct.jsx)("option",{value:"30",children:"30"}),(0,Ct.jsx)("option",{value:"45",children:"45"})]}),(0,Ct.jsxs)("select",{id:"AMPMSelect1",className:"allSelects",children:[(0,Ct.jsx)("option",{value:"AM",children:"AM"}),(0,Ct.jsx)("option",{value:"PM",children:"PM"})]})]}),(0,Ct.jsx)("p",{style:{fontSize:"50px",margin:"0"},children:"TO"}),(0,Ct.jsxs)("div",{id:"TimeEnding",children:[(0,Ct.jsxs)("select",{id:"HourSelect2",className:"allSelects",children:[(0,Ct.jsx)("option",{value:"01",children:"01"}),(0,Ct.jsx)("option",{value:"02",children:"02"}),(0,Ct.jsx)("option",{value:"03",children:"03"}),(0,Ct.jsx)("option",{value:"04",children:"04"}),(0,Ct.jsx)("option",{value:"05",children:"05"}),(0,Ct.jsx)("option",{value:"06",children:"06"}),(0,Ct.jsx)("option",{value:"07",children:"07"}),(0,Ct.jsx)("option",{value:"08",children:"08"}),(0,Ct.jsx)("option",{value:"09",children:"09"}),(0,Ct.jsx)("option",{value:"10",children:"10"}),(0,Ct.jsx)("option",{value:"11",children:"11"}),(0,Ct.jsx)("option",{value:"12",children:"12"})]}),(0,Ct.jsxs)("select",{id:"MinuteSelect2",className:"allSelects",children:[(0,Ct.jsx)("option",{value:"00",children:"00"}),(0,Ct.jsx)("option",{value:"15",children:"15"}),(0,Ct.jsx)("option",{value:"30",children:"30"}),(0,Ct.jsx)("option",{value:"45",children:"45"})]}),(0,Ct.jsxs)("select",{id:"AMPMSelect2",className:"allSelects",children:[(0,Ct.jsx)("option",{value:"AM",children:"AM"}),(0,Ct.jsx)("option",{value:"PM",children:"PM"})]})]})]}),(0,Ct.jsx)("button",{type:"submit",id:"AdminTableSubmit",children:"Submit"})]})]}),(0,Ct.jsx)(Ft,{})]})},Px={_origin:"https://api.emailjs.com"},Nx=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Ax{constructor(e){this.status=e.status,this.text=e.responseText}}const Mx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",(e=>{let{target:t}=e;const n=new Ax(t);200===n.status||"OK"===n.text?r(n):i(n)})),o.addEventListener("error",(e=>{let{target:t}=e;i(new Ax(t))})),o.open("POST",Px._origin+e,!0),Object.keys(n).forEach((e=>{o.setRequestHeader(e,n[e])})),o.send(t)}))},Ox=(e,t,n,r)=>{const i=r||Px._userID;Nx(i,e,t);const o={lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n};return Mx("/api/v1.0/email/send",JSON.stringify(o),{"Content-type":"application/json"})},Rx=(e,t,n,r)=>{const i=r||Px._userID,o=(e=>{let t;if(t="string"===typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(n);Nx(i,e,t);const a=new FormData(o);return a.append("lib_version","3.2.0"),a.append("service_id",e),a.append("template_id",t),a.append("user_id",i),Mx("/api/v1.0/email/send-form",a)},Lx=()=>{const[e,t]=(0,r.useState)(!1);return(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Dt,{}),(0,Ct.jsx)("div",{class:"complaintContainer",children:(0,Ct.jsxs)("div",{class:"contact-form-container",children:[(0,Ct.jsx)("img",{id:"rest",src:Tt,alt:"Crimson Royale"}),(0,Ct.jsx)("h1",{children:"Contact Form"}),(0,Ct.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Rx("service_2pyvb74","template_suxavev",e.target,"kJvLFwNwr0b-DCRNg").then((n=>{console.log("Initial email sent!",n),t(!0),setTimeout((()=>t(!1)),3e3);const r={reply_to:e.target.useremail.value,to_name:e.target.name.value,message:"Thank you for contacting us! We will get back to you soon."};return Ox("service_uqzjpsz","template_uvmk8xm",r,"kJvLFwNwr0b-DCRNg")})).then((e=>{console.log("Confirmation email sent!",e),alert("Complaint has been sent successfully!")})).catch((e=>{console.error("Failed to send email",e),alert("Failed to send email. Please try again.")}))},children:[(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{for:"name",style:{textDecoration:"none"},children:"First Name"}),(0,Ct.jsx)("input",{type:"text",name:"name",class:"form-control"})]}),(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{children:"Last Name"}),(0,Ct.jsx)("input",{type:"text",name:"lname",class:"form-control"})]}),(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{children:"Email"}),(0,Ct.jsx)("input",{type:"email",name:"useremail",class:"form-control"})]}),(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{children:"Phone"}),(0,Ct.jsx)("input",{type:"tel",name:"namenum",class:"form-control"})]}),(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{children:"Message"}),(0,Ct.jsx)("textarea",{name:"message",rows:"4",class:"form-control"})]}),(0,Ct.jsx)("button",{type:"submit",class:"submit-button",children:"Send"})]})]})}),e&&(0,Ct.jsx)("div",{className:"modal",children:(0,Ct.jsxs)("div",{className:"modal-content",children:[(0,Ct.jsx)("span",{className:"close-button",onClick:()=>t(!1),children:"\xd7"}),(0,Ct.jsx)("p",{children:"Email Sent!"})]})}),(0,Ct.jsx)(Ft,{})]})};var Fx=n(5626);function jx(e){let{value:t,onClick:n}=e;return(0,Ct.jsx)("button",{className:"custom-date-input",onClick:n,children:t})}function Bx(){var e;const[t,n]=r.useState(new Date),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),h=null===(e=We().state)||void 0===e?void 0:e.id;return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(Dt,{}),(0,Ct.jsxs)("div",{style:{backgroundColor:"#42240c",margin:"5px",borderRadius:"10px"},children:[(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("form",{onSubmit:async e=>{e.preventDefault();const t=nE(_x,"Booking"),n=(()=>{const e="abcdef0123456789";let t="";const n=[8,13,18,23];for(let r=0;r<36;r++)n.includes(r)?t+="-":t+=e[Math.floor(16*Math.random())];return t})();d(n);const r=rE(t,n),o=await bI(r),s=document.querySelector("#tableFor").value,c=document.querySelector('input[name="payment-method"]:checked').value;if(o.exists())alert("Booking ID already exists, please try again.");else try{await ac.firestore().collection("Booking").doc(n).set({bookingName:i,bookingEmail:a,bookingPhone:l,numberPeople:s,paymentMethod:c,isCheckedIn:!1,isCheckedOut:!1,userId:h,ratingDone:!1}),alert("Details Confirmed! Table has been booked successfully.");document.getElementById("QRDialog").showModal()}catch(u){alert(u.message)}},children:(0,Ct.jsxs)("div",{id:"receipt_container",children:[(0,Ct.jsx)("div",{id:"textt",children:(0,Ct.jsx)("h1",{style:{textAlign:"center"},children:"Confirmation Details"})}),(0,Ct.jsxs)("div",{className:"small",children:[(0,Ct.jsxs)("div",{id:"one",children:[(0,Ct.jsx)("h2",{id:"BookingFor",children:"Booking For"}),(0,Ct.jsx)("input",{type:"text",id:"BookingName",placeholder:"Enter Your Name",value:i,onChange:e=>o(e.target.value)})]}),(0,Ct.jsxs)("div",{id:"two",children:[(0,Ct.jsx)("h1",{id:"ReceiptDate",children:"Date"}),(0,Ct.jsx)(xx(),{selected:t,onChange:e=>n(e),customInput:(0,Ct.jsx)(jx,{})})]})]}),(0,Ct.jsx)("div",{className:"bar1",children:(0,Ct.jsx)("h1",{children:(0,Ct.jsx)("pre",{children:"DETAILS                           INFORMATION "})})}),(0,Ct.jsxs)("div",{class:"bar2",children:[(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{for:"email",children:"E-Mail"}),(0,Ct.jsx)("input",{type:"email",id:"email",name:"email",value:a,onChange:e=>s(e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{for:"password",children:"Phone Number"}),(0,Ct.jsx)("input",{type:"name",id:"password",name:"password",value:l,onChange:e=>c(e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{class:"form-group",children:[(0,Ct.jsx)("label",{for:"tableFor",children:"Table For"}),(0,Ct.jsxs)("select",{id:"tableFor",name:"tableFor",children:[(0,Ct.jsx)("option",{value:"2",children:"2 people"}),(0,Ct.jsx)("option",{value:"3",children:"3 people"}),(0,Ct.jsx)("option",{value:"4",children:"4 people"}),(0,Ct.jsx)("option",{value:"5",children:"5 people"}),(0,Ct.jsx)("option",{value:"6+",children:"6+ people"})]})]})]}),(0,Ct.jsxs)("div",{class:"bar3",children:[(0,Ct.jsx)("h1",{id:"PaymentMethod",children:"HOW WOULD YOU LIKE TO PAY AT COUNTER?"}),(0,Ct.jsxs)("div",{class:"payment-option",children:[(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("label",{for:"credit-card",children:[(0,Ct.jsx)("input",{type:"radio",id:"credit-card",className:"ReceiptRadio",name:"payment-method",value:"Credit Card",checked:!0}),"Credit Card"]})}),(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("label",{for:"paypal",children:[(0,Ct.jsx)("input",{type:"radio",id:"paypal",className:"ReceiptRadio",name:"payment-method",value:"PayPal"}),"PayPal"]})}),(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("label",{for:"debit-card",children:[(0,Ct.jsx)("input",{type:"radio",id:"debit-card",className:"ReceiptRadio",name:"payment-method",value:"Debit Card"}),"Debit Card"]})})]}),(0,Ct.jsx)("button",{type:"submit",id:"SubmitPayment",children:"Submit Payment"})]})]})}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsxs)("dialog",{id:"QRDialog",children:[(0,Ct.jsx)("h2",{children:"Scan this at the Restaurant to Confirm Your Table."}),(0,Ct.jsx)(Fx.Ay,{value:u,style:{width:"80%",marginLeft:"10%"}}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("button",{type:"button",id:"QRClose",onClick:function(){document.getElementById("QRDialog").close()},children:"Close"})]})]}),(0,Ct.jsx)(Ft,{})]})}const Ux=function(e,t){return re({basename:null==t?void 0:t.basename,future:ct({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||ht(),routes:e,mapRouteProperties:lt,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,Ct.jsx)($t,{})},{path:"LoginPage",element:(0,Ct.jsx)(lc,{})},{path:"Menu",element:(0,Ct.jsx)(hc,{})},{path:"OurChefs",element:(0,Ct.jsx)(bc,{})},{path:"SignUpPage",element:(0,Ct.jsx)(ox,{})},{path:"DownloadApp",element:(0,Ct.jsx)(cx,{})},{path:"AdminPage",element:(0,Ct.jsx)(Ex,{})},{path:"BookATable",element:(0,Ct.jsx)(Cx,{})},{path:"AdminBooking",element:(0,Ct.jsx)(Dx,{})},{path:"ComplaintPage",element:(0,Ct.jsx)(Lx,{})},{path:"Receipt",element:(0,Ct.jsx)(Bx,{})}]);o.createRoot(document.getElementById("root")).render((0,Ct.jsx)(r.StrictMode,{children:(0,Ct.jsx)(bt,{router:Ux})}))})()})();
//# sourceMappingURL=main.96c41e9e.js.map